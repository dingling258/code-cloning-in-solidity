<clones>
<systeminfo processor="nicad6" system="source-code" granularity="functions-blind" threshold="30%" minlines="3" maxlines="2500"/>
<cloneinfo npcs="2525" npairs="21264"/>
<runinfo ncompares="1057046" cputime="48991"/>
<classinfo nclasses="273"/>

<class classid="1" nclones="8" nlines="3" similarity="100">
<source file="systems/source-code/AddressResolver.sol" startline="49" endline="51" pcid="4">
    function getAddress(bytes32 name) external view returns (address) {
        return repository[name];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="106" endline="108" pcid="508">
    function getIntValue(bytes32 record) external view returns (int) {
        return IntStorage[record];
    }
</source>
<source file="systems/source-code/CollateralManagerState.sol" startline="127" endline="129" pcid="346">
    function shortRateLastUpdated(bytes32 currency) internal view returns (uint) {
        return shortRatesLastUpdated[currency];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="54" endline="56" pcid="496">
    function getAddressValue(bytes32 record) external view returns (address) {
        return AddressStorage[record];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="93" endline="95" pcid="505">
    function getBooleanValue(bytes32 record) external view returns (bool) {
        return BooleanStorage[record];
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="111" endline="113" pcid="22">
    function cachedSynthDebt(bytes32 currencyKey) external view returns (uint) {
        return _cachedSynthDebt[currencyKey];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="28" endline="30" pcid="490">
    function getUIntValue(bytes32 record) external view returns (uint) {
        return UIntStorage[record];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="80" endline="82" pcid="502">
    function getBytes32Value(bytes32 record) external view returns (bytes32) {
        return Bytes32Storage[record];
    }
</source>
</class>

<class classid="2" nclones="2" nlines="7" similarity="80">
<source file="systems/source-code/AddressSetLib.sol" startline="10" endline="16" pcid="7">
    function contains(AddressSet storage set, address candidate) internal view returns (bool) {
        if (set.elements.length == 0) {
            return false;
        }
        uint index = set.indices[candidate];
        return index != 0 || set.elements[0] == candidate;
    }
</source>
<source file="systems/source-code/Bytes32SetLib.sol" startline="10" endline="16" pcid="220">
    function contains(Bytes32Set storage set, bytes32 candidate) internal view returns (bool) {
        if (set.elements.length == 0) {
            return false;
        }
        uint index = set.indices[candidate];
        return index != 0 || set.elements[0] == candidate;
    }
</source>
</class>

<class classid="3" nclones="2" nlines="15" similarity="72">
<source file="systems/source-code/AddressSetLib.sol" startline="18" endline="40" pcid="8">
    function getPage(
        AddressSet storage set,
        uint index,
        uint pageSize
    ) internal view returns (address[] memory) {
        // NOTE: This implementation should be converted to slice operators if the compiler is updated to v0.6.0+
        uint endIndex = index + pageSize; // The check below that endIndex <= index handles overflow.

        // If the page extends past the end of the list, truncate it.
        if (endIndex > set.elements.length) {
            endIndex = set.elements.length;
        }
        if (endIndex <= index) {
            return new address[](0);
        }

        uint n = endIndex - index; // We already checked for negative overflow.
        address[] memory page = new address[](n);
        for (uint i; i < n; i++) {
            page[i] = set.elements[i + index];
        }
        return page;
    }
</source>
<source file="systems/source-code/Bytes32SetLib.sol" startline="18" endline="40" pcid="221">
    function getPage(
        Bytes32Set storage set,
        uint index,
        uint pageSize
    ) internal view returns (bytes32[] memory) {
        // NOTE: This implementation should be converted to slice operators if the compiler is updated to v0.6.0+
        uint endIndex = index + pageSize; // The check below that endIndex <= index handles overflow.

        // If the page extends past the end of the list, truncate it.
        if (endIndex > set.elements.length) {
            endIndex = set.elements.length;
        }
        if (endIndex <= index) {
            return new bytes32[](0);
        }

        uint n = endIndex - index; // We already checked for negative overflow.
        bytes32[] memory page = new bytes32[](n);
        for (uint i; i < n; i++) {
            page[i] = set.elements[i + index];
        }
        return page;
    }
</source>
</class>

<class classid="4" nclones="2" nlines="6" similarity="75">
<source file="systems/source-code/AddressSetLib.sol" startline="42" endline="48" pcid="9">
    function add(AddressSet storage set, address element) internal {
        // Adding to a set is an idempotent operation.
        if (!contains(set, element)) {
            set.indices[element] = set.elements.length;
            set.elements.push(element);
        }
    }
</source>
<source file="systems/source-code/Bytes32SetLib.sol" startline="42" endline="48" pcid="222">
    function add(Bytes32Set storage set, bytes32 element) internal {
        // Adding to a set is an idempotent operation.
        if (!contains(set, element)) {
            set.indices[element] = set.elements.length;
            set.elements.push(element);
        }
    }
</source>
</class>

<class classid="5" nclones="2" nlines="12" similarity="80">
<source file="systems/source-code/AddressSetLib.sol" startline="50" endline="63" pcid="10">
    function remove(AddressSet storage set, address element) internal {
        require(contains(set, element), "Element not in set.");
        // Replace the removed element with the last element of the list.
        uint index = set.indices[element];
        uint lastIndex = set.elements.length - 1; // We required that element is in the list, so it is not empty.
        if (index != lastIndex) {
            // No need to shift the last element if it is the one we want to delete.
            address shiftedElement = set.elements[lastIndex];
            set.elements[index] = shiftedElement;
            set.indices[shiftedElement] = index;
        }
        set.elements.pop();
        delete set.indices[element];
    }
</source>
<source file="systems/source-code/Bytes32SetLib.sol" startline="50" endline="63" pcid="223">
    function remove(Bytes32Set storage set, bytes32 element) internal {
        require(contains(set, element), "Element not in set.");
        // Replace the removed element with the last element of the list.
        uint index = set.indices[element];
        uint lastIndex = set.elements.length - 1; // We required that element is in the list, so it is not empty.
        if (index != lastIndex) {
            // No need to shift the last element if it is the one we want to delete.
            bytes32 shiftedElement = set.elements[lastIndex];
            set.elements[index] = shiftedElement;
            set.indices[shiftedElement] = index;
        }
        set.elements.pop();
        delete set.indices[element];
    }
</source>
</class>

<class classid="6" nclones="20" nlines="11" similarity="70">
<source file="systems/source-code/BaseDebtCache.sol" startline="57" endline="69" pcid="11">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](8);
        newAddresses[0] = CONTRACT_ISSUER;
        newAddresses[1] = CONTRACT_EXCHANGER;
        newAddresses[2] = CONTRACT_EXRATES;
        newAddresses[3] = CONTRACT_SYSTEMSTATUS;
        newAddresses[4] = CONTRACT_COLLATERALMANAGER;
        newAddresses[5] = CONTRACT_WRAPPER_FACTORY;
        newAddresses[6] = CONTRACT_ETHER_WRAPPER;
        newAddresses[7] = CONTRACT_FUTURESMARKETMANAGER;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="51" endline="66" pcid="536">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](11);
        newAddresses[0] = CONTRACT_SYSTEMSTATUS;
        newAddresses[1] = CONTRACT_EXCHANGESTATE;
        newAddresses[2] = CONTRACT_EXRATES;
        newAddresses[3] = CONTRACT_SYNTHETIX;
        newAddresses[4] = CONTRACT_FEEPOOL;
        newAddresses[5] = CONTRACT_TRADING_REWARDS;
        newAddresses[6] = CONTRACT_DELEGATEAPPROVALS;
        newAddresses[7] = CONTRACT_ISSUER;
        newAddresses[8] = CONTRACT_DEBTCACHE;
        newAddresses[9] = CONTRACT_CIRCUIT_BREAKER;
        newAddresses[10] = CONTRACT_DIRECT_INTEGRATION_MANAGER;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/Collateral.sol" startline="95" endline="108" pcid="235">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](6);
        newAddresses[0] = CONTRACT_FEEPOOL;
        newAddresses[1] = CONTRACT_EXRATES;
        newAddresses[2] = CONTRACT_EXCHANGER;
        newAddresses[3] = CONTRACT_SYSTEMSTATUS;
        newAddresses[4] = CONTRACT_SYNTHSUSD;
        newAddresses[5] = CONTRACT_COLLATERALUTIL;

        bytes32[] memory combined = combineArrays(existingAddresses, newAddresses);

        addresses = combineArrays(combined, synths);
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="101" endline="113" pcid="211">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](8);
        newAddresses[0] = CONTRACT_EXT_MESSENGER;
        newAddresses[1] = CONTRACT_SYNTHETIX;
        newAddresses[2] = CONTRACT_REWARDESCROW;
        newAddresses[3] = CONTRACT_ISSUER;
        newAddresses[4] = CONTRACT_FEEPOOL;
        newAddresses[5] = CONTRACT_FLEXIBLESTORAGE;
        newAddresses[6] = CONTRACT_EXCHANGERATES;
        newAddresses[7] = CONTRACT_SYSTEM_STATUS;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="110" endline="121" pcid="1653">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinPerpsV2MarketSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](7);
        newAddresses[0] = CONTRACT_EXCHANGER;
        newAddresses[1] = CONTRACT_EXRATES;
        newAddresses[2] = CONTRACT_SYSTEMSTATUS;
        newAddresses[3] = CONTRACT_FUTURESMARKETMANAGER;
        newAddresses[4] = CONTRACT_PERPSV2MARKETSETTINGS;
        newAddresses[5] = CONTRACT_PERPSV2EXCHANGERATE;
        newAddresses[6] = CONTRACT_FLEXIBLESTORAGE;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="105" endline="123" pcid="682">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](14);
        newAddresses[0] = CONTRACT_SYSTEMSTATUS;
        newAddresses[1] = CONTRACT_SYNTHETIXDEBTSHARE;
        newAddresses[2] = CONTRACT_FEEPOOLETERNALSTORAGE;
        newAddresses[3] = CONTRACT_EXCHANGER;
        newAddresses[4] = CONTRACT_ISSUER;
        newAddresses[5] = CONTRACT_REWARDESCROW_V2;
        newAddresses[6] = CONTRACT_DELEGATEAPPROVALS;
        newAddresses[7] = CONTRACT_REWARDSDISTRIBUTION;
        newAddresses[8] = CONTRACT_COLLATERALMANAGER;
        newAddresses[9] = CONTRACT_WRAPPER_FACTORY;
        newAddresses[10] = CONTRACT_ETHER_WRAPPER;
        newAddresses[11] = CONTRACT_EXT_AGGREGATOR_ISSUED_SYNTHS;
        newAddresses[12] = CONTRACT_EXT_AGGREGATOR_DEBT_RATIO;
        newAddresses[13] = CONTRACT_FUTURES_MARKET_MANAGER;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="102" endline="120" pcid="923">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](14);
        newAddresses[0] = CONTRACT_SYNTHETIX;
        newAddresses[1] = CONTRACT_EXCHANGER;
        newAddresses[2] = CONTRACT_EXRATES;
        newAddresses[3] = CONTRACT_CIRCUIT_BREAKER;
        newAddresses[4] = CONTRACT_SYNTHETIXDEBTSHARE;
        newAddresses[5] = CONTRACT_FEEPOOL;
        newAddresses[6] = CONTRACT_DELEGATEAPPROVALS;
        newAddresses[7] = CONTRACT_REWARDESCROW_V2;
        newAddresses[8] = CONTRACT_LIQUIDATOR;
        newAddresses[9] = CONTRACT_LIQUIDATOR_REWARDS;
        newAddresses[10] = CONTRACT_DEBTCACHE;
        newAddresses[11] = CONTRACT_SYNTHREDEEMER;
        newAddresses[12] = CONTRACT_EXT_AGGREGATOR_ISSUED_SYNTHS;
        newAddresses[13] = CONTRACT_EXT_AGGREGATOR_DEBT_RATIO;
        return combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="60" endline="70" pcid="511">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](5);
        newAddresses[0] = CONTRACT_SYNTHSETH;
        newAddresses[1] = CONTRACT_SYNTHSUSD;
        newAddresses[2] = CONTRACT_EXRATES;
        newAddresses[3] = CONTRACT_ISSUER;
        newAddresses[4] = CONTRACT_FEEPOOL;
        addresses = combineArrays(existingAddresses, newAddresses);
        return addresses;
    }
</source>
<source file="systems/source-code/DebtMigratorOnEthereum.sol" startline="68" endline="77" pcid="389">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = BaseDebtMigrator.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](5);
        newAddresses[0] = CONTRACT_OVM_DEBT_MIGRATOR_ON_OPTIMISM;
        newAddresses[1] = CONTRACT_LIQUIDATOR;
        newAddresses[2] = CONTRACT_LIQUIDATOR_REWARDS;
        newAddresses[3] = CONTRACT_SYNTHETIX_BRIDGE_TO_OPTIMISM;
        newAddresses[4] = CONTRACT_SYNTHETIX_DEBT_SHARE;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/FuturesMarketBase.sol" startline="194" endline="203" pcid="767">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinFuturesMarketSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](5);
        newAddresses[0] = CONTRACT_EXCHANGER;
        newAddresses[1] = CONTRACT_CIRCUIT_BREAKER;
        newAddresses[2] = CONTRACT_FUTURESMARKETMANAGER;
        newAddresses[3] = CONTRACT_FUTURESMARKETSETTINGS;
        newAddresses[4] = CONTRACT_SYSTEMSTATUS;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="59" endline="68" pcid="135">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](7);
        addresses[0] = CONTRACT_SYSTEMSTATUS;
        addresses[1] = CONTRACT_EXCHANGER;
        addresses[2] = CONTRACT_ISSUER;
        addresses[3] = CONTRACT_REWARDSDISTRIBUTION;
        addresses[4] = CONTRACT_LIQUIDATORREWARDS;
        addresses[5] = CONTRACT_LIQUIDATOR;
        addresses[6] = CONTRACT_REWARDESCROW_V2;
    }
</source>
<source file="systems/source-code/SynthetixBridgeToOptimism.sol" startline="66" endline="74" pcid="2128">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = BaseSynthetixBridge.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](4);
        newAddresses[0] = CONTRACT_ISSUER;
        newAddresses[1] = CONTRACT_REWARDSDISTRIBUTION;
        newAddresses[2] = CONTRACT_OVM_SYNTHETIXBRIDGETOBASE;
        newAddresses[3] = CONTRACT_SYNTHETIXBRIDGEESCROW;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/BaseDebtMigrator.sol" startline="65" endline="73" pcid="56">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](4);
        newAddresses[0] = CONTRACT_EXT_MESSENGER;
        newAddresses[1] = CONTRACT_REWARDESCROW;
        newAddresses[2] = CONTRACT_ISSUER;
        newAddresses[3] = CONTRACT_SYNTHETIX;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="51" endline="59" pcid="1012">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](4);
        newAddresses[0] = CONTRACT_SYSTEMSTATUS;
        newAddresses[1] = CONTRACT_SYNTHETIX;
        newAddresses[2] = CONTRACT_ISSUER;
        newAddresses[3] = CONTRACT_EXRATES;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/LiquidatorRewards.sol" startline="56" endline="64" pcid="1041">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](4);
        newAddresses[0] = CONTRACT_SYNTHETIXDEBTSHARE;
        newAddresses[1] = CONTRACT_ISSUER;
        newAddresses[2] = CONTRACT_REWARDESCROW_V2;
        newAddresses[3] = CONTRACT_SYNTHETIX;
        return combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/MultiCollateralSynth.sol" startline="48" endline="55" pcid="1594">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = Synth.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](3);
        newAddresses[0] = CONTRACT_COLLATERALMANAGER;
        newAddresses[1] = CONTRACT_ETHER_WRAPPER;
        newAddresses[2] = CONTRACT_WRAPPER_FACTORY;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/CircuitBreaker.sol" startline="53" endline="60" pcid="224">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](3);
        newAddresses[0] = CONTRACT_SYSTEMSTATUS;
        newAddresses[1] = CONTRACT_ISSUER;
        newAddresses[2] = CONTRACT_EXRATES;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/RewardEscrowV2Frozen.sol" startline="35" endline="42" pcid="1956">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = BaseRewardEscrowV2Frozen.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](3);
        newAddresses[0] = CONTRACT_SYNTHETIX_BRIDGE_OPTIMISM;
        newAddresses[1] = CONTRACT_REWARD_ESCROW;
        newAddresses[2] = CONTRACT_SYSTEMSTATUS;
        return combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/OwnerRelayOnEthereum.sol" startline="43" endline="49" pcid="1617">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](2);
        newAddresses[0] = CONTRACT_EXT_MESSENGER;
        newAddresses[1] = CONTRACT_OVM_OWNER_RELAY_ON_OPTIMISM;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/Synthetix.sol" startline="30" endline="36" pcid="2098">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = BaseSynthetix.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](2);
        newAddresses[0] = CONTRACT_REWARD_ESCROW;
        newAddresses[1] = CONTRACT_SUPPLYSCHEDULE;
        return combineArrays(existingAddresses, newAddresses);
    }
</source>
</class>

<class classid="7" nclones="144" nlines="3" similarity="100">
<source file="systems/source-code/BaseDebtCache.sol" startline="71" endline="73" pcid="12">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/WrapperFactory.sol" startline="44" endline="46" pcid="2520">
    function feePool() internal view returns (IFeePool) {
        return IFeePool(requireAndGetAddress(CONTRACT_FEEPOOL));
    }
</source>
<source file="systems/source-code/WrapperFactory.sol" startline="36" endline="38" pcid="2518">
    function synthsUSD() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTH_SUSD));
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="33" endline="35" pcid="883">
    function _futuresMarketManager() internal view returns (IFuturesMarketManager) {
        return IFuturesMarketManager(requireAndGetAddress(CONTRACT_FUTURES_MARKET_MANAGER));
    }
</source>
<source file="systems/source-code/WrapperFactory.sol" startline="40" endline="42" pcid="2519">
    function flexibleStorage() internal view returns (IFlexibleStorage) {
        return IFlexibleStorage(requireAndGetAddress(CONTRACT_FLEXIBLESTORAGE));
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="66" endline="68" pcid="2470">
    function synthetix() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="79" endline="81" pcid="14">
    function exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="70" endline="72" pcid="2471">
    function exchanger() internal view returns (IExchanger) {
        return IExchanger(requireAndGetAddress(CONTRACT_EXCHANGER));
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="75" endline="77" pcid="13">
    function exchanger() internal view returns (IExchanger) {
        return IExchanger(requireAndGetAddress(CONTRACT_EXCHANGER));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="92" endline="94" pcid="543">
    function tradingRewards() internal view returns (ITradingRewards) {
        return ITradingRewards(requireAndGetAddress(CONTRACT_TRADING_REWARDS));
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="94" endline="96" pcid="142">
    function liquidator() internal view returns (ILiquidator) {
        return ILiquidator(requireAndGetAddress(CONTRACT_LIQUIDATOR));
    }
</source>
<source file="systems/source-code/SynthRedeemer.sol" startline="36" endline="38" pcid="2186">
    function sUSD() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTHSUSD));
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="78" endline="80" pcid="207">
    function exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXCHANGERATES));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="68" endline="70" pcid="537">
    function systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/RewardEscrowV2Frozen.sol" startline="52" endline="54" pcid="1959">
    function systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/SynthRedeemer.sol" startline="32" endline="34" pcid="2185">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="78" endline="80" pcid="138">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/FuturesMarketBase.sol" startline="209" endline="211" pcid="769">
    function _exchanger() internal view returns (IExchanger) {
        return IExchanger(requireAndGetAddress(CONTRACT_EXCHANGER));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="150" endline="152" pcid="931">
    function delegateApprovals() internal view returns (IDelegateApprovals) {
        return IDelegateApprovals(requireAndGetAddress(CONTRACT_DELEGATEAPPROVALS));
    }
</source>
<source file="systems/source-code/DebtMigratorOnEthereum.sol" startline="43" endline="45" pcid="384">
    function _liquidatorRewards() internal view returns (ILiquidatorRewards) {
        return ILiquidatorRewards(requireAndGetAddress(CONTRACT_LIQUIDATOR_REWARDS));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="146" endline="148" pcid="930">
    function liquidatorRewards() internal view returns (ILiquidatorRewards) {
        return ILiquidatorRewards(requireAndGetAddress(CONTRACT_LIQUIDATOR_REWARDS));
    }
</source>
<source file="systems/source-code/FuturesMarketBase.sol" startline="213" endline="215" pcid="770">
    function _systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/Collateral.sol" startline="128" endline="130" pcid="240">
    function _exchanger() internal view returns (IExchanger) {
        return IExchanger(requireAndGetAddress(CONTRACT_EXCHANGER));
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="83" endline="85" pcid="15">
    function systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="73" endline="75" pcid="512">
    function synthsUSD() internal view returns (ISynth) {
        return ISynth(requireAndGetAddress(CONTRACT_SYNTHSUSD));
    }
</source>
<source file="systems/source-code/SynthetixBridgeToOptimism.sol" startline="40" endline="42" pcid="2122">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/Collateral.sol" startline="132" endline="134" pcid="241">
    function _feePool() internal view returns (IFeePool) {
        return IFeePool(requireAndGetAddress(CONTRACT_FEEPOOL));
    }
</source>
<source file="systems/source-code/ExchangeCircuitBreaker.sol" startline="52" endline="54" pcid="533">
    function exchangeRates() public view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="142" endline="144" pcid="929">
    function liquidator() internal view returns (ILiquidator) {
        return ILiquidator(requireAndGetAddress(CONTRACT_LIQUIDATOR));
    }
</source>
<source file="systems/source-code/BaseDebtMigrator.sol" startline="53" endline="55" pcid="53">
    function _messenger() internal view returns (iAbs_BaseCrossDomainMessenger) {
        return iAbs_BaseCrossDomainMessenger(requireAndGetAddress(CONTRACT_EXT_MESSENGER));
    }
</source>
<source file="systems/source-code/FuturesMarketBase.sol" startline="217" endline="219" pcid="771">
    function _manager() internal view returns (IFuturesMarketManagerInternal) {
        return IFuturesMarketManagerInternal(requireAndGetAddress(CONTRACT_FUTURESMARKETMANAGER));
    }
</source>
<source file="systems/source-code/ShortingRewards.sol" startline="59" endline="61" pcid="2017">
    function _short() internal view returns (ICollateralErc20) {
        return ICollateralErc20(requireAndGetAddress(CONTRACT_SHORT));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="138" endline="140" pcid="928">
    function synthetixDebtShare() internal view returns (ISynthetixDebtShare) {
        return ISynthetixDebtShare(requireAndGetAddress(CONTRACT_SYNTHETIXDEBTSHARE));
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="65" endline="67" pcid="1014">
    function systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/Synth.sol" startline="204" endline="206" pcid="2086">
    function feePool() internal view returns (IFeePool) {
        return IFeePool(requireAndGetAddress(CONTRACT_FEEPOOL));
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="78" endline="80" pcid="105">
    function synthetix() internal view returns (ISynthetix) {
        return ISynthetix(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="87" endline="89" pcid="16">
    function collateralManager() internal view returns (ICollateralManager) {
        return ICollateralManager(requireAndGetAddress(CONTRACT_COLLATERALMANAGER));
    }
</source>
<source file="systems/source-code/Collateral.sol" startline="136" endline="138" pcid="242">
    function _collateralUtil() internal view returns (ICollateralUtil) {
        return ICollateralUtil(requireAndGetAddress(CONTRACT_COLLATERALUTIL));
    }
</source>
<source file="systems/source-code/FuturesMarketBase.sol" startline="205" endline="207" pcid="768">
    function _exchangeCircuitBreaker() internal view returns (IExchangeCircuitBreaker) {
        return IExchangeCircuitBreaker(requireAndGetAddress(CONTRACT_CIRCUIT_BREAKER));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="133" endline="135" pcid="685">
    function feePoolEternalStorage() internal view returns (FeePoolEternalStorage) {
        return FeePoolEternalStorage(requireAndGetAddress(CONTRACT_FEEPOOLETERNALSTORAGE));
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="61" endline="63" pcid="69">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="99" endline="101" pcid="19">
    function wrapperFactory() internal view returns (IWrapperFactory) {
        return IWrapperFactory(requireAndGetAddress(CONTRACT_WRAPPER_FACTORY));
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="53" endline="55" pcid="67">
    function feePool() internal view returns (IFeePool) {
        return IFeePool(requireAndGetAddress(CONTRACT_FEEPOOL));
    }
</source>
<source file="systems/source-code/Depot.sol" startline="507" endline="509" pcid="442">
    function synthsUSD() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTHSUSD));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="145" endline="147" pcid="688">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="84" endline="86" pcid="541">
    function synthetix() internal view returns (ISynthetix) {
        return ISynthetix(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="141" endline="143" pcid="687">
    function collateralManager() internal view returns (ICollateralManager) {
        return ICollateralManager(requireAndGetAddress(CONTRACT_COLLATERALMANAGER));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="134" endline="136" pcid="927">
    function circuitBreaker() internal view returns (ICircuitBreaker) {
        return ICircuitBreaker(requireAndGetAddress(CONTRACT_CIRCUIT_BREAKER));
    }
</source>
<source file="systems/source-code/NativeEtherWrapper.sol" startline="33" endline="35" pcid="1599">
    function etherWrapper() internal view returns (IEtherWrapper) {
        return IEtherWrapper(requireAndGetAddress(CONTRACT_ETHER_WRAPPER));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="153" endline="155" pcid="690">
    function delegateApprovals() internal view returns (IDelegateApprovals) {
        return IDelegateApprovals(requireAndGetAddress(CONTRACT_DELEGATEAPPROVALS));
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="83" endline="85" pcid="847">
    function _sUSD() internal view returns (ISynth) {
        return ISynth(requireAndGetAddress(CONTRACT_SYNTHSUSD));
    }
</source>
<source file="systems/source-code/DebtMigratorOnEthereum.sol" startline="47" endline="49" pcid="385">
    function _synthetixBridgeToOptimism() internal view returns (ISynthetixBridgeToOptimism) {
        return ISynthetixBridgeToOptimism(requireAndGetAddress(CONTRACT_SYNTHETIX_BRIDGE_TO_OPTIMISM));
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="51" endline="53" pcid="1371">
    function _flexibleStorage() internal view returns (IFlexibleStorage) {
        return IFlexibleStorage(requireAndGetAddress(CONTRACT_FLEXIBLESTORAGE));
    }
</source>
<source file="systems/source-code/Synth.sol" startline="200" endline="202" pcid="2085">
    function systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="69" endline="71" pcid="1015">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/LiquidatorRewards.sol" startline="78" endline="80" pcid="1045">
    function synthetix() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/MultiCollateralSynth.sol" startline="44" endline="46" pcid="1593">
    function wrapperFactory() internal view returns (IWrapperFactory) {
        return IWrapperFactory(requireAndGetAddress(CONTRACT_WRAPPER_FACTORY));
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="77" endline="79" pcid="513">
    function synthsETH() internal view returns (ISynth) {
        return ISynth(requireAndGetAddress(CONTRACT_SYNTHSETH));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="130" endline="132" pcid="926">
    function exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="95" endline="97" pcid="18">
    function futuresMarketManager() internal view returns (IFuturesMarketManager) {
        return IFuturesMarketManager(requireAndGetAddress(CONTRACT_FUTURESMARKETMANAGER));
    }
</source>
<source file="systems/source-code/LiquidatorRewards.sol" startline="74" endline="76" pcid="1044">
    function rewardEscrowV2() internal view returns (IRewardEscrowV2) {
        return IRewardEscrowV2(requireAndGetAddress(CONTRACT_REWARDESCROW_V2));
    }
</source>
<source file="systems/source-code/PurgeableSynth.sol" startline="42" endline="44" pcid="1934">
    function exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="154" endline="156" pcid="932">
    function rewardEscrowV2() internal view returns (IHasBalance) {
        return IHasBalance(requireAndGetAddress(CONTRACT_REWARDESCROW_V2));
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="65" endline="67" pcid="70">
    function state() internal view returns (IRewardEscrowV2Storage) {
        return IRewardEscrowV2Storage(requireAndGetAddress(CONTRACT_REWARDESCROWV2STORAGE));
    }
</source>
<source file="systems/source-code/RewardEscrowV2Frozen.sol" startline="48" endline="50" pcid="1958">
    function oldRewardEscrow() internal view returns (IRewardEscrow) {
        return IRewardEscrow(requireAndGetAddress(CONTRACT_REWARD_ESCROW));
    }
</source>
<source file="systems/source-code/Collateral.sol" startline="124" endline="126" pcid="239">
    function _exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="104" endline="106" pcid="546">
    function debtCache() internal view returns (IExchangerInternalDebtCache) {
        return IExchangerInternalDebtCache(requireAndGetAddress(CONTRACT_DEBTCACHE));
    }
</source>
<source file="systems/source-code/Collateral.sol" startline="112" endline="114" pcid="236">
    function _systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="81" endline="83" pcid="514">
    function feePool() internal view returns (IFeePool) {
        return IFeePool(requireAndGetAddress(CONTRACT_FEEPOOL));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="126" endline="128" pcid="925">
    function exchanger() internal view returns (IExchanger) {
        return IExchanger(requireAndGetAddress(CONTRACT_EXCHANGER));
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="73" endline="75" pcid="1016">
    function exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="57" endline="59" pcid="68">
    function synthetixERC20() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="61" endline="63" pcid="1013">
    function synthetix() internal view returns (ISynthetix) {
        return ISynthetix(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="82" endline="84" pcid="139">
    function rewardsDistribution() internal view returns (IRewardsDistribution) {
        return IRewardsDistribution(requireAndGetAddress(CONTRACT_REWARDSDISTRIBUTION));
    }
</source>
<source file="systems/source-code/Synth.sol" startline="208" endline="210" pcid="2087">
    function exchanger() internal view returns (IExchanger) {
        return IExchanger(requireAndGetAddress(CONTRACT_EXCHANGER));
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="82" endline="84" pcid="106">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="122" endline="124" pcid="924">
    function synthetixERC20() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="85" endline="87" pcid="515">
    function exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="91" endline="93" pcid="849">
    function _exchanger() internal view returns (IExchanger) {
        return IExchanger(requireAndGetAddress(CONTRACT_EXCHANGER));
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="135" endline="137" pcid="1657">
    function _manager() internal view returns (IFuturesMarketManagerInternal) {
        return IFuturesMarketManagerInternal(requireAndGetAddress(CONTRACT_FUTURESMARKETMANAGER));
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="137" endline="139" pcid="291">
    function _issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/MultiCollateralSynth.sol" startline="40" endline="42" pcid="1592">
    function etherWrapper() internal view returns (IEtherWrapper) {
        return IEtherWrapper(requireAndGetAddress(CONTRACT_ETHER_WRAPPER));
    }
</source>
<source file="systems/source-code/Synth.sol" startline="212" endline="214" pcid="2088">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="131" endline="133" pcid="1656">
    function _systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="91" endline="93" pcid="17">
    function etherWrapper() internal view returns (IEtherWrapper) {
        return IEtherWrapper(requireAndGetAddress(CONTRACT_ETHER_WRAPPER));
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="74" endline="76" pcid="137">
    function exchanger() internal view returns (IExchanger) {
        return IExchanger(requireAndGetAddress(CONTRACT_EXCHANGER));
    }
</source>
<source file="systems/source-code/Collateral.sol" startline="120" endline="122" pcid="238">
    function _synthsUSD() internal view returns (ISynth) {
        return ISynth(requireAndGetAddress(CONTRACT_SYNTHSUSD));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="162" endline="164" pcid="934">
    function synthRedeemer() internal view returns (ISynthRedeemer) {
        return ISynthRedeemer(requireAndGetAddress(CONTRACT_SYNTHREDEEMER));
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="127" endline="129" pcid="1655">
    function _exchanger() internal view returns (IExchanger) {
        return IExchanger(requireAndGetAddress(CONTRACT_EXCHANGER));
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="89" endline="91" pcid="516">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/OwnerRelayOnOptimism.sol" startline="28" endline="30" pcid="1620">
    function _messenger() private view returns (iAbs_BaseCrossDomainMessenger) {
        return iAbs_BaseCrossDomainMessenger(requireAndGetAddress(CONTRACT_EXT_MESSENGER));
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="123" endline="125" pcid="1654">
    function _exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="125" endline="127" pcid="683">
    function systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="169" endline="171" pcid="694">
    function wrapperFactory() internal view returns (IWrapperFactory) {
        return IWrapperFactory(requireAndGetAddress(CONTRACT_WRAPPER_FACTORY));
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="79" endline="81" pcid="1446">
    function flexibleStorage() internal view returns (IFlexibleStorage) {
        return IFlexibleStorage(requireAndGetAddress(CONTRACT_FLEXIBLESTORAGE));
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="86" endline="88" pcid="140">
    function liquidatorRewards() internal view returns (ILiquidatorRewards) {
        return ILiquidatorRewards(requireAndGetAddress(CONTRACT_LIQUIDATORREWARDS));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="100" endline="102" pcid="545">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="158" endline="160" pcid="933">
    function debtCache() internal view returns (IIssuerInternalDebtCache) {
        return IIssuerInternalDebtCache(requireAndGetAddress(CONTRACT_DEBTCACHE));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="72" endline="74" pcid="538">
    function exchangeState() internal view returns (IExchangeState) {
        return IExchangeState(requireAndGetAddress(CONTRACT_EXCHANGESTATE));
    }
</source>
<source file="systems/source-code/ExchangeRatesWithDexPricing.sol" startline="40" endline="42" pcid="630">
    function directIntegrationManager() internal view returns (IDirectIntegrationManager) {
        return IDirectIntegrationManager(requireAndGetAddress(CONTRACT_DIRECT_INTEGRATION_MANAGER));
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="74" endline="76" pcid="104">
    function feePool() internal view returns (IFeePool) {
        return IFeePool(requireAndGetAddress(CONTRACT_FEEPOOL));
    }
</source>
<source file="systems/source-code/BaseDebtMigrator.sol" startline="49" endline="51" pcid="52">
    function _issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/BaseDebtMigrator.sol" startline="57" endline="59" pcid="54">
    function _rewardEscrowV2() internal view returns (IRewardEscrowV2) {
        return IRewardEscrowV2(requireAndGetAddress(CONTRACT_REWARDESCROW));
    }
</source>
<source file="systems/source-code/CircuitBreaker.sol" startline="86" endline="88" pcid="230">
    function systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/Synth.sol" startline="216" endline="218" pcid="2089">
    function futuresMarketManager() internal view returns (IFuturesMarketManager) {
        return IFuturesMarketManager(requireAndGetAddress(CONTRACT_FUTURESMARKETMANAGER));
    }
</source>
<source file="systems/source-code/DebtMigratorOnEthereum.sol" startline="51" endline="53" pcid="386">
    function _synthetixDebtShare() internal view returns (ISynthetixDebtShare) {
        return ISynthetixDebtShare(requireAndGetAddress(CONTRACT_SYNTHETIX_DEBT_SHARE));
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="69" endline="71" pcid="1411">
    function _flexibleStorage() internal view returns (IFlexibleStorage) {
        return IFlexibleStorage(requireAndGetAddress(CONTRACT_FLEXIBLESTORAGE));
    }
</source>
<source file="systems/source-code/Depot.sol" startline="515" endline="517" pcid="444">
    function exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/DebtMigratorOnEthereum.sol" startline="39" endline="41" pcid="383">
    function _liquidator() internal view returns (ILiquidator) {
        return ILiquidator(requireAndGetAddress(CONTRACT_LIQUIDATOR));
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="54" endline="56" pcid="201">
    function messenger() internal view returns (iAbs_BaseCrossDomainMessenger) {
        return iAbs_BaseCrossDomainMessenger(requireAndGetAddress(CONTRACT_EXT_MESSENGER));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="96" endline="98" pcid="544">
    function delegateApprovals() internal view returns (IDelegateApprovals) {
        return IDelegateApprovals(requireAndGetAddress(CONTRACT_DELEGATEAPPROVALS));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="137" endline="139" pcid="686">
    function exchanger() internal view returns (IExchanger) {
        return IExchanger(requireAndGetAddress(CONTRACT_EXCHANGER));
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="70" endline="72" pcid="136">
    function systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEMSTATUS));
    }
</source>
<source file="systems/source-code/Synthetix.sol" startline="40" endline="42" pcid="2099">
    function rewardEscrow() internal view returns (IRewardEscrow) {
        return IRewardEscrow(requireAndGetAddress(CONTRACT_REWARD_ESCROW));
    }
</source>
<source file="systems/source-code/LiquidatorRewards.sol" startline="70" endline="72" pcid="1043">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/MultiCollateralSynth.sol" startline="36" endline="38" pcid="1591">
    function collateralManager() internal view returns (ICollateralManager) {
        return ICollateralManager(requireAndGetAddress(CONTRACT_COLLATERALMANAGER));
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="90" endline="92" pcid="141">
    function rewardEscrowV2() internal view returns (IRewardEscrowV2) {
        return IRewardEscrowV2(requireAndGetAddress(CONTRACT_REWARDESCROW_V2));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="76" endline="78" pcid="539">
    function exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="36" endline="38" pcid="1761">
    function _futuresMarketManager() internal view returns (IFuturesMarketManager) {
        return IFuturesMarketManager(requireAndGetAddress(CONTRACT_FUTURES_MARKET_MANAGER));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="80" endline="82" pcid="540">
    function circuitBreaker() internal view returns (ICircuitBreaker) {
        return ICircuitBreaker(requireAndGetAddress(CONTRACT_CIRCUIT_BREAKER));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="108" endline="110" pcid="547">
    function directIntegrationManager() internal view returns (IDirectIntegrationManager) {
        return IDirectIntegrationManager(requireAndGetAddress(CONTRACT_DIRECT_INTEGRATION_MANAGER));
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="70" endline="72" pcid="205">
    function feePool() internal view returns (IFeePool) {
        return IFeePool(requireAndGetAddress(CONTRACT_FEEPOOL));
    }
</source>
<source file="systems/source-code/BaseDebtMigrator.sol" startline="61" endline="63" pcid="55">
    function _synthetixERC20() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/Depot.sol" startline="511" endline="513" pcid="443">
    function synthetix() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/ExchangeRates.sol" startline="113" endline="115" pcid="587">
    function circuitBreaker() internal view returns (ICircuitBreaker) {
        return ICircuitBreaker(requireAndGetAddress(CONTRACT_CIRCUIT_BREAKER));
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="141" endline="143" pcid="292">
    function _exchangeRates() internal view returns (IExchangeRates) {
        return IExchangeRates(requireAndGetAddress(CONTRACT_EXRATES));
    }
</source>
<source file="systems/source-code/PerpsV2MarketDelayedExecution.sol" startline="36" endline="38" pcid="1722">
    function _perpsV2ExchangeRate() internal view returns (IPerpsV2ExchangeRate) {
        return IPerpsV2ExchangeRate(requireAndGetAddress(CONTRACT_PERPSV2EXCHANGERATE));
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="88" endline="90" pcid="542">
    function feePool() internal view returns (IFeePool) {
        return IFeePool(requireAndGetAddress(CONTRACT_FEEPOOL));
    }
</source>
<source file="systems/source-code/OwnerRelayOnEthereum.sol" startline="24" endline="26" pcid="1614">
    function _messenger() private view returns (iAbs_BaseCrossDomainMessenger) {
        return iAbs_BaseCrossDomainMessenger(requireAndGetAddress(CONTRACT_EXT_MESSENGER));
    }
</source>
<source file="systems/source-code/SynthetixBridgeToOptimism.sol" startline="36" endline="38" pcid="2121">
    function synthetixERC20() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="161" endline="163" pcid="692">
    function etherWrapper() internal view returns (IEtherWrapper) {
        return IEtherWrapper(requireAndGetAddress(CONTRACT_ETHER_WRAPPER));
    }
</source>
<source file="systems/source-code/LiquidatorRewards.sol" startline="66" endline="68" pcid="1042">
    function synthetixDebtShare() internal view returns (ISynthetixDebtShare) {
        return ISynthetixDebtShare(requireAndGetAddress(CONTRACT_SYNTHETIXDEBTSHARE));
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="87" endline="89" pcid="848">
    function _feePool() internal view returns (IFeePool) {
        return IFeePool(requireAndGetAddress(CONTRACT_FEEPOOL));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="165" endline="167" pcid="693">
    function futuresMarketManager() internal view returns (IFuturesMarketManager) {
        return IFuturesMarketManager(requireAndGetAddress(CONTRACT_FUTURES_MARKET_MANAGER));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="149" endline="151" pcid="689">
    function rewardEscrowV2() internal view returns (IRewardEscrowV2) {
        return IRewardEscrowV2(requireAndGetAddress(CONTRACT_REWARDESCROW_V2));
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="58" endline="60" pcid="202">
    function synthetix() internal view returns (ISynthetix) {
        return ISynthetix(requireAndGetAddress(CONTRACT_SYNTHETIX));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="157" endline="159" pcid="691">
    function rewardsDistribution() internal view returns (IRewardsDistribution) {
        return IRewardsDistribution(requireAndGetAddress(CONTRACT_REWARDSDISTRIBUTION));
    }
</source>
<source file="systems/source-code/Synthetix.sol" startline="44" endline="46" pcid="2100">
    function supplySchedule() internal view returns (ISupplySchedule) {
        return ISupplySchedule(requireAndGetAddress(CONTRACT_SUPPLYSCHEDULE));
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="74" endline="76" pcid="206">
    function flexibleStorage() internal view returns (IFlexibleStorage) {
        return IFlexibleStorage(requireAndGetAddress(CONTRACT_FLEXIBLESTORAGE));
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="129" endline="131" pcid="684">
    function synthetixDebtShare() internal view returns (ISynthetixDebtShare) {
        return ISynthetixDebtShare(requireAndGetAddress(CONTRACT_SYNTHETIXDEBTSHARE));
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="82" endline="84" pcid="208">
    function systemStatus() internal view returns (ISystemStatus) {
        return ISystemStatus(requireAndGetAddress(CONTRACT_SYSTEM_STATUS));
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="66" endline="68" pcid="204">
    function issuer() internal view returns (IIssuer) {
        return IIssuer(requireAndGetAddress(CONTRACT_ISSUER));
    }
</source>
<source file="systems/source-code/NativeEtherWrapper.sol" startline="41" endline="43" pcid="1601">
    function synthsETH() internal view returns (IERC20) {
        return IERC20(requireAndGetAddress(CONTRACT_SYNTHSETH));
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="62" endline="64" pcid="203">
    function rewardEscrowV2() internal view returns (IRewardEscrowV2) {
        return IRewardEscrowV2(requireAndGetAddress(CONTRACT_REWARDESCROW));
    }
</source>
</class>

<class classid="8" nclones="64" nlines="3" similarity="100">
<source file="systems/source-code/BaseDebtCache.sol" startline="103" endline="105" pcid="20">
    function debtSnapshotStaleTime() external view returns (uint) {
        return getDebtSnapshotStaleTime();
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="243" endline="245" pcid="1787">
    function liquidationFeeRatio() external view returns (uint) {
        return _liquidationFeeRatio();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="226" endline="228" pcid="2235">
    function atomicTwapWindow() external view returns (uint) {
        return getAtomicTwapWindow();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="83" endline="85" pcid="2210">
    function snxLiquidationPenalty() external view returns (uint) {
        return getSnxLiquidationPenalty();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="220" endline="222" pcid="2234">
    function atomicMaxVolumePerBlock() external view returns (uint) {
        return getAtomicMaxVolumePerBlock();
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="251" endline="253" pcid="1788">
    function minInitialMargin() external view returns (uint) {
        return _minInitialMargin();
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="258" endline="260" pcid="1789">
    function keeperLiquidationFee() external view returns (uint) {
        return _keeperLiquidationFee();
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="235" endline="237" pcid="1786">
    function maxKeeperFee() external view returns (uint) {
        return _maxKeeperFee();
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="77" endline="79" pcid="1017">
    function issuanceRatio() external view returns (uint) {
        return getIssuanceRatio();
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="114" endline="116" pcid="1882">
    function currentFundingRate() external view returns (int) {
        return _currentFundingRate();
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="81" endline="83" pcid="1018">
    function liquidationDelay() external view returns (uint) {
        return getLiquidationDelay();
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="85" endline="87" pcid="1019">
    function liquidationRatio() external view returns (uint) {
        return getLiquidationRatio();
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="228" endline="230" pcid="1785">
    function minKeeperFee() external view returns (uint) {
        return _minKeeperFee();
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="136" endline="138" pcid="524">
    function burnFeeRate() public view returns (uint256) {
        return getEtherWrapperBurnFeeRate();
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="177" endline="179" pcid="696">
    function feePeriodDuration() external view returns (uint) {
        return getFeePeriodDuration();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="77" endline="79" pcid="2209">
    function liquidationPenalty() external view returns (uint) {
        return getLiquidationPenalty();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="32" endline="34" pcid="2202">
    function waitingPeriodSecs() external view returns (uint) {
        return getWaitingPeriodSecs();
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="89" endline="91" pcid="1020">
    function liquidationEscrowDuration() external view returns (uint) {
        return getLiquidationEscrowDuration();
    }
</source>
<source file="systems/source-code/ExchangeRates.sol" startline="128" endline="130" pcid="589">
    function rateStalePeriod() external view returns (uint) {
        return getRateStalePeriod();
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="93" endline="98" pcid="1021">
    function liquidationPenalty() external view returns (uint) {
        // SIP-251: use getSnxLiquidationPenalty instead of getLiquidationPenalty
        // which is used for loans / shorts (collateral contracts).
        // Keeping the view name because it makes sense in the context of this contract.
        return getSnxLiquidationPenalty();
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="100" endline="102" pcid="1022">
    function selfLiquidationPenalty() external view returns (uint) {
        return getSelfLiquidationPenalty();
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="173" endline="175" pcid="695">
    function issuanceRatio() external view returns (uint) {
        return getIssuanceRatio();
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="132" endline="134" pcid="894">
    function minKeeperFee() external view returns (uint) {
        return _minKeeperFee();
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="124" endline="126" pcid="549">
    function waitingPeriodSecs() external view returns (uint) {
        return getWaitingPeriodSecs();
    }
</source>
<source file="systems/source-code/SynthetixBridgeToOptimism.sol" startline="60" endline="62" pcid="2127">
    function counterpart() internal view returns (address) {
        return synthetixBridgeToBase();
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="104" endline="106" pcid="1023">
    function liquidateReward() external view returns (uint) {
        return getLiquidateReward();
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="108" endline="110" pcid="1024">
    function flagReward() external view returns (uint) {
        return getFlagReward();
    }
</source>
<source file="systems/source-code/TestablePerpsV2Market.sol" startline="21" endline="23" pcid="2405">
    function proportionalSkew() external view returns (int) {
        return _proportionalSkew();
    }
</source>
<source file="systems/source-code/ExchangerWithFeeRecAlternatives.sol" startline="50" endline="52" pcid="641">
    function atomicMaxVolumePerBlock() external view returns (uint) {
        return getAtomicMaxVolumePerBlock();
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="128" endline="130" pcid="522">
    function maxETH() public view returns (uint256) {
        return getEtherWrapperMaxETH();
    }
</source>
<source file="systems/source-code/ExchangeRates.sol" startline="132" endline="134" pcid="590">
    function aggregatorWarningFlags() external view returns (address) {
        return getAggregatorWarningFlags();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="39" endline="41" pcid="2203">
    function priceDeviationThresholdFactor() external view returns (uint) {
        return getPriceDeviationThresholdFactor();
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="367" endline="369" pcid="956">
    function minimumStakeTime() external view returns (uint) {
        return getMinimumStakeTime();
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="155" endline="157" pcid="897">
    function minInitialMargin() external view returns (uint) {
        return _minInitialMargin();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="71" endline="73" pcid="2208">
    function liquidationRatio() external view returns (uint) {
        return getLiquidationRatio();
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="132" endline="134" pcid="523">
    function mintFeeRate() public view returns (uint256) {
        return getEtherWrapperMintFeeRate();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="188" endline="190" pcid="2228">
    function etherWrapperBurnFeeRate() external view returns (uint) {
        return getEtherWrapperBurnFeeRate();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="182" endline="184" pcid="2227">
    function etherWrapperMintFeeRate() external view returns (uint) {
        return getEtherWrapperMintFeeRate();
    }
</source>
<source file="systems/source-code/DebtMigratorOnOptimism.sol" startline="33" endline="35" pcid="397">
    function _counterpart() internal view returns (address) {
        return _debtMigratorOnEthereum();
    }
</source>
<source file="systems/source-code/VirtualSynth.sol" startline="138" endline="140" pcid="2507">
    function secsLeftInWaitingPeriod() external view returns (uint) {
        return secsLeft();
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="147" endline="149" pcid="896">
    function liquidationBufferRatio() external view returns (uint) {
        return _liquidationBufferRatio();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="176" endline="178" pcid="2226">
    function etherWrapperMaxETH() external view returns (uint) {
        return getEtherWrapperMaxETH();
    }
</source>
<source file="systems/source-code/VirtualSynth.sol" startline="128" endline="130" pcid="2505">
    function rate() external view returns (uint) {
        return calcRate();
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="128" endline="130" pcid="550">
    function tradingRewardsEnabled() external view returns (bool) {
        return getTradingRewardsEnabled();
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="140" endline="142" pcid="895">
    function liquidationFeeRatio() external view returns (uint) {
        return _liquidationFeeRatio();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="166" endline="168" pcid="2224">
    function tradingRewardsEnabled() external view returns (bool) {
        return getTradingRewardsEnabled();
    }
</source>
<source file="systems/source-code/CircuitBreaker.sol" startline="72" endline="74" pcid="227">
    function priceDeviationThresholdFactor() external view returns (uint) {
        return getPriceDeviationThresholdFactor();
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="132" endline="134" pcid="551">
    function priceDeviationThresholdFactor() external view returns (uint) {
        return getPriceDeviationThresholdFactor();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="64" endline="66" pcid="2207">
    function liquidationDelay() external view returns (uint) {
        return getLiquidationDelay();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="91" endline="93" pcid="2211">
    function liquidationEscrowDuration() external view returns (uint) {
        return getLiquidationEscrowDuration();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="58" endline="60" pcid="2206">
    function targetThreshold() external view returns (uint) {
        return getTargetThreshold();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="53" endline="55" pcid="2205">
    function feePeriodDuration() external view returns (uint) {
        return getFeePeriodDuration();
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="181" endline="183" pcid="697">
    function targetThreshold() external view returns (uint) {
        return getTargetThreshold();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="97" endline="99" pcid="2212">
    function selfLiquidationPenalty() external view returns (uint) {
        return getSelfLiquidationPenalty();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="45" endline="47" pcid="2204">
    function issuanceRatio() external view returns (uint) {
        return getIssuanceRatio();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="103" endline="105" pcid="2213">
    function flagReward() external view returns (uint) {
        return getFlagReward();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="109" endline="111" pcid="2214">
    function liquidateReward() external view returns (uint) {
        return getLiquidateReward();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="116" endline="118" pcid="2215">
    function rateStalePeriod() external view returns (uint) {
        return getRateStalePeriod();
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="190" endline="192" pcid="936">
    function issuanceRatio() external view returns (uint) {
        return getIssuanceRatio();
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="122" endline="124" pcid="1883">
    function currentFundingVelocity() external view returns (int) {
        return _currentFundingVelocity();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="152" endline="154" pcid="2221">
    function minimumStakeTime() external view returns (uint) {
        return getMinimumStakeTime();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="160" endline="162" pcid="2223">
    function aggregatorWarningFlags() external view returns (address) {
        return getAggregatorWarningFlags();
    }
</source>
<source file="systems/source-code/SynthetixBridgeToBase.sol" startline="30" endline="32" pcid="2111">
    function counterpart() internal view returns (address) {
        return synthetixBridgeToOptimism();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="156" endline="158" pcid="2222">
    function debtSnapshotStaleTime() external view returns (uint) {
        return getDebtSnapshotStaleTime();
    }
</source>
</class>

<class classid="9" nclones="26" nlines="3" similarity="100">
<source file="systems/source-code/BaseDebtCache.sol" startline="107" endline="109" pcid="21">
    function cachedDebt() external view returns (uint) {
        return _cachedDebt;
    }
</source>
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="104" endline="106" pcid="1850">
    function nextPositionId() external view returns (uint64) {
        return _nextPositionId;
    }
</source>
<source file="systems/source-code/MockAggregatorV2V3.sol" startline="114" endline="116" pcid="1496">
    function decimals() external view returns (uint8) {
        return keyDecimals;
    }
</source>
<source file="systems/source-code/PerpsV2MarketState.sol" startline="148" endline="150" pcid="1821">
    function entryDebtCorrection() external view returns (int128) {
        return _entryDebtCorrection;
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="86" endline="88" pcid="2475">
    function getPeriodController() external view returns (address) {
        return _periodController;
    }
</source>
<source file="systems/source-code/SafeDecimalMath.sol" startline="24" endline="26" pcid="2001">
    function unit() external pure returns (uint) {
        return UNIT;
    }
</source>
<source file="systems/source-code/SafeDecimalMath.sol" startline="31" endline="33" pcid="2002">
    function preciseUnit() external pure returns (uint) {
        return PRECISE_UNIT;
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="61" endline="63" pcid="2282">
    function contractName() external view returns (bytes32) {
        return SETTINGS_CONTRACT_NAME;
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="119" endline="121" pcid="24">
    function cacheInvalid() external view returns (bool) {
        return _cacheInvalid;
    }
</source>
<source file="systems/source-code/TestableFuturesMarket.sol" startline="12" endline="14" pcid="2394">
    function entryDebtCorrection() external view returns (int) {
        return _entryDebtCorrection;
    }
</source>
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="100" endline="102" pcid="1849">
    function entryDebtCorrection() external view returns (int128) {
        return _entryDebtCorrection;
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="74" endline="76" pcid="2472">
    function getAvailableRewards() external view returns (uint) {
        return _balanceAssignedToRewards;
    }
</source>
<source file="systems/source-code/WETH.sol" startline="41" endline="46" pcid="2513">
    function totalSupply() public view returns (uint) {
        // Using _totalSupply instead of balanceOf[this]
        // as it would cause error in OVM compile
        // return address(this).balance;
        return _totalSupply;
    }
</source>
<source file="systems/source-code/MockAggregatorV2V3.sol" startline="110" endline="112" pcid="1495">
    function latestRound() public view returns (uint256) {
        return roundId;
    }
</source>
<source file="systems/source-code/MockMutator.sol" startline="6" endline="8" pcid="1529">
    function read() external view returns (uint) {
        return count;
    }
</source>
<source file="systems/source-code/StakingRewards.sol" startline="49" endline="51" pcid="2046">
    function totalSupply() external view returns (uint256) {
        return _totalSupply;
    }
</source>
<source file="systems/source-code/PerpsV2MarketState.sol" startline="152" endline="154" pcid="1822">
    function nextPositionId() external view returns (uint64) {
        return _nextPositionId;
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="90" endline="92" pcid="2476">
    function getCurrentPeriod() external view returns (uint) {
        return _currentPeriodID;
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="140" endline="142" pcid="525">
    function weth() public view returns (IWETH) {
        return _weth;
    }
</source>
<source file="systems/source-code/MockPyth.sol" startline="120" endline="122" pcid="1572">
    function getValidTimePeriod() public view returns (uint) {
        return validTimePeriod;
    }
</source>
<source file="systems/source-code/CollateralManagerState.sol" startline="81" endline="83" pcid="339">
    function ratesLastUpdated() public view returns (uint) {
        return borrowRatesLastUpdated;
    }
</source>
<source file="systems/source-code/ShortingRewards.sol" startline="65" endline="67" pcid="2018">
    function totalSupply() external view returns (uint256) {
        return _totalSupply;
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="115" endline="117" pcid="23">
    function cacheTimestamp() external view returns (uint) {
        return _cacheTimestamp;
    }
</source>
<source file="systems/source-code/SignedSafeDecimalMath.sol" startline="25" endline="27" pcid="2029">
    function unit() external pure returns (int) {
        return UNIT;
    }
</source>
<source file="systems/source-code/SignedSafeDecimalMath.sol" startline="32" endline="34" pcid="2030">
    function preciseUnit() external pure returns (int) {
        return PRECISE_UNIT;
    }
</source>
<source file="systems/source-code/OneWeekSetup.sol" startline="10" endline="12" pcid="1610">
    function publicSetupExpiryTime() public view returns (uint) {
        return setupExpiryTime;
    }
</source>
</class>

<class classid="10" nclones="21" nlines="3" similarity="100">
<source file="systems/source-code/BaseDebtCache.sol" startline="130" endline="132" pcid="26">
    function cacheStale() external view returns (bool) {
        return _cacheStale(_cacheTimestamp);
    }
</source>
<source file="systems/source-code/SynthetixBridgeToOptimism.sol" startline="44" endline="46" pcid="2123">
    function rewardsDistribution() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_REWARDSDISTRIBUTION);
    }
</source>
<source file="systems/source-code/DebtMigratorOnOptimism.sol" startline="29" endline="31" pcid="396">
    function _debtMigratorOnEthereum() private view returns (address) {
        return requireAndGetAddress(CONTRACT_BASE_DEBT_MIGRATOR_ON_ETHEREUM);
    }
</source>
<source file="systems/source-code/OwnerRelayOnEthereum.sol" startline="28" endline="30" pcid="1615">
    function _ownerRelayOnOptimism() private view returns (address) {
        return requireAndGetAddress(CONTRACT_OVM_OWNER_RELAY_ON_OPTIMISM);
    }
</source>
<source file="systems/source-code/SynthetixBridgeToOptimism.sol" startline="48" endline="50" pcid="2124">
    function synthetixBridgeToBase() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_OVM_SYNTHETIXBRIDGETOBASE);
    }
</source>
<source file="systems/source-code/SynthetixBridgeToOptimism.sol" startline="52" endline="54" pcid="2125">
    function synthetixBridgeEscrow() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_SYNTHETIXBRIDGEESCROW);
    }
</source>
<source file="systems/source-code/ImportableRewardEscrowV2.sol" startline="25" endline="27" pcid="917">
    function synthetixBridgeToBase() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_SYNTHETIX_BRIDGE_BASE);
    }
</source>
<source file="systems/source-code/SynthetixBridgeToBase.sol" startline="26" endline="28" pcid="2110">
    function synthetixBridgeToOptimism() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_BASE_SYNTHETIXBRIDGETOOPTIMISM);
    }
</source>
<source file="systems/source-code/FuturesMarketBase.sol" startline="221" endline="223" pcid="772">
    function _settings() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_FUTURESMARKETSETTINGS);
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="139" endline="141" pcid="1658">
    function _settings() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_PERPSV2MARKETSETTINGS);
    }
</source>
<source file="systems/source-code/ExchangerWithFeeRecAlternatives.sol" startline="124" endline="126" pcid="645">
    function _virtualSynthMastercopy() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_VIRTUALSYNTH_MASTERCOPY);
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="119" endline="121" pcid="213">
    function synthTransferReceived() external view returns (uint) {
        return _sumTransferAmounts(SYNTH_TRANSFER_RECV);
    }
</source>
<source file="systems/source-code/DebtMigratorOnEthereum.sol" startline="35" endline="37" pcid="382">
    function _debtMigratorOnOptimism() private view returns (address) {
        return requireAndGetAddress(CONTRACT_OVM_DEBT_MIGRATOR_ON_OPTIMISM);
    }
</source>
<source file="systems/source-code/RewardEscrowV2Frozen.sol" startline="44" endline="46" pcid="1957">
    function synthetixBridgeToOptimism() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_SYNTHETIX_BRIDGE_OPTIMISM);
    }
</source>
<source file="systems/source-code/RewardEscrowV2.sol" startline="29" endline="31" pcid="1954">
    function synthetixBridgeToOptimism() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_SYNTHETIX_BRIDGE_OPTIMISM);
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="115" endline="117" pcid="212">
    function synthTransferSent() external view returns (uint) {
        return _sumTransferAmounts(SYNTH_TRANSFER_SENT);
    }
</source>
<source file="systems/source-code/MintableSynthetix.sol" startline="45" endline="47" pcid="1366">
    function synthetixBridge() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_SYNTHETIX_BRIDGE);
    }
</source>
<source file="systems/source-code/FakeTradingRewards.sol" startline="20" endline="22" pcid="680">
    function synthetix() internal view returns (IERC20) {
        return IERC20(_mockSynthetixToken);
    }
</source>
<source file="systems/source-code/TestableFuturesMarket.sol" startline="21" endline="23" pcid="2396">
    function maxFundingRate() external view returns (uint) {
        return _maxFundingRate(marketKey);
    }
</source>
<source file="systems/source-code/ImportableRewardEscrowV2Frozen.sol" startline="30" endline="32" pcid="920">
    function synthetixBridgeToBase() internal view returns (address) {
        return requireAndGetAddress(CONTRACT_SYNTHETIX_BRIDGE_BASE);
    }
</source>
<source file="systems/source-code/OwnerRelayOnOptimism.sol" startline="32" endline="34" pcid="1621">
    function _ownerRelayOnEthereum() private view returns (address) {
        return requireAndGetAddress(CONTRACT_BASE_OWNER_RELAY_ON_ETHEREUM);
    }
</source>
</class>

<class classid="11" nclones="2" nlines="8" similarity="100">
<source file="systems/source-code/BaseDebtCache.sol" startline="184" endline="191" pcid="30">
    function _cachedSynthDebts(bytes32[] memory currencyKeys) internal view returns (uint[] memory) {
        uint numKeys = currencyKeys.length;
        uint[] memory debts = new uint[](numKeys);
        for (uint i = 0; i < numKeys; i++) {
            debts[i] = _cachedSynthDebt[currencyKeys[i]];
        }
        return debts;
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="197" endline="204" pcid="32">
    function _excludedIssuedDebts(bytes32[] memory currencyKeys) internal view returns (uint[] memory) {
        uint numKeys = currencyKeys.length;
        uint[] memory debts = new uint[](numKeys);
        for (uint i = 0; i < numKeys; i++) {
            debts[i] = _excludedIssuedDebt[currencyKeys[i]];
        }
        return debts;
    }
</source>
</class>

<class classid="12" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseDebtCache.sol" startline="193" endline="195" pcid="31">
    function cachedSynthDebts(bytes32[] calldata currencyKeys) external view returns (uint[] memory snxIssuedDebts) {
        return _cachedSynthDebts(currencyKeys);
    }
</source>
<source file="systems/source-code/BaseDebtCache.sol" startline="206" endline="208" pcid="33">
    function excludedIssuedDebts(bytes32[] calldata currencyKeys) external view returns (uint[] memory excludedDebts) {
        return _excludedIssuedDebts(currencyKeys);
    }
</source>
</class>

<class classid="13" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseDebtCache.sol" startline="301" endline="303" pcid="38">
    function currentDebt() external view returns (uint debt, bool anyRateIsInvalid) {
        return _currentDebt();
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="48" endline="50" pcid="1873">
    function assetPrice() external view returns (uint price, bool invalid) {
        return _assetPrice();
    }
</source>
</class>

<class classid="14" nclones="2" nlines="5" similarity="100">
<source file="systems/source-code/BaseDebtMigrator.sol" startline="77" endline="81" pcid="57">
    function debtTransferSent() external view returns (uint) {
        bytes32 debtSharesKey = keccak256(abi.encodePacked(DEBT_TRANSFER_NAMESPACE, DEBT_TRANSFER_SENT, SDS));
        uint currentDebtShares = flexibleStorage().getUIntValue(CONTRACT_NAME(), debtSharesKey);
        return currentDebtShares;
    }
</source>
<source file="systems/source-code/BaseDebtMigrator.sol" startline="83" endline="87" pcid="58">
    function debtTransferReceived() external view returns (uint) {
        bytes32 debtSharesKey = keccak256(abi.encodePacked(DEBT_TRANSFER_NAMESPACE, DEBT_TRANSFER_RECV, SDS));
        uint currentDebtShares = flexibleStorage().getUIntValue(CONTRACT_NAME(), debtSharesKey);
        return currentDebtShares;
    }
</source>
</class>

<class classid="15" nclones="2" nlines="5" similarity="75">
<source file="systems/source-code/BaseDebtMigrator.sol" startline="89" endline="93" pcid="59">
    function _incrementDebtTransferCounter(bytes32 group, uint debtShares) internal {
        bytes32 debtSharesKey = keccak256(abi.encodePacked(DEBT_TRANSFER_NAMESPACE, group, SDS));
        uint currentDebtShares = flexibleStorage().getUIntValue(CONTRACT_NAME(), debtSharesKey);
        flexibleStorage().setUIntValue(CONTRACT_NAME(), debtSharesKey, currentDebtShares.add(debtShares));
    }
</source>
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="191" endline="201" pcid="218">
    function _incrementSynthsTransferCounter(
        bytes32 group,
        bytes32 currencyKey,
        uint amount
    ) internal {
        bytes32 key = keccak256(abi.encodePacked(SYNTH_TRANSFER_NAMESPACE, group, currencyKey));

        uint currentSynths = flexibleStorage().getUIntValue(CONTRACT_NAME(), key);

        flexibleStorage().setUIntValue(CONTRACT_NAME(), key, currentSynths.add(amount));
    }
</source>
</class>

<class classid="16" nclones="14" nlines="4" similarity="75">
<source file="systems/source-code/BaseOneNetAggregator.sol" startline="25" endline="29" pcid="61">
    function setOverrideTimestamp(uint timestamp) public onlyOwner {
        overrideTimestamp = timestamp;

        emit SetOverrideTimestamp(timestamp);
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="317" endline="321" pcid="307">
    function setMaxDebt(uint _maxDebt) public onlyOwner {
        require(_maxDebt > 0, "Must be greater than 0");
        maxDebt = _maxDebt;
        emit MaxDebtUpdated(maxDebt);
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="311" endline="315" pcid="306">
    function setUtilisationMultiplier(uint _utilisationMultiplier) public onlyOwner {
        require(_utilisationMultiplier > 0, "Must be greater than 0");
        utilisationMultiplier = _utilisationMultiplier;
        emit UtilisationMultiplierUpdated(utilisationMultiplier);
    }
</source>
<source file="systems/source-code/SupplySchedule.sol" startline="154" endline="158" pcid="2072">
    function setInflationAmount(uint amount) external onlyOwner {
        require(amount <= maxInflationAmount, "Amount above maximum inflation");
        inflationAmount = amount;
        emit InflationAmountUpdated(inflationAmount);
    }
</source>
<source file="systems/source-code/SupplySchedule.sol" startline="132" endline="136" pcid="2070">
    function setMinterReward(uint amount) external onlyOwner {
        require(amount <= MAX_MINTER_REWARD, "Reward cannot exceed max minter reward");
        minterReward = amount;
        emit MinterRewardUpdated(minterReward);
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="323" endline="326" pcid="308">
    function setMaxSkewRate(uint _maxSkewRate) public onlyOwner {
        maxSkewRate = _maxSkewRate;
        emit MaxSkewRateUpdated(maxSkewRate);
    }
</source>
<source file="systems/source-code/Collateral.sol" startline="186" endline="189" pcid="248">
    function setIssueFeeRate(uint _issueFeeRate) external onlyOwner {
        issueFeeRate = _issueFeeRate;
        emit IssueFeeRateUpdated(issueFeeRate);
    }
</source>
<source file="systems/source-code/Collateral.sol" startline="181" endline="184" pcid="247">
    function setMinCollateral(uint _minCollateral) external onlyOwner {
        minCollateral = _minCollateral;
        emit MinCollateralUpdated(minCollateral);
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="328" endline="331" pcid="309">
    function setBaseBorrowRate(uint _baseBorrowRate) public onlyOwner {
        baseBorrowRate = _baseBorrowRate;
        emit BaseBorrowRateUpdated(baseBorrowRate);
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="333" endline="336" pcid="310">
    function setBaseShortRate(uint _baseShortRate) public onlyOwner {
        baseShortRate = _baseShortRate;
        emit BaseShortRateUpdated(baseShortRate);
    }
</source>
<source file="systems/source-code/Depot.sol" startline="91" endline="94" pcid="422">
    function setMaxEthPurchase(uint _maxEthPurchase) external onlyOwner {
        maxEthPurchase = _maxEthPurchase;
        emit MaxEthPurchaseUpdated(maxEthPurchase);
    }
</source>
<source file="systems/source-code/RewardEscrowV2Frozen.sol" startline="64" endline="67" pcid="1960">
    function setMigrateEntriesThresholdAmount(uint amount) external onlyOwner {
        migrateEntriesThresholdAmount = amount;
        emit MigrateEntriesThresholdAmountUpdated(amount);
    }
</source>
<source file="systems/source-code/SupplySchedule.sol" startline="160" endline="163" pcid="2073">
    function setMaxInflationAmount(uint amount) external onlyOwner {
        maxInflationAmount = amount;
        emit MaxInflationAmountUpdated(inflationAmount);
    }
</source>
<source file="systems/source-code/Depot.sol" startline="109" endline="114" pcid="424">
    function setMinimumDepositAmount(uint _amount) external onlyOwner {
        // Do not allow us to set it less than 1 dollar opening up to fractional desposits in the queue again
        require(_amount > SafeDecimalMath.unit(), "Minimum deposit amount must be greater than UNIT");
        minimumDepositAmount = _amount;
        emit MinimumDepositAmountUpdated(minimumDepositAmount);
    }
</source>
</class>

<class classid="17" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/BaseOneNetAggregator.sol" startline="49" endline="51" pcid="64">
    function decimals() external view returns (uint8) {
        return 0;
    }
</source>
<source file="systems/source-code/EmptyFuturesMarketManager.sol" startline="30" endline="32" pcid="478">
    function numMarkets() external view returns (uint) {
        return 0;
    }
</source>
<source file="systems/source-code/EmptyEtherWrapper.sol" startline="10" endline="12" pcid="474">
    function totalIssuedSynths() public view returns (uint) {
        return 0;
    }
</source>
</class>

<class classid="18" nclones="5" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="69" endline="71" pcid="71">
    function _notImplemented() internal pure {
        revert("Cannot be run on this layer");
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="86" endline="88" pcid="107">
    function _notImplemented() internal pure {
        revert("Cannot be run on this layer");
    }
</source>
<source file="systems/source-code/Exchanger.sol" startline="792" endline="794" pcid="582">
    function _notImplemented() internal pure {
        revert("Cannot be run on this layer");
    }
</source>
<source file="systems/source-code/ExchangeRates.sol" startline="617" endline="620" pcid="627">
    function _notImplemented() internal pure {
        // slither-disable-next-line dead-code
        revert("Cannot be run on this layer");
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="528" endline="530" pcid="189">
    function _notImplemented() internal pure {
        revert("Cannot be run on this layer");
    }
</source>
</class>

<class classid="19" nclones="2" nlines="8" similarity="71">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="76" endline="82" pcid="72">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](4);
        addresses[0] = CONTRACT_SYNTHETIX;
        addresses[1] = CONTRACT_FEEPOOL;
        addresses[2] = CONTRACT_ISSUER;
        addresses[3] = CONTRACT_REWARDESCROWV2STORAGE;
    }
</source>
<source file="systems/source-code/Synth.sol" startline="191" endline="198" pcid="2084">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](5);
        addresses[0] = CONTRACT_SYSTEMSTATUS;
        addresses[1] = CONTRACT_EXCHANGER;
        addresses[2] = CONTRACT_ISSUER;
        addresses[3] = CONTRACT_FEEPOOL;
        addresses[4] = CONTRACT_FUTURESMARKETMANAGER;
    }
</source>
</class>

<class classid="20" nclones="9" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="86" endline="88" pcid="73">
    function numVestingEntries(address account) public view returns (uint) {
        return state().numVestingEntries(account);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="236" endline="238" pcid="944">
    function _rewardEscrowBalanceOf(address account) internal view returns (uint) {
        return rewardEscrowV2().balanceOf(account);
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="126" endline="128" pcid="150">
    function synthsByAddress(address synthAddress) external view returns (bytes32) {
        return issuer().synthsByAddress(synthAddress);
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="154" endline="156" pcid="155">
    function collateralisationRatio(address _issuer) external view returns (uint) {
        return issuer().collateralisationRatio(_issuer);
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="158" endline="160" pcid="156">
    function collateral(address account) external view returns (uint) {
        return issuer().collateral(account);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="232" endline="234" pcid="943">
    function _snxBalanceOf(address account) internal view returns (uint) {
        return synthetixERC20().balanceOf(account);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="228" endline="230" pcid="942">
    function _debtShareBalanceOf(address account) internal view returns (uint) {
        return synthetixDebtShare().balanceOf(account);
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="94" endline="96" pcid="75">
    function totalEscrowedAccountBalance(address account) public view returns (uint) {
        return state().totalEscrowedAccountBalance(account);
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="98" endline="100" pcid="76">
    function totalVestedAccountBalance(address account) external view returns (uint) {
        return state().totalVestedAccountBalance(account);
    }
</source>
</class>

<class classid="21" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="90" endline="92" pcid="74">
    function totalEscrowedBalance() public view returns (uint) {
        return state().totalEscrowedBalance();
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="114" endline="116" pcid="147">
    function availableSynthCount() external view returns (uint) {
        return issuer().availableSynthCount();
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="102" endline="104" pcid="77">
    function nextEntryId() external view returns (uint) {
        return state().nextEntryId();
    }
</source>
<source file="systems/source-code/NativeEtherWrapper.sol" startline="37" endline="39" pcid="1600">
    function weth() internal view returns (IWETH) {
        return etherWrapper().weth();
    }
</source>
</class>

<class classid="22" nclones="10" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="117" endline="119" pcid="80">
    function balanceOf(address account) public view returns (uint) {
        return totalEscrowedAccountBalance(account);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="200" endline="202" pcid="2230">
    function wrapperMintFeeRate(address wrapper) external view returns (int) {
        return getWrapperMintFeeRate(wrapper);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="206" endline="208" pcid="2231">
    function wrapperBurnFeeRate(address wrapper) external view returns (int) {
        return getWrapperBurnFeeRate(wrapper);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="210" endline="212" pcid="2232">
    function interactionDelay(address collateral) external view returns (uint) {
        return getInteractionDelay(collateral);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="214" endline="216" pcid="2233">
    function collapseFeeRate(address collateral) external view returns (uint) {
        return getCollapseFeeRate(collateral);
    }
</source>
<source file="systems/source-code/VirtualSynth.sol" startline="134" endline="136" pcid="2506">
    function balanceOfUnderlying(address account) external view returns (uint) {
        return balanceUnderlying(account);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="194" endline="196" pcid="2229">
    function wrapperMaxTokenAmount(address wrapper) external view returns (uint) {
        return getWrapperMaxTokenAmount(wrapper);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="407" endline="409" pcid="965">
    function collateral(address account) external view returns (uint) {
        return _collateral(account);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="391" endline="393" pcid="962">
    function lastIssueEvent(address account) external view returns (uint) {
        return _lastIssueEvent(account);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="371" endline="373" pcid="957">
    function canBurnSynths(address account) external view returns (bool) {
        return _canBurnSynths(account);
    }
</source>
</class>

<class classid="23" nclones="2" nlines="10" similarity="71">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="189" endline="202" pcid="84">
    function getVestingQuantity(address account, uint256[] calldata entryIDs) external view returns (uint total) {
        VestingEntries.VestingEntry memory entry;
        for (uint i = 0; i < entryIDs.length; i++) {
            entry = vestingSchedules(account, entryIDs[i]);

            /* Skip entry if escrowAmount == 0 */
            if (entry.escrowAmount != 0) {
                uint256 quantity = _claimableAmount(entry);

                /* add quantity to total */
                total = total.add(quantity);
            }
        }
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="179" endline="191" pcid="114">
    function getVestingQuantity(address account, uint256[] calldata entryIDs) external view returns (uint total) {
        for (uint i = 0; i < entryIDs.length; i++) {
            VestingEntries.VestingEntry memory entry = vestingSchedules[account][entryIDs[i]];

            /* Skip entry if escrowAmount == 0 */
            if (entry.escrowAmount != 0) {
                uint256 quantity = _claimableAmount(entry);

                /* add quantity to total */
                total = total.add(quantity);
            }
        }
    }
</source>
</class>

<class classid="24" nclones="2" nlines="7" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="208" endline="215" pcid="86">
    function _claimableAmount(VestingEntries.VestingEntry memory _entry) internal view returns (uint256) {
        uint256 quantity;
        if (_entry.escrowAmount != 0) {
            /* Escrow amounts claimable if block.timestamp equal to or after entry endTime */
            quantity = block.timestamp >= _entry.endTime ? _entry.escrowAmount : 0;
        }
        return quantity;
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="198" endline="205" pcid="116">
    function _claimableAmount(VestingEntries.VestingEntry memory _entry) internal view returns (uint256) {
        uint256 quantity;
        if (_entry.escrowAmount != 0) {
            /* Escrow amounts claimable if block.timestamp equal to or after entry endTime */
            quantity = block.timestamp >= _entry.endTime ? _entry.escrowAmount : 0;
        }
        return quantity;
    }
</source>
</class>

<class classid="25" nclones="2" nlines="5" similarity="75">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="315" endline="327" pcid="90">
    function createEscrowEntry(
        address beneficiary,
        uint256 deposit,
        uint256 duration
    ) external {
        require(beneficiary != address(0), "Cannot create escrow with address(0)");

        /* Transfer SNX from msg.sender */
        require(synthetixERC20().transferFrom(msg.sender, address(this), deposit), "token transfer failed");

        /* Append vesting entry for the beneficiary address */
        _appendVestingEntry(beneficiary, deposit, duration);
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="244" endline="256" pcid="118">
    function createEscrowEntry(
        address beneficiary,
        uint256 deposit,
        uint256 duration
    ) external {
        require(beneficiary != address(0), "Cannot create escrow with address(0)");

        /* Transfer SNX from msg.sender */
        require(IERC20(address(synthetix())).transferFrom(msg.sender, address(this), deposit), "token transfer failed");

        /* Append vesting entry for the beneficiary address */
        _appendVestingEntry(beneficiary, deposit, duration);
    }
</source>
</class>

<class classid="26" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="337" endline="343" pcid="91">
    function appendVestingEntry(
        address account,
        uint256 quantity,
        uint256 duration
    ) external onlyFeePool {
        _appendVestingEntry(account, quantity, duration);
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="266" endline="272" pcid="119">
    function appendVestingEntry(
        address account,
        uint256 quantity,
        uint256 duration
    ) external onlyFeePool {
        _appendVestingEntry(account, quantity, duration);
    }
</source>
</class>

<class classid="27" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="378" endline="380" pcid="93">
    function accountMergingIsOpen() public view returns (bool) {
        return accountMergingStartTime.add(accountMergingDuration) > block.timestamp;
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="290" endline="292" pcid="122">
    function accountMergingIsOpen() public view returns (bool) {
        return accountMergingStartTime.add(accountMergingDuration) > block.timestamp;
    }
</source>
</class>

<class classid="28" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="382" endline="385" pcid="94">
    function startMergingWindow() external onlyOwner {
        accountMergingStartTime = block.timestamp;
        emit AccountMergingStarted(accountMergingStartTime, accountMergingStartTime.add(accountMergingDuration));
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="294" endline="297" pcid="123">
    function startMergingWindow() external onlyOwner {
        accountMergingStartTime = block.timestamp;
        emit AccountMergingStarted(accountMergingStartTime, accountMergingStartTime.add(accountMergingDuration));
    }
</source>
</class>

<class classid="29" nclones="8" nlines="5" similarity="75">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="387" endline="391" pcid="95">
    function setAccountMergingDuration(uint256 duration) external onlyOwner {
        require(duration <= maxAccountMergingDuration, "exceeds max merging duration");
        accountMergingDuration = duration;
        emit AccountMergingDurationUpdated(duration);
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="398" endline="401" pcid="97">
    function setMaxEscrowDuration(uint256 duration) external onlyOwner {
        max_duration = duration;
        emit MaxEscrowDurationUpdated(duration);
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="393" endline="396" pcid="96">
    function setMaxAccountMergingWindow(uint256 duration) external onlyOwner {
        maxAccountMergingDuration = duration;
        emit MaxAccountMergingDurationUpdated(duration);
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="299" endline="303" pcid="124">
    function setAccountMergingDuration(uint256 duration) external onlyOwner {
        require(duration <= maxAccountMergingDuration, "exceeds max merging duration");
        accountMergingDuration = duration;
        emit AccountMergingDurationUpdated(duration);
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="310" endline="313" pcid="126">
    function setMaxEscrowDuration(uint256 duration) external onlyOwner {
        max_duration = duration;
        emit MaxEscrowDurationUpdated(duration);
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="305" endline="308" pcid="125">
    function setMaxAccountMergingWindow(uint256 duration) external onlyOwner {
        maxAccountMergingDuration = duration;
        emit MaxAccountMergingDurationUpdated(duration);
    }
</source>
<source file="systems/source-code/StakingRewards.sol" startline="141" endline="148" pcid="2058">
    function setRewardsDuration(uint256 _rewardsDuration) external onlyOwner {
        require(
            block.timestamp > periodFinish,
            "Previous rewards period must be complete before changing the duration for the new period"
        );
        rewardsDuration = _rewardsDuration;
        emit RewardsDurationUpdated(rewardsDuration);
    }
</source>
<source file="systems/source-code/ShortingRewards.sol" startline="146" endline="153" pcid="2028">
    function setRewardsDuration(uint256 _rewardsDuration) external onlyOwner {
        require(
            block.timestamp > periodFinish,
            "Previous rewards period must be complete before changing the duration for the new period"
        );
        rewardsDuration = _rewardsDuration;
        emit RewardsDurationUpdated(rewardsDuration);
    }
</source>
</class>

<class classid="30" nclones="2" nlines="7" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="404" endline="410" pcid="98">
    function nominateAccountToMerge(address account) external {
        require(account != msg.sender, "Cannot nominate own account to merge");
        require(accountMergingIsOpen(), "Account merging has ended");
        require(issuer().debtBalanceOf(msg.sender, "sUSD") == 0, "Cannot merge accounts with debt");
        nominatedReceiver[msg.sender] = account;
        emit NominateAccountToMerge(msg.sender, account);
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="316" endline="322" pcid="127">
    function nominateAccountToMerge(address account) external {
        require(account != msg.sender, "Cannot nominate own account to merge");
        require(accountMergingIsOpen(), "Account merging has ended");
        require(issuer().debtBalanceOf(msg.sender, "sUSD") == 0, "Cannot merge accounts with debt");
        nominatedReceiver[msg.sender] = account;
        emit NominateAccountToMerge(msg.sender, account);
    }
</source>
</class>

<class classid="31" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="447" endline="449" pcid="100">
    function migrateVestingSchedule(address) external {
        _notImplemented();
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="375" endline="377" pcid="130">
    function migrateVestingSchedule(address) external {
        _notImplemented();
    }
</source>
</class>

<class classid="32" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="451" endline="457" pcid="101">
    function migrateAccountEscrowBalances(
        address[] calldata,
        uint256[] calldata,
        uint256[] calldata
    ) external {
        _notImplemented();
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="379" endline="385" pcid="131">
    function migrateAccountEscrowBalances(
        address[] calldata,
        uint256[] calldata,
        uint256[] calldata
    ) external {
        _notImplemented();
    }
</source>
</class>

<class classid="33" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="461" endline="463" pcid="102">
    function burnForMigration(address, uint[] calldata) external returns (uint256, VestingEntries.VestingEntry[] memory) {
        _notImplemented();
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="389" endline="391" pcid="132">
    function burnForMigration(address, uint[] calldata) external returns (uint256, VestingEntries.VestingEntry[] memory) {
        _notImplemented();
    }
</source>
</class>

<class classid="34" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2.sol" startline="465" endline="471" pcid="103">
    function importVestingEntries(
        address,
        uint256,
        VestingEntries.VestingEntry[] calldata
    ) external {
        _notImplemented();
    }
</source>
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="393" endline="399" pcid="133">
    function importVestingEntries(
        address,
        uint256,
        VestingEntries.VestingEntry[] calldata
    ) external {
        _notImplemented();
    }
</source>
</class>

<class classid="35" nclones="5" nlines="6" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="93" endline="98" pcid="108">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](3);
        addresses[0] = CONTRACT_SYNTHETIX;
        addresses[1] = CONTRACT_FEEPOOL;
        addresses[2] = CONTRACT_ISSUER;
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="76" endline="81" pcid="846">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](3);
        addresses[0] = CONTRACT_SYNTHSUSD;
        addresses[1] = CONTRACT_FEEPOOL;
        addresses[2] = CONTRACT_EXCHANGER;
    }
</source>
<source file="systems/source-code/TestableMixinResolver.sol" startline="15" endline="20" pcid="2402">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](3);
        addresses[0] = CONTRACT_EXAMPLE_1;
        addresses[1] = CONTRACT_EXAMPLE_2;
        addresses[2] = CONTRACT_EXAMPLE_3;
    }
</source>
<source file="systems/source-code/WrapperFactory.sol" startline="28" endline="33" pcid="2517">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](3);
        addresses[0] = CONTRACT_SYNTH_SUSD;
        addresses[1] = CONTRACT_FLEXIBLESTORAGE;
        addresses[2] = CONTRACT_FEEPOOL;
    }
</source>
<source file="systems/source-code/Depot.sol" startline="465" endline="470" pcid="438">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](3);
        addresses[0] = CONTRACT_SYNTHSUSD;
        addresses[1] = CONTRACT_EXRATES;
        addresses[2] = CONTRACT_SYNTHETIX;
    }
</source>
</class>

<class classid="36" nclones="8" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="103" endline="105" pcid="109">
    function balanceOf(address account) public view returns (uint) {
        return totalEscrowedAccountBalance[account];
    }
</source>
<source file="systems/source-code/MockFlagsInterface.sol" startline="14" endline="16" pcid="1514">
    function getFlag(address aggregator) external view returns (bool) {
        return flags[aggregator];
    }
</source>
<source file="systems/source-code/ShortingRewards.sol" startline="69" endline="71" pcid="2019">
    function balanceOf(address account) external view returns (uint256) {
        return _balances[account];
    }
</source>
<source file="systems/source-code/RewardEscrow.sol" startline="79" endline="81" pcid="1939">
    function balanceOf(address account) public view returns (uint) {
        return totalEscrowedAccountBalance[account];
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="56" endline="58" pcid="2163">
    function balanceOf(address account) public view returns (uint) {
        return totalVestedAccountBalance[account];
    }
</source>
<source file="systems/source-code/CircuitBreaker.sol" startline="76" endline="78" pcid="228">
    function lastValue(address oracleAddress) external view returns (uint) {
        return _lastValue[oracleAddress];
    }
</source>
<source file="systems/source-code/CircuitBreaker.sol" startline="80" endline="82" pcid="229">
    function circuitBroken(address oracleAddress) external view returns (bool) {
        return _circuitBroken[oracleAddress];
    }
</source>
<source file="systems/source-code/StakingRewards.sol" startline="53" endline="55" pcid="2047">
    function balanceOf(address account) external view returns (uint256) {
        return _balances[account];
    }
</source>
</class>

<class classid="37" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/BaseRewardEscrowV2Frozen.sol" startline="110" endline="112" pcid="110">
    function numVestingEntries(address account) external view returns (uint) {
        return accountVestingEntryIDs[account].length;
    }
</source>
<source file="systems/source-code/RewardEscrow.sol" startline="83" endline="85" pcid="1940">
    function _numVestingEntries(address account) internal view returns (uint) {
        return vestingSchedules[account].length;
    }
</source>
<source file="systems/source-code/RewardEscrow.sol" startline="90" endline="92" pcid="1941">
    function numVestingEntries(address account) external view returns (uint) {
        return vestingSchedules[account].length;
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="63" endline="65" pcid="2164">
    function numVestingEntries(address account) public view returns (uint) {
        return vestingSchedules[account].length;
    }
</source>
</class>

<class classid="38" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseSynthetix.sol" startline="240" endline="250" pcid="162">
    function settle(bytes32 currencyKey)
        external
        optionalProxy
        returns (
            uint reclaimed,
            uint refunded,
            uint numEntriesSettled
        )
    {
        return exchanger().settle(messageSender, currencyKey);
    }
</source>
<source file="systems/source-code/Synthetix.sol" startline="118" endline="128" pcid="2104">
    function settle(bytes32 currencyKey)
        external
        optionalProxy
        returns (
            uint reclaimed,
            uint refunded,
            uint numEntriesSettled
        )
    {
        return exchanger().settle(messageSender, currencyKey);
    }
</source>
</class>

<class classid="39" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseSynthetix.sol" startline="331" endline="333" pcid="168">
    function issueSynths(uint amount) external issuanceActive optionalProxy {
        return issuer().issueSynths(messageSender, amount);
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="347" endline="349" pcid="172">
    function burnSynths(uint amount) external issuanceActive optionalProxy {
        return issuer().burnSynths(messageSender, amount);
    }
</source>
</class>

<class classid="40" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseSynthetix.sol" startline="335" endline="337" pcid="169">
    function issueSynthsOnBehalf(address issueForAddress, uint amount) external issuanceActive optionalProxy {
        return issuer().issueSynthsOnBehalf(issueForAddress, messageSender, amount);
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="351" endline="353" pcid="173">
    function burnSynthsOnBehalf(address burnForAddress, uint amount) external issuanceActive optionalProxy {
        return issuer().burnSynthsOnBehalf(burnForAddress, messageSender, amount);
    }
</source>
</class>

<class classid="41" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseSynthetix.sol" startline="339" endline="341" pcid="170">
    function issueMaxSynths() external issuanceActive optionalProxy {
        return issuer().issueMaxSynths(messageSender);
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="355" endline="357" pcid="174">
    function burnSynthsToTarget() external issuanceActive optionalProxy {
        return issuer().burnSynthsToTarget(messageSender);
    }
</source>
</class>

<class classid="42" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseSynthetix.sol" startline="343" endline="345" pcid="171">
    function issueMaxSynthsOnBehalf(address issueForAddress) external issuanceActive optionalProxy {
        return issuer().issueMaxSynthsOnBehalf(issueForAddress, messageSender);
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="359" endline="361" pcid="175">
    function burnSynthsToTargetOnBehalf(address burnForAddress) external issuanceActive optionalProxy {
        return issuer().burnSynthsToTargetOnBehalf(burnForAddress, messageSender);
    }
</source>
</class>

<class classid="43" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseSynthetix.sol" startline="516" endline="518" pcid="186">
    function mintSecondary(address, uint) external {
        _notImplemented();
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="524" endline="526" pcid="188">
    function burnSecondary(address, uint) external {
        _notImplemented();
    }
</source>
</class>

<class classid="44" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/BaseSynthetix.sol" startline="539" endline="541" pcid="190">
    function _systemActive() private view {
        systemStatus().requireSystemActive();
    }
</source>
<source file="systems/source-code/Collateral.sol" startline="642" endline="644" pcid="271">
    function _requireIssuanceIsActive() private view {
        _systemStatus().requireIssuanceActive();
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="548" endline="550" pcid="191">
    function _issuanceActive() private view {
        systemStatus().requireIssuanceActive();
    }
</source>
</class>

<class classid="45" nclones="2" nlines="11" similarity="100">
<source file="systems/source-code/BaseSynthetix.sol" startline="575" endline="585" pcid="194">
    function _onlyProxyOrInternal() internal {
        if (msg.sender == address(proxy)) {
            // allow proxy through, messageSender should be already set correctly
            return;
        } else if (_isInternalTransferCaller(msg.sender)) {
            // optionalProxy behaviour only for the internal legacy contracts
            messageSender = msg.sender;
        } else {
            revert("Only the proxy can call");
        }
    }
</source>
<source file="systems/source-code/Synth.sol" startline="278" endline="288" pcid="2094">
    function _onlyProxyOrInternal() internal {
        if (msg.sender == address(proxy)) {
            // allow proxy through, messageSender should be already set correctly
            return;
        } else if (_isInternalTransferCaller(msg.sender)) {
            // optionalProxy behaviour only for the internal legacy contracts
            messageSender = msg.sender;
        } else {
            revert("Only the proxy can call");
        }
    }
</source>
</class>

<class classid="46" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseSynthetix.sol" startline="634" endline="650" pcid="197">
    function emitSynthExchange(
        address account,
        bytes32 fromCurrencyKey,
        uint256 fromAmount,
        bytes32 toCurrencyKey,
        uint256 toAmount,
        address toAddress
    ) external onlyExchanger {
        proxy._emit(
            abi.encode(fromCurrencyKey, fromAmount, toCurrencyKey, toAmount, toAddress),
            2,
            SYNTH_EXCHANGE_SIG,
            addressToBytes32(account),
            0,
            0
        );
    }
</source>
<source file="systems/source-code/Synthetix.sol" startline="193" endline="209" pcid="2107">
    function emitAtomicSynthExchange(
        address account,
        bytes32 fromCurrencyKey,
        uint256 fromAmount,
        bytes32 toCurrencyKey,
        uint256 toAmount,
        address toAddress
    ) external onlyExchanger {
        proxy._emit(
            abi.encode(fromCurrencyKey, fromAmount, toCurrencyKey, toAmount, toAddress),
            2,
            ATOMIC_SYNTH_EXCHANGE_SIG,
            addressToBytes32(account),
            0,
            0
        );
    }
</source>
</class>

<class classid="47" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseSynthetix.sol" startline="667" endline="673" pcid="199">
    function emitExchangeReclaim(
        address account,
        bytes32 currencyKey,
        uint256 amount
    ) external onlyExchanger {
        proxy._emit(abi.encode(currencyKey, amount), 2, EXCHANGERECLAIM_SIG, addressToBytes32(account), 0, 0);
    }
</source>
<source file="systems/source-code/BaseSynthetix.sol" startline="678" endline="684" pcid="200">
    function emitExchangeRebate(
        address account,
        bytes32 currencyKey,
        uint256 amount
    ) external onlyExchanger {
        proxy._emit(abi.encode(currencyKey, amount), 2, EXCHANGEREBATE_SIG, addressToBytes32(account), 0, 0);
    }
</source>
</class>

<class classid="48" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="86" endline="88" pcid="209">
    function initiatingActive() internal view {
        require(initiationActive, "Initiation deactivated");
    }
</source>
<source file="systems/source-code/DebtMigratorOnEthereum.sol" startline="55" endline="57" pcid="387">
    function _initiatingActive() internal view {
        require(initiationActive, "Initiation deactivated");
    }
</source>
</class>

<class classid="49" nclones="2" nlines="5" similarity="100">
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="137" endline="141" pcid="214">
    function suspendInitiation() external onlyOwner {
        require(initiationActive, "Initiation suspended");
        initiationActive = false;
        emit InitiationSuspended();
    }
</source>
<source file="systems/source-code/DebtMigratorOnEthereum.sol" startline="146" endline="150" pcid="392">
    function suspendInitiation() external onlyOwner {
        require(initiationActive, "Initiation suspended");
        initiationActive = false;
        emit InitiationSuspended();
    }
</source>
</class>

<class classid="50" nclones="2" nlines="5" similarity="100">
<source file="systems/source-code/BaseSynthetixBridge.sol" startline="143" endline="147" pcid="215">
    function resumeInitiation() external onlyOwner {
        require(!initiationActive, "Initiation not suspended");
        initiationActive = true;
        emit InitiationResumed();
    }
</source>
<source file="systems/source-code/DebtMigratorOnEthereum.sol" startline="152" endline="156" pcid="393">
    function resumeInitiation() external onlyOwner {
        require(!initiationActive, "Initiation not suspended");
        initiationActive = true;
        emit InitiationResumed();
    }
</source>
</class>

<class classid="51" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/Collateral.sol" startline="116" endline="118" pcid="237">
    function _synth(bytes32 synthName) internal view returns (ISynth) {
        return ISynth(requireAndGetAddress(synthName));
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="145" endline="147" pcid="293">
    function _synth(bytes32 synthName) internal view returns (ISynth) {
        return ISynth(requireAndGetAddress(synthName));
    }
</source>
</class>

<class classid="52" nclones="2" nlines="15" similarity="70">
<source file="systems/source-code/Collateral.sol" startline="157" endline="177" pcid="246">
    function areSynthsAndCurrenciesSet(bytes32[] calldata _synthNamesInResolver, bytes32[] calldata _synthKeys)
        external
        view
        returns (bool)
    {
        if (synths.length != _synthNamesInResolver.length) {
            return false;
        }

        for (uint i = 0; i < _synthNamesInResolver.length; i++) {
            bytes32 synthName = _synthNamesInResolver[i];
            if (synths[i] != synthName) {
                return false;
            }
            if (synthsByKey[_synthKeys[i]] != synths[i]) {
                return false;
            }
        }

        return true;
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="380" endline="399" pcid="315">
    function areSynthsAndCurrenciesSet(bytes32[] calldata requiredSynthNamesInResolver, bytes32[] calldata synthKeys)
        external
        view
        returns (bool)
    {
        if (_synths.elements.length != requiredSynthNamesInResolver.length) {
            return false;
        }

        for (uint i = 0; i < requiredSynthNamesInResolver.length; i++) {
            if (!_synths.contains(requiredSynthNamesInResolver[i])) {
                return false;
            }
            if (synthsByKey[synthKeys[i]] != requiredSynthNamesInResolver[i]) {
                return false;
            }
        }

        return true;
    }
</source>
</class>

<class classid="53" nclones="3" nlines="4" similarity="100">
<source file="systems/source-code/Collateral.sol" startline="191" endline="194" pcid="249">
    function setCanOpenLoans(bool _canOpenLoans) external onlyOwner {
        canOpenLoans = _canOpenLoans;
        emit CanOpenLoansUpdated(canOpenLoans);
    }
</source>
<source file="systems/source-code/DappMaintenance.sol" startline="33" endline="36" pcid="369">
    function setMaintenanceModeStaking(bool isPaused) external onlyOwner {
        isPausedStaking = isPaused;
        emit StakingMaintenance(isPausedStaking);
    }
</source>
<source file="systems/source-code/DappMaintenance.sol" startline="38" endline="41" pcid="370">
    function setMaintenanceModeSX(bool isPaused) external onlyOwner {
        isPausedSX = isPaused;
        emit SXMaintenance(isPausedSX);
    }
</source>
</class>

<class classid="54" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/CollateralErc20.sol" startline="83" endline="89" pcid="276">
    function repay(
        address borrower,
        uint id,
        uint amount
    ) external returns (uint principal, uint collateral) {
        (principal, collateral) = _repay(borrower, msg.sender, id, amount);
    }
</source>
<source file="systems/source-code/CollateralEth.sol" startline="43" endline="49" pcid="285">
    function repay(
        address borrower,
        uint id,
        uint amount
    ) external returns (uint principal, uint collateral) {
        (principal, collateral) = _repay(borrower, msg.sender, id, amount);
    }
</source>
<source file="systems/source-code/CollateralShort.sol" startline="53" endline="59" pcid="352">
    function repay(
        address borrower,
        uint id,
        uint amount
    ) external returns (uint principal, uint collateral) {
        (principal, collateral) = _repay(borrower, msg.sender, id, amount);
    }
</source>
</class>

<class classid="55" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/CollateralErc20.sol" startline="91" endline="93" pcid="277">
    function draw(uint id, uint amount) external returns (uint principal, uint collateral) {
        (principal, collateral) = _draw(id, amount);
    }
</source>
<source file="systems/source-code/CollateralEth.sol" startline="51" endline="53" pcid="286">
    function draw(uint id, uint amount) external returns (uint principal, uint collateral) {
        (principal, collateral) = _draw(id, amount);
    }
</source>
<source file="systems/source-code/CollateralShort.sol" startline="82" endline="84" pcid="356">
    function draw(uint id, uint amount) external returns (uint principal, uint collateral) {
        (principal, collateral) = _draw(id, amount);
    }
</source>
</class>

<class classid="56" nclones="5" nlines="3" similarity="100">
<source file="systems/source-code/CollateralManager.sol" startline="151" endline="153" pcid="294">
    function hasCollateral(address collateral) public view returns (bool) {
        return _collaterals.contains(collateral);
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="219" endline="221" pcid="1893">
    function isFlagged(address account) external view returns (bool) {
        return marketState.isFlagged(account);
    }
</source>
<source file="systems/source-code/TestableAddressSet.sol" startline="10" endline="12" pcid="2377">
    function contains(address candidate) public view returns (bool) {
        return set.contains(candidate);
    }
</source>
<source file="systems/source-code/ExternStateToken.sol" startline="60" endline="62" pcid="670">
    function balanceOf(address account) external view returns (uint) {
        return tokenState.balanceOf(account);
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="244" endline="246" pcid="864">
    function isEndorsed(address account) external view returns (bool) {
        return _endorsedAddresses.contains(account);
    }
</source>
</class>

<class classid="57" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/CollateralManager.sol" startline="166" endline="168" pcid="296">
    function long(bytes32 synth) external view returns (uint amount) {
        return state.long(synth);
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="170" endline="172" pcid="297">
    function short(bytes32 synth) external view returns (uint amount) {
        return state.short(synth);
    }
</source>
</class>

<class classid="58" nclones="8" nlines="7" similarity="80">
<source file="systems/source-code/CollateralManager.sol" startline="346" endline="353" pcid="312">
    function addCollaterals(address[] calldata collaterals) external onlyOwner {
        for (uint i = 0; i < collaterals.length; i++) {
            if (!_collaterals.contains(collaterals[i])) {
                _collaterals.add(collaterals[i]);
                emit CollateralAdded(collaterals[i]);
            }
        }
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="355" endline="362" pcid="313">
    function removeCollaterals(address[] calldata collaterals) external onlyOwner {
        for (uint i = 0; i < collaterals.length; i++) {
            if (_collaterals.contains(collaterals[i])) {
                _collaterals.remove(collaterals[i]);
                emit CollateralRemoved(collaterals[i]);
            }
        }
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="442" endline="447" pcid="880">
    function addEndorsedAddresses(address[] calldata addresses) external onlyOwner {
        for (uint i = 0; i < addresses.length; i++) {
            _endorsedAddresses.add(addresses[i]);
            emit EndorsedAddressAdded(addresses[i]);
        }
    }
</source>
<source file="systems/source-code/PerpsV2ExchangeRate.sol" startline="48" endline="55" pcid="1631">
    function addAssociatedContracts(address[] calldata associatedContracts) external onlyOwner {
        for (uint i = 0; i < associatedContracts.length; i++) {
            if (!_associatedContracts.contains(associatedContracts[i])) {
                _associatedContracts.add(associatedContracts[i]);
                emit AssociatedContractAdded(associatedContracts[i]);
            }
        }
    }
</source>
<source file="systems/source-code/PerpsV2ExchangeRate.sol" startline="58" endline="65" pcid="1632">
    function removeAssociatedContracts(address[] calldata associatedContracts) external onlyOwner {
        for (uint i = 0; i < associatedContracts.length; i++) {
            if (_associatedContracts.contains(associatedContracts[i])) {
                _associatedContracts.remove(associatedContracts[i]);
                emit AssociatedContractRemoved(associatedContracts[i]);
            }
        }
    }
</source>
<source file="systems/source-code/StateShared.sol" startline="33" endline="40" pcid="2062">
    function _addAssociatedContracts(address[] memory associatedContracts) internal {
        for (uint i = 0; i < associatedContracts.length; i++) {
            if (!_associatedContracts.contains(associatedContracts[i])) {
                _associatedContracts.add(associatedContracts[i]);
                emit AssociatedContractAdded(associatedContracts[i]);
            }
        }
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="429" endline="436" pcid="879">
    function removeEndorsedAddresses(address[] calldata addresses) external onlyOwner {
        for (uint i = 0; i < addresses.length; i++) {
            if (_endorsedAddresses.contains(addresses[i])) {
                _endorsedAddresses.remove(addresses[i]);
                emit EndorsedAddressRemoved(addresses[i]);
            }
        }
    }
</source>
<source file="systems/source-code/StateShared.sol" startline="48" endline="55" pcid="2064">
    function removeAssociatedContracts(address[] calldata associatedContracts) external onlyOwner {
        for (uint i = 0; i < associatedContracts.length; i++) {
            if (_associatedContracts.contains(associatedContracts[i])) {
                _associatedContracts.remove(associatedContracts[i]);
                emit AssociatedContractRemoved(associatedContracts[i]);
            }
        }
    }
</source>
</class>

<class classid="59" nclones="2" nlines="13" similarity="80">
<source file="systems/source-code/CollateralManager.sol" startline="364" endline="378" pcid="314">
    function addSynths(bytes32[] calldata synthNamesInResolver, bytes32[] calldata synthKeys) external onlyOwner {
        require(synthNamesInResolver.length == synthKeys.length, "Input array length mismatch");

        for (uint i = 0; i < synthNamesInResolver.length; i++) {
            if (!_synths.contains(synthNamesInResolver[i])) {
                bytes32 synthName = synthNamesInResolver[i];
                _synths.add(synthName);
                _currencyKeys.add(synthKeys[i]);
                synthsByKey[synthKeys[i]] = synthName;
                emit SynthAdded(synthName);
            }
        }

        rebuildCache();
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="416" endline="439" pcid="317">
    function addShortableSynths(bytes32[] calldata requiredSynthNamesInResolver, bytes32[] calldata synthKeys)
        external
        onlyOwner
    {
        require(requiredSynthNamesInResolver.length == synthKeys.length, "Input array length mismatch");

        for (uint i = 0; i < requiredSynthNamesInResolver.length; i++) {
            bytes32 synth = requiredSynthNamesInResolver[i];

            if (!_shortableSynths.contains(synth)) {
                // Add it to the address set lib.
                _shortableSynths.add(synth);

                shortableSynthsByKey[synthKeys[i]] = synth;

                emit ShortableSynthAdded(synth);

                // now the associated synth key to the CollateralManagerState
                state.addShortCurrency(synthKeys[i]);
            }
        }

        rebuildCache();
    }
</source>
</class>

<class classid="60" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/CollateralManager.sol" startline="481" endline="483" pcid="320">
    function updateBorrowRates(uint rate) internal {
        state.updateBorrowRates(rate);
    }
</source>
<source file="systems/source-code/MockPerpsV2Market.sol" startline="67" endline="69" pcid="1540">
    function payFee(uint amount) external {
        manager.payFee(amount);
    }
</source>
</class>

<class classid="61" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/CollateralManager.sol" startline="489" endline="491" pcid="322">
    function updateBorrowRatesCollateral(uint rate) external onlyCollateral {
        state.updateBorrowRates(rate);
    }
</source>
<source file="systems/source-code/SynthetixState.sol" startline="84" endline="86" pcid="2180">
    function appendDebtLedgerValue(uint value) external onlyAssociatedContract {
        debtLedger.push(value);
    }
</source>
</class>

<class classid="62" nclones="5" nlines="3" similarity="100">
<source file="systems/source-code/CollateralManager.sol" startline="493" endline="495" pcid="323">
    function updateShortRatesCollateral(bytes32 currency, uint rate) external onlyCollateral {
        state.updateShortRates(currency, rate);
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="501" endline="503" pcid="325">
    function decrementLongs(bytes32 synth, uint amount) external onlyCollateral {
        state.decrementLongs(synth, amount);
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="505" endline="507" pcid="326">
    function incrementShorts(bytes32 synth, uint amount) external onlyCollateral {
        state.incrementShorts(synth, amount);
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="509" endline="511" pcid="327">
    function decrementShorts(bytes32 synth, uint amount) external onlyCollateral {
        state.decrementShorts(synth, amount);
    }
</source>
<source file="systems/source-code/CollateralManager.sol" startline="497" endline="499" pcid="324">
    function incrementLongs(bytes32 synth, uint amount) external onlyCollateral {
        state.incrementLongs(synth, amount);
    }
</source>
</class>

<class classid="63" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/CollateralManagerState.sol" startline="42" endline="44" pcid="330">
    function long(bytes32 synth) external view onlyAssociatedContract returns (uint) {
        return totalIssuedSynths[synth].long;
    }
</source>
<source file="systems/source-code/CollateralManagerState.sol" startline="46" endline="48" pcid="331">
    function short(bytes32 synth) external view onlyAssociatedContract returns (uint) {
        return totalIssuedSynths[synth].short;
    }
</source>
</class>

<class classid="64" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/CollateralManagerState.sol" startline="50" endline="52" pcid="332">
    function incrementLongs(bytes32 synth, uint256 amount) external onlyAssociatedContract {
        totalIssuedSynths[synth].long = totalIssuedSynths[synth].long.add(amount);
    }
</source>
<source file="systems/source-code/CollateralManagerState.sol" startline="58" endline="60" pcid="334">
    function incrementShorts(bytes32 synth, uint256 amount) external onlyAssociatedContract {
        totalIssuedSynths[synth].short = totalIssuedSynths[synth].short.add(amount);
    }
</source>
<source file="systems/source-code/CollateralManagerState.sol" startline="54" endline="56" pcid="333">
    function decrementLongs(bytes32 synth, uint256 amount) external onlyAssociatedContract {
        totalIssuedSynths[synth].long = totalIssuedSynths[synth].long.sub(amount);
    }
</source>
<source file="systems/source-code/CollateralManagerState.sol" startline="62" endline="64" pcid="335">
    function decrementShorts(bytes32 synth, uint256 amount) external onlyAssociatedContract {
        totalIssuedSynths[synth].short = totalIssuedSynths[synth].short.sub(amount);
    }
</source>
</class>

<class classid="65" nclones="7" nlines="3" similarity="100">
<source file="systems/source-code/CollateralManagerState.sol" startline="72" endline="74" pcid="337">
    function getRatesLength() public view returns (uint) {
        return borrowRates.length;
    }
</source>
<source file="systems/source-code/SynthetixState.sol" startline="93" endline="95" pcid="2181">
    function debtLedgerLength() external view returns (uint) {
        return debtLedger.length;
    }
</source>
<source file="systems/source-code/RewardsDistribution.sol" startline="192" endline="194" pcid="1992">
    function distributionsLength() external view returns (uint) {
        return distributions.length;
    }
</source>
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="108" endline="110" pcid="1851">
    function fundingSequenceLength() external view returns (uint) {
        return fundingSequence.length;
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="43" endline="45" pcid="2321">
    function systemSuspended() external view returns (bool) {
        return systemSuspension.suspended;
    }
</source>
<source file="systems/source-code/MixinFuturesViews.sol" startline="50" endline="52" pcid="1398">
    function fundingSequenceLength() external view returns (uint) {
        return fundingSequence.length;
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="379" endline="381" pcid="959">
    function availableSynthCount() external view returns (uint) {
        return availableSynths.length;
    }
</source>
</class>

<class classid="66" nclones="8" nlines="3" similarity="100">
<source file="systems/source-code/CollateralManagerState.sol" startline="110" endline="112" pcid="342">
    function removeShortCurrency(bytes32 currency) external onlyAssociatedContract {
        delete shortRates[currency];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="101" endline="103" pcid="507">
    function deleteBooleanValue(bytes32 record) external onlyAssociatedContract {
        delete BooleanStorage[record];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="114" endline="116" pcid="510">
    function deleteIntValue(bytes32 record) external onlyAssociatedContract {
        delete IntStorage[record];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="36" endline="38" pcid="492">
    function deleteUIntValue(bytes32 record) external onlyAssociatedContract {
        delete UIntStorage[record];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="88" endline="90" pcid="504">
    function deleteBytes32Value(bytes32 record) external onlyAssociatedContract {
        delete Bytes32Storage[record];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="75" endline="77" pcid="501">
    function deleteBytesValue(bytes32 record) external onlyAssociatedContract {
        delete BytesStorage[record];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="62" endline="64" pcid="498">
    function deleteAddressValue(bytes32 record) external onlyAssociatedContract {
        delete AddressStorage[record];
    }
</source>
<source file="systems/source-code/EternalStorage.sol" startline="49" endline="51" pcid="495">
    function deleteStringValue(bytes32 record) external onlyAssociatedContract {
        delete StringStorage[record];
    }
</source>
</class>

<class classid="67" nclones="2" nlines="5" similarity="75">
<source file="systems/source-code/CollateralShort.sol" startline="29" endline="33" pcid="349">
    function close(uint id) external returns (uint amount, uint collateral) {
        (amount, collateral) = _close(msg.sender, id);

        IERC20(address(_synthsUSD())).transfer(msg.sender, collateral);
    }
</source>
<source file="systems/source-code/CollateralShort.sol" startline="61" endline="67" pcid="353">
    function closeWithCollateral(uint id) external returns (uint amount, uint collateral) {
        (amount, collateral) = _closeWithCollateral(msg.sender, id);

        if (collateral > 0) {
            IERC20(address(_synthsUSD())).transfer(msg.sender, collateral);
        }
    }
</source>
</class>

<class classid="68" nclones="14" nlines="6" similarity="80">
<source file="systems/source-code/CollateralUtil.sol" startline="27" endline="32" pcid="360">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_EXRATES;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="26" endline="31" pcid="882">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinFuturesMarketSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_FUTURES_MARKET_MANAGER;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/ImportableRewardEscrowV2Frozen.sol" startline="23" endline="28" pcid="919">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = BaseRewardEscrowV2Frozen.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_SYNTHETIX_BRIDGE_BASE;
        return combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/PurgeableSynth.sol" startline="35" endline="40" pcid="1933">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = Synth.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_EXRATES;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/ExchangerWithFeeRecAlternatives.sol" startline="41" endline="46" pcid="640">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = Exchanger.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_VIRTUALSYNTH_MASTERCOPY;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/ExchangeRatesWithDexPricing.sol" startline="20" endline="25" pcid="628">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = ExchangeRates.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_DIRECT_INTEGRATION_MANAGER;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/DebtMigratorOnOptimism.sol" startline="22" endline="27" pcid="395">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = BaseDebtMigrator.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_BASE_DEBT_MIGRATOR_ON_ETHEREUM;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/SynthetixBridgeToBase.sol" startline="36" endline="41" pcid="2112">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = BaseSynthetixBridge.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_BASE_SYNTHETIXBRIDGETOOPTIMISM;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="29" endline="34" pcid="1760">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinPerpsV2MarketSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_FUTURES_MARKET_MANAGER;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/ExchangeRates.sol" startline="105" endline="111" pcid="586">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_CIRCUIT_BREAKER;

        return combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/RewardEscrowV2.sol" startline="22" endline="27" pcid="1953">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = BaseRewardEscrowV2.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_SYNTHETIX_BRIDGE_OPTIMISM;
        return combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/ImportableRewardEscrowV2.sol" startline="18" endline="23" pcid="916">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = BaseRewardEscrowV2.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_SYNTHETIX_BRIDGE_BASE;
        return combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/MintableSynthetix.sol" startline="38" endline="43" pcid="1365">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = BaseSynthetix.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_SYNTHETIX_BRIDGE;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
<source file="systems/source-code/ExchangeCircuitBreaker.sol" startline="45" endline="50" pcid="532">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        bytes32[] memory existingAddresses = MixinSystemSettings.resolverAddressesRequired();
        bytes32[] memory newAddresses = new bytes32[](1);
        newAddresses[0] = CONTRACT_EXRATES;
        addresses = combineArrays(existingAddresses, newAddresses);
    }
</source>
</class>

<class classid="69" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/DebtMigratorOnEthereum.sol" startline="59" endline="66" pcid="388">
    function _getCrossDomainGasLimit(uint32 crossDomainGasLimit) private view returns (uint32) {
        // Use specified crossDomainGasLimit if specified value is not zero.
        // otherwise use the default in SystemSettings.
        return
            crossDomainGasLimit != 0
                ? crossDomainGasLimit
                : uint32(getCrossDomainMessageGasLimit(CrossDomainMessageGasLimits.Relay));
    }
</source>
<source file="systems/source-code/OwnerRelayOnEthereum.sol" startline="32" endline="39" pcid="1616">
    function _getCrossDomainGasLimit(uint32 crossDomainGasLimit) private view returns (uint32) {
        // Use specified crossDomainGasLimit if specified value is not zero.
        // otherwise use the default in SystemSettings.
        return
            crossDomainGasLimit != 0
                ? crossDomainGasLimit
                : uint32(getCrossDomainMessageGasLimit(CrossDomainMessageGasLimits.Relay));
    }
</source>
</class>

<class classid="70" nclones="2" nlines="5" similarity="75">
<source file="systems/source-code/DebtMigratorOnOptimism.sol" startline="75" endline="79" pcid="400">
    function _onlyAllowFromCounterpart() internal view {
        iAbs_BaseCrossDomainMessenger messenger = _messenger();
        require(msg.sender == address(messenger), "Sender is not the messenger");
        require(messenger.xDomainMessageSender() == _counterpart(), "L1 sender is not the debt migrator");
    }
</source>
<source file="systems/source-code/OwnerRelayOnOptimism.sol" startline="43" endline="48" pcid="1623">
    function _onlyAllowMessengerAndL1Relayer() internal view {
        iAbs_BaseCrossDomainMessenger messenger = _messenger();

        require(msg.sender == address(messenger), "Sender is not the messenger");
        require(messenger.xDomainMessageSender() == _ownerRelayOnEthereum(), "L1 sender is not the owner relay");
    }
</source>
</class>

<class classid="71" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/DelegateApprovals.sol" startline="47" endline="49" pcid="403">
    function canBurnFor(address authoriser, address delegate) external view returns (bool) {
        return _checkApproval(BURN_FOR_ADDRESS, authoriser, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="51" endline="53" pcid="404">
    function canIssueFor(address authoriser, address delegate) external view returns (bool) {
        return _checkApproval(ISSUE_FOR_ADDRESS, authoriser, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="59" endline="61" pcid="406">
    function canExchangeFor(address authoriser, address delegate) external view returns (bool) {
        return _checkApproval(EXCHANGE_FOR_ADDRESS, authoriser, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="55" endline="57" pcid="405">
    function canClaimFor(address authoriser, address delegate) external view returns (bool) {
        return _checkApproval(CLAIM_FOR_ADDRESS, authoriser, delegate);
    }
</source>
</class>

<class classid="72" nclones="9" nlines="3" similarity="100">
<source file="systems/source-code/DelegateApprovals.sol" startline="83" endline="85" pcid="409">
    function approveAllDelegatePowers(address delegate) external {
        _setApproval(APPROVE_ALL, msg.sender, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="104" endline="106" pcid="413">
    function approveIssueOnBehalf(address delegate) external {
        _setApproval(ISSUE_FOR_ADDRESS, msg.sender, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="126" endline="128" pcid="418">
    function removeExchangeOnBehalf(address delegate) external {
        _withdrawApproval(EXCHANGE_FOR_ADDRESS, msg.sender, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="122" endline="124" pcid="417">
    function approveExchangeOnBehalf(address delegate) external {
        _setApproval(EXCHANGE_FOR_ADDRESS, msg.sender, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="95" endline="97" pcid="411">
    function approveBurnOnBehalf(address delegate) external {
        _setApproval(BURN_FOR_ADDRESS, msg.sender, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="117" endline="119" pcid="416">
    function removeClaimOnBehalf(address delegate) external {
        _withdrawApproval(CLAIM_FOR_ADDRESS, msg.sender, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="99" endline="101" pcid="412">
    function removeBurnOnBehalf(address delegate) external {
        _withdrawApproval(BURN_FOR_ADDRESS, msg.sender, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="113" endline="115" pcid="415">
    function approveClaimOnBehalf(address delegate) external {
        _setApproval(CLAIM_FOR_ADDRESS, msg.sender, delegate);
    }
</source>
<source file="systems/source-code/DelegateApprovals.sol" startline="108" endline="110" pcid="414">
    function removeIssueOnBehalf(address delegate) external {
        _withdrawApproval(ISSUE_FOR_ADDRESS, msg.sender, delegate);
    }
</source>
</class>

<class classid="73" nclones="4" nlines="5" similarity="75">
<source file="systems/source-code/DelegateApprovals.sol" startline="152" endline="156" pcid="421">
    function setEternalStorage(EternalStorage _eternalStorage) external onlyOwner {
        require(address(_eternalStorage) != address(0), "Can't set eternalStorage to address(0)");
        eternalStorage = _eternalStorage;
        emit EternalStorageUpdated(address(eternalStorage));
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="46" endline="49" pcid="2162">
    function setSynthetix(ISynthetix _synthetix) external onlyOwner {
        synthetix = _synthetix;
        emit SynthetixUpdated(address(_synthetix));
    }
</source>
<source file="systems/source-code/RewardEscrow.sol" startline="60" endline="63" pcid="1937">
    function setSynthetix(ISynthetix _synthetix) external onlyOwner {
        synthetix = _synthetix;
        emit SynthetixUpdated(address(_synthetix));
    }
</source>
<source file="systems/source-code/RewardEscrow.sol" startline="69" endline="72" pcid="1938">
    function setFeePool(IFeePool _feePool) external onlyOwner {
        feePool = _feePool;
        emit FeePoolUpdated(address(_feePool));
    }
</source>
</class>

<class classid="74" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/Depot.sol" startline="477" endline="480" pcid="439">
    function synthetixReceivedForSynths(uint amount) public view returns (uint) {
        // And what would that be worth in SNX based on the current price?
        return amount.divideDecimal(exchangeRates().rateForCurrency(SNX));
    }
</source>
<source file="systems/source-code/Depot.sol" startline="500" endline="503" pcid="441">
    function synthsReceivedForEther(uint amount) public view returns (uint) {
        // How many synths would that amount of ether be worth?
        return amount.multiplyDecimal(exchangeRates().rateForCurrency(ETH));
    }
</source>
</class>

<class classid="75" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/EmptyCollateralManager.sol" startline="16" endline="18" pcid="450">
    function long(bytes32) external view returns (uint amount) {
        return 0;
    }
</source>
<source file="systems/source-code/EmptyCollateralManager.sol" startline="20" endline="22" pcid="451">
    function short(bytes32) external view returns (uint amount) {
        return 0;
    }
</source>
</class>

<class classid="76" nclones="6" nlines="3" similarity="100">
<source file="systems/source-code/EmptyCollateralManager.sol" startline="24" endline="26" pcid="452">
    function totalLong() external view returns (uint susdValue, bool anyRateIsInvalid) {
        return (0, false);
    }
</source>
<source file="systems/source-code/EmptyFuturesMarketManager.sol" startline="61" endline="63" pcid="484">
    function totalDebt() external view returns (uint debt, bool isInvalid) {
        return (0, false);
    }
</source>
<source file="systems/source-code/EmptyCollateralManager.sol" startline="32" endline="34" pcid="454">
    function getBorrowRate() external view returns (uint borrowRate, bool anyRateIsInvalid) {
        return (0, false);
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="44" endline="46" pcid="2419">
    function assetPrice() external view returns (uint price, bool invalid) {
        return (0, false);
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="52" endline="54" pcid="2421">
    function marketDebt() external view returns (uint debt, bool isInvalid) {
        return (0, false);
    }
</source>
<source file="systems/source-code/EmptyCollateralManager.sol" startline="28" endline="30" pcid="453">
    function totalShort() external view returns (uint susdValue, bool anyRateIsInvalid) {
        return (0, false);
    }
</source>
</class>

<class classid="77" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/EmptyCollateralManager.sol" startline="70" endline="72" pcid="459">
    function areSynthsAndCurrenciesSet(bytes32[] calldata, bytes32[] calldata) external view returns (bool) {
        return false;
    }
</source>
<source file="systems/source-code/EmptyCollateralManager.sol" startline="74" endline="76" pcid="460">
    function areShortableSynthsSet(bytes32[] calldata, bytes32[] calldata) external view returns (bool) {
        return false;
    }
</source>
</class>

<class classid="78" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/EmptyCollateralManager.sol" startline="79" endline="81" pcid="461">
    function getNewLoanId() external returns (uint id) {
        return 0;
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="149" endline="151" pcid="2436">
    function recomputeFunding() external returns (uint lastIndex) {
        return 0;
    }
</source>
</class>

<class classid="79" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/EmptyFuturesMarketManager.sol" startline="39" endline="42" pcid="480">
    function allMarkets() external view returns (address[] memory) {
        address[] memory _markets;
        return _markets;
    }
</source>
<source file="systems/source-code/EmptyFuturesMarketManager.sol" startline="70" endline="73" pcid="486">
    function allEndorsedAddresses() external view returns (address[] memory) {
        address[] memory _endorsedAddresses;
        return _endorsedAddresses;
    }
</source>
</class>

<class classid="80" nclones="2" nlines="5" similarity="75">
<source file="systems/source-code/EmptyFuturesMarketManager.sol" startline="44" endline="48" pcid="481">
    function allMarkets(bool proxiedMarkets) external view returns (address[] memory) {
        proxiedMarkets;
        address[] memory _markets;
        return _markets;
    }
</source>
<source file="systems/source-code/EmptyFuturesMarketManager.sol" startline="55" endline="59" pcid="483">
    function marketsForKeys(bytes32[] calldata marketKeys) external view returns (address[] memory) {
        marketKeys;
        address[] memory _markets;
        return _markets;
    }
</source>
</class>

<class classid="81" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/EmptyFuturesMarketManager.sol" startline="65" endline="68" pcid="485">
    function isEndorsed(address account) external view returns (bool) {
        account;
        return false;
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="109" endline="112" pcid="2433">
    function canLiquidate(address account) external view returns (bool) {
        account;
        return false;
    }
</source>
</class>

<class classid="82" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/EmptyFuturesMarketManager.sol" startline="75" endline="77" pcid="487">
    function addEndorsedAddresses(address[] calldata addresses) external {
        addresses;
    }
</source>
<source file="systems/source-code/EmptyFuturesMarketManager.sol" startline="79" endline="81" pcid="488">
    function removeEndorsedAddresses(address[] calldata addresses) external {
        addresses;
    }
</source>
</class>

<class classid="83" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/EtherWrapper.sol" startline="120" endline="122" pcid="520">
    function calculateMintFee(uint amount) public view returns (uint) {
        return amount.multiplyDecimalRound(mintFeeRate());
    }
</source>
<source file="systems/source-code/EtherWrapper.sol" startline="124" endline="126" pcid="521">
    function calculateBurnFee(uint amount) public view returns (uint) {
        return amount.multiplyDecimalRound(burnFeeRate());
    }
</source>
</class>

<class classid="84" nclones="40" nlines="3" similarity="100">
<source file="systems/source-code/ExchangeRates.sol" startline="160" endline="162" pcid="593">
    function getCurrentRoundId(bytes32 currencyKey) external view returns (uint) {
        return _getCurrentRoundId(currencyKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="80" endline="82" pcid="1767">
    function makerFeeOffchainDelayedOrder(bytes32 _marketKey) public view returns (uint) {
        return _makerFeeOffchainDelayedOrder(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="115" endline="117" pcid="1772">
    function maxLeverage(bytes32 _marketKey) public view returns (uint) {
        return _maxLeverage(_marketKey);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="70" endline="72" pcid="888">
    function nextPriceConfirmWindow(bytes32 _marketKey) public view returns (uint) {
        return _nextPriceConfirmWindow(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="73" endline="75" pcid="1766">
    function takerFeeOffchainDelayedOrder(bytes32 _marketKey) external view returns (uint) {
        return _takerFeeOffchainDelayedOrder(_marketKey);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="262" endline="264" pcid="2241">
    function crossChainSynthTransferEnabled(bytes32 currencyKey) external view returns (uint) {
        return getCrossChainSynthTransferEnabled(currencyKey);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="256" endline="258" pcid="2240">
    function pureChainlinkPriceForAtomicSwapsEnabled(bytes32 currencyKey) external view returns (bool) {
        return getPureChainlinkPriceForAtomicSwapsEnabled(currencyKey);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="63" endline="65" pcid="887">
    function makerFeeNextPrice(bytes32 _marketKey) public view returns (uint) {
        return _makerFeeNextPrice(_marketKey);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="98" endline="100" pcid="892">
    function skewScaleUSD(bytes32 _marketKey) public view returns (uint) {
        return _skewScaleUSD(_marketKey);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="56" endline="58" pcid="886">
    function takerFeeNextPrice(bytes32 _marketKey) external view returns (uint) {
        return _takerFeeNextPrice(_marketKey);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="84" endline="86" pcid="890">
    function maxMarketValueUSD(bytes32 _marketKey) public view returns (uint) {
        return _maxMarketValueUSD(_marketKey);
    }
</source>
<source file="systems/source-code/ExchangeRates.sol" startline="198" endline="200" pcid="596">
    function lastRateUpdateTimes(bytes32 currencyKey) external view returns (uint256) {
        return _getUpdatedTime(currencyKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="122" endline="124" pcid="1773">
    function maxMarketValue(bytes32 _marketKey) public view returns (uint) {
        return _maxMarketValue(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="129" endline="131" pcid="1774">
    function skewScale(bytes32 _marketKey) public view returns (uint) {
        return _skewScale(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="108" endline="110" pcid="1771">
    function offchainDelayedOrderMaxAge(bytes32 _marketKey) public view returns (uint) {
        return _offchainDelayedOrderMaxAge(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="136" endline="138" pcid="1775">
    function maxFundingVelocity(bytes32 _marketKey) public view returns (uint) {
        return _maxFundingVelocity(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="66" endline="68" pcid="1765">
    function makerFeeDelayedOrder(bytes32 _marketKey) public view returns (uint) {
        return _makerFeeDelayedOrder(_marketKey);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="49" endline="51" pcid="885">
    function makerFee(bytes32 _marketKey) public view returns (uint) {
        return _makerFee(_marketKey);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="250" endline="252" pcid="2239">
    function atomicVolatilityUpdateThreshold(bytes32 currencyKey) external view returns (uint) {
        return getAtomicVolatilityUpdateThreshold(currencyKey);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="244" endline="246" pcid="2238">
    function atomicVolatilityConsiderationWindow(bytes32 currencyKey) external view returns (uint) {
        return getAtomicVolatilityConsiderationWindow(currencyKey);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="238" endline="240" pcid="2237">
    function atomicExchangeFeeRate(bytes32 currencyKey) external view returns (uint) {
        return getAtomicExchangeFeeRate(currencyKey);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="232" endline="234" pcid="2236">
    function atomicEquivalentForDexPricing(bytes32 currencyKey) external view returns (address) {
        return getAtomicEquivalentForDexPricing(currencyKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="101" endline="103" pcid="1770">
    function offchainDelayedOrderMinAge(bytes32 _marketKey) public view returns (uint) {
        return _offchainDelayedOrderMinAge(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="59" endline="61" pcid="1764">
    function takerFeeDelayedOrder(bytes32 _marketKey) external view returns (uint) {
        return _takerFeeDelayedOrder(_marketKey);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="77" endline="79" pcid="889">
    function maxLeverage(bytes32 _marketKey) public view returns (uint) {
        return _maxLeverage(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="143" endline="145" pcid="1776">
    function minDelayTimeDelta(bytes32 _marketKey) public view returns (uint) {
        return _minDelayTimeDelta(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="52" endline="54" pcid="1763">
    function makerFee(bytes32 _marketKey) public view returns (uint) {
        return _makerFee(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="150" endline="152" pcid="1777">
    function maxDelayTimeDelta(bytes32 _marketKey) public view returns (uint) {
        return _maxDelayTimeDelta(_marketKey);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="121" endline="123" pcid="2216">
    function exchangeFeeRate(bytes32 currencyKey) external view returns (uint) {
        return getExchangeFeeRate(currencyKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="171" endline="173" pcid="1780">
    function liquidationPremiumMultiplier(bytes32 _marketKey) public view returns (uint) {
        return _liquidationPremiumMultiplier(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="192" endline="194" pcid="1783">
    function maxPD(bytes32 _marketKey) public view returns (uint) {
        return _maxPD(_marketKey);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="91" endline="93" pcid="891">
    function maxFundingRate(bytes32 _marketKey) public view returns (uint) {
        return _maxFundingRate(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="185" endline="187" pcid="1782">
    function maxLiquidationDelta(bytes32 _marketKey) public view returns (uint) {
        return _maxLiquidationDelta(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="164" endline="166" pcid="1779">
    function offchainPriceDivergence(bytes32 _marketKey) public view returns (uint) {
        return _offchainPriceDivergence(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="87" endline="89" pcid="1768">
    function nextPriceConfirmWindow(bytes32 _marketKey) public view returns (uint) {
        return _nextPriceConfirmWindow(_marketKey);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="42" endline="44" pcid="884">
    function takerFee(bytes32 _marketKey) external view returns (uint) {
        return _takerFee(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="94" endline="96" pcid="1769">
    function delayedOrderConfirmWindow(bytes32 _marketKey) public view returns (uint) {
        return _delayedOrderConfirmWindow(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="45" endline="47" pcid="1762">
    function takerFee(bytes32 _marketKey) external view returns (uint) {
        return _takerFee(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="178" endline="180" pcid="1781">
    function liquidationBufferRatio(bytes32 _marketKey) external view returns (uint) {
        return _liquidationBufferRatio(_marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="157" endline="159" pcid="1778">
    function offchainMarketKey(bytes32 _marketKey) public view returns (bytes32) {
        return _offchainMarketKey(_marketKey);
    }
</source>
</class>

<class classid="85" nclones="2" nlines="7" similarity="100">
<source file="systems/source-code/ExchangeRates.sol" startline="202" endline="210" pcid="597">
    function lastRateUpdateTimesForCurrencies(bytes32[] calldata currencyKeys) external view returns (uint[] memory) {
        uint[] memory lastUpdateTimes = new uint[](currencyKeys.length);

        for (uint i = 0; i < currencyKeys.length; i++) {
            lastUpdateTimes[i] = _getUpdatedTime(currencyKeys[i]);
        }

        return lastUpdateTimes;
    }
</source>
<source file="systems/source-code/ExchangeRates.sol" startline="304" endline="312" pcid="604">
    function ratesForCurrencies(bytes32[] calldata currencyKeys) external view returns (uint[] memory) {
        uint[] memory _localRates = new uint[](currencyKeys.length);

        for (uint i = 0; i < currencyKeys.length; i++) {
            _localRates[i] = _getRate(currencyKeys[i]);
        }

        return _localRates;
    }
</source>
</class>

<class classid="86" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/ExchangeRates.sol" startline="272" endline="274" pcid="602">
    function rateForCurrency(bytes32 currencyKey) external view returns (uint) {
        return _getRateAndUpdatedTime(currencyKey).rate;
    }
</source>
<source file="systems/source-code/ExchangeRates.sol" startline="552" endline="554" pcid="620">
    function _getRate(bytes32 currencyKey) internal view returns (uint256) {
        return _getRateAndUpdatedTime(currencyKey).rate;
    }
</source>
<source file="systems/source-code/ExchangeRates.sol" startline="556" endline="558" pcid="621">
    function _getUpdatedTime(bytes32 currencyKey) internal view returns (uint256) {
        return _getRateAndUpdatedTime(currencyKey).time;
    }
</source>
</class>

<class classid="87" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/ExchangeRatesWithDexPricing.sol" startline="128" endline="130" pcid="634">
    function _getMinValue(uint x, uint y) internal pure returns (uint) {
        return x < y ? x : y;
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="848" endline="850" pcid="994">
    function _getMinValue(uint x, uint y) internal pure returns (uint) {
        return x < y ? x : y;
    }
</source>
</class>

<class classid="88" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/ExchangeSettlementLib.sol" startline="105" endline="114" pcid="654">
    function _reclaim(
        ResolvedAddresses memory resolvedAddresses,
        address from,
        bytes32 currencyKey,
        uint amount
    ) internal {
        // burn amount from user
        resolvedAddresses.issuer.synths(currencyKey).burn(from, amount);
        ISynthetixInternal(address(resolvedAddresses.synthetix)).emitExchangeReclaim(from, currencyKey, amount);
    }
</source>
<source file="systems/source-code/ExchangeSettlementLib.sol" startline="116" endline="125" pcid="655">
    function _refund(
        ResolvedAddresses memory resolvedAddresses,
        address from,
        bytes32 currencyKey,
        uint amount
    ) internal {
        // issue amount to user
        resolvedAddresses.issuer.synths(currencyKey).issue(from, amount);
        ISynthetixInternal(address(resolvedAddresses.synthetix)).emitExchangeRebate(from, currencyKey, amount);
    }
</source>
</class>

<class classid="89" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/ExchangeState.sol" startline="18" endline="20" pcid="663">
    function setMaxEntriesInQueue(uint _maxEntriesInQueue) external onlyOwner {
        maxEntriesInQueue = _maxEntriesInQueue;
    }
</source>
<source file="systems/source-code/TestableTempOwned.sol" startline="13" endline="15" pcid="2459">
    function setTestValue(uint _testValue) external onlyTemporaryOwner {
        testValue = _testValue;
    }
</source>
<source file="systems/source-code/Synth.sol" startline="184" endline="186" pcid="2083">
    function setTotalSupply(uint amount) external optionalProxy_onlyOwner {
        totalSupply = amount;
    }
</source>
<source file="systems/source-code/TestablePausable.sol" startline="14" endline="16" pcid="2403">
    function setSomeValue(uint _value) external notPaused {
        someValue = _value;
    }
</source>
</class>

<class classid="90" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/ExternStateToken.sol" startline="133" endline="135" pcid="676">
    function addressToBytes32(address input) internal pure returns (bytes32) {
        return bytes32(uint256(uint160(input)));
    }
</source>
<source file="systems/source-code/PerpsV2MarketProxyable.sol" startline="276" endline="278" pcid="1756">
    function addressToBytes32(address input) internal pure returns (bytes32) {
        return bytes32(uint256(uint160(input)));
    }
</source>
</class>

<class classid="91" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/ExternStateToken.sol" startline="140" endline="146" pcid="677">
    function emitTransfer(
        address from,
        address to,
        uint value
    ) internal {
        proxy._emit(abi.encode(value), 3, TRANSFER_SIG, addressToBytes32(from), addressToBytes32(to), 0);
    }
</source>
<source file="systems/source-code/ExternStateToken.sol" startline="151" endline="157" pcid="678">
    function emitApproval(
        address owner,
        address spender,
        uint value
    ) internal {
        proxy._emit(abi.encode(value), 3, APPROVAL_SIG, addressToBytes32(owner), addressToBytes32(spender), 0);
    }
</source>
</class>

<class classid="92" nclones="2" nlines="8" similarity="100">
<source file="systems/source-code/FeePool.sol" startline="480" endline="490" pcid="713">
    function totalFeesAvailable() external view returns (uint) {
        uint totalFees = 0;

        // Fees in fee period [0] are not yet available for withdrawal
        for (uint i = 1; i < FEE_PERIOD_LENGTH; i++) {
            totalFees = totalFees.add(_recentFeePeriodsStorage(i).feesToDistribute);
            totalFees = totalFees.sub(_recentFeePeriodsStorage(i).feesClaimed);
        }

        return totalFees;
    }
</source>
<source file="systems/source-code/FeePool.sol" startline="502" endline="512" pcid="715">
    function totalRewardsAvailable() external view returns (uint) {
        uint totalRewards = 0;

        // Rewards in fee period [0] are not yet available for withdrawal
        for (uint i = 1; i < FEE_PERIOD_LENGTH; i++) {
            totalRewards = totalRewards.add(_recentFeePeriodsStorage(i).rewardsToDistribute);
            totalRewards = totalRewards.sub(_recentFeePeriodsStorage(i).rewardsClaimed);
        }

        return totalRewards;
    }
</source>
</class>

<class classid="93" nclones="5" nlines="3" similarity="100">
<source file="systems/source-code/FlexibleStorage.sol" startline="69" endline="71" pcid="742">
    function getUIntValue(bytes32 contractName, bytes32 record) external view returns (uint) {
        return uintStorage[hashes[contractName]][record];
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="97" endline="99" pcid="746">
    function getAddressValue(bytes32 contractName, bytes32 record) external view returns (address) {
        return addressStorage[hashes[contractName]][record];
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="125" endline="127" pcid="750">
    function getBytes32Value(bytes32 contractName, bytes32 record) external view returns (bytes32) {
        return bytes32Storage[hashes[contractName]][record];
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="83" endline="85" pcid="744">
    function getIntValue(bytes32 contractName, bytes32 record) external view returns (int) {
        return intStorage[hashes[contractName]][record];
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="111" endline="113" pcid="748">
    function getBoolValue(bytes32 contractName, bytes32 record) external view returns (bool) {
        return boolStorage[hashes[contractName]][record];
    }
</source>
</class>

<class classid="94" nclones="5" nlines="6" similarity="75">
<source file="systems/source-code/FlexibleStorage.sol" startline="148" endline="158" pcid="753">
    function setUIntValues(
        bytes32 contractName,
        bytes32[] calldata records,
        uint[] calldata values
    ) external onlyContract(contractName) {
        require(records.length == values.length, "Input lengths must match");

        for (uint i = 0; i < records.length; i++) {
            _setUIntValue(contractName, records[i], values[i]);
        }
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="200" endline="210" pcid="759">
    function setAddressValues(
        bytes32 contractName,
        bytes32[] calldata records,
        address[] calldata values
    ) external onlyContract(contractName) {
        require(records.length == values.length, "Input lengths must match");

        for (uint i = 0; i < records.length; i++) {
            _setAddressValue(contractName, records[i], values[i]);
        }
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="252" endline="262" pcid="765">
    function setBytes32Values(
        bytes32 contractName,
        bytes32[] calldata records,
        bytes32[] calldata values
    ) external onlyContract(contractName) {
        require(records.length == values.length, "Input lengths must match");

        for (uint i = 0; i < records.length; i++) {
            _setBytes32Value(contractName, records[i], values[i]);
        }
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="174" endline="184" pcid="756">
    function setIntValues(
        bytes32 contractName,
        bytes32[] calldata records,
        int[] calldata values
    ) external onlyContract(contractName) {
        require(records.length == values.length, "Input lengths must match");

        for (uint i = 0; i < records.length; i++) {
            _setIntValue(contractName, records[i], values[i]);
        }
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="226" endline="236" pcid="762">
    function setBoolValues(
        bytes32 contractName,
        bytes32[] calldata records,
        bool[] calldata values
    ) external onlyContract(contractName) {
        require(records.length == values.length, "Input lengths must match");

        for (uint i = 0; i < records.length; i++) {
            _setBoolValue(contractName, records[i], values[i]);
        }
    }
</source>
</class>

<class classid="95" nclones="5" nlines="5" similarity="75">
<source file="systems/source-code/FlexibleStorage.sol" startline="160" endline="164" pcid="754">
    function deleteUIntValue(bytes32 contractName, bytes32 record) external onlyContract(contractName) {
        uint value = uintStorage[hashes[contractName]][record];
        emit ValueDeletedUInt(contractName, record, value);
        delete uintStorage[hashes[contractName]][record];
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="238" endline="242" pcid="763">
    function deleteBoolValue(bytes32 contractName, bytes32 record) external onlyContract(contractName) {
        bool value = boolStorage[hashes[contractName]][record];
        emit ValueDeletedBool(contractName, record, value);
        delete boolStorage[hashes[contractName]][record];
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="186" endline="190" pcid="757">
    function deleteIntValue(bytes32 contractName, bytes32 record) external onlyContract(contractName) {
        int value = intStorage[hashes[contractName]][record];
        emit ValueDeletedInt(contractName, record, value);
        delete intStorage[hashes[contractName]][record];
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="264" endline="268" pcid="766">
    function deleteBytes32Value(bytes32 contractName, bytes32 record) external onlyContract(contractName) {
        bytes32 value = bytes32Storage[hashes[contractName]][record];
        emit ValueDeletedBytes32(contractName, record, value);
        delete bytes32Storage[hashes[contractName]][record];
    }
</source>
<source file="systems/source-code/FlexibleStorage.sol" startline="212" endline="216" pcid="760">
    function deleteAddressValue(bytes32 contractName, bytes32 record) external onlyContract(contractName) {
        address value = addressStorage[hashes[contractName]][record];
        emit ValueDeletedAddress(contractName, record, value);
        delete addressStorage[hashes[contractName]][record];
    }
</source>
</class>

<class classid="96" nclones="2" nlines="18" similarity="84">
<source file="systems/source-code/FuturesMarketBase.sol" startline="271" endline="305" pcid="778">
    function _orderSizeTooLarge(
        uint maxSize,
        int oldSize,
        int newSize
    ) internal view returns (bool) {
        // Allow users to reduce an order no matter the market conditions.
        if (_sameSide(oldSize, newSize) && _abs(newSize) <= _abs(oldSize)) {
            return false;
        }

        // Either the user is flipping sides, or they are increasing an order on the same side they're already on;
        // we check that the side of the market their order is on would not break the limit.
        int newSkew = int(marketSkew).sub(oldSize).add(newSize);
        int newMarketSize = int(marketSize).sub(_signedAbs(oldSize)).add(_signedAbs(newSize));

        int newSideSize;
        if (0 < newSize) {
            // long case: marketSize + skew
            //            = (|longSize| + |shortSize|) + (longSize + shortSize)
            //            = 2 * longSize
            newSideSize = newMarketSize.add(newSkew);
        } else {
            // short case: marketSize - skew
            //            = (|longSize| + |shortSize|) - (longSize + shortSize)
            //            = 2 * -shortSize
            newSideSize = newMarketSize.sub(newSkew);
        }

        // newSideSize still includes an extra factor of 2 here, so we will divide by 2 in the actual condition
        if (maxSize < _abs(newSideSize.div(2))) {
            return true;
        }

        return false;
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="232" endline="266" pcid="1668">
    function _orderSizeTooLarge(
        uint maxSize,
        int oldSize,
        int newSize
    ) internal view returns (bool) {
        // Allow users to reduce an order no matter the market conditions.
        if (_sameSide(oldSize, newSize) && _abs(newSize) <= _abs(oldSize)) {
            return false;
        }

        // Either the user is flipping sides, or they are increasing an order on the same side they're already on;
        // we check that the side of the market their order is on would not break the limit.
        int newSkew = int(marketState.marketSkew()).sub(oldSize).add(newSize);
        int newMarketSize = int(marketState.marketSize()).sub(_signedAbs(oldSize)).add(_signedAbs(newSize));

        int newSideSize;
        if (0 < newSize) {
            // long case: marketSize + skew
            //            = (|longSize| + |shortSize|) + (longSize + shortSize)
            //            = 2 * longSize
            newSideSize = newMarketSize.add(newSkew);
        } else {
            // short case: marketSize - skew
            //            = (|longSize| + |shortSize|) - (longSize + shortSize)
            //            = 2 * -shortSize
            newSideSize = newMarketSize.sub(newSkew);
        }

        // newSideSize still includes an extra factor of 2 here, so we will divide by 2 in the actual condition
        if (maxSize < _abs(newSideSize.div(2))) {
            return true;
        }

        return false;
    }
</source>
</class>

<class classid="97" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="307" endline="309" pcid="779">
    function _notionalValue(int positionSize, uint price) internal pure returns (int value) {
        return positionSize.multiplyDecimal(int(price));
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="268" endline="270" pcid="1669">
    function _notionalValue(int positionSize, uint price) internal pure returns (int value) {
        return positionSize.multiplyDecimal(int(price));
    }
</source>
</class>

<class classid="98" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="311" endline="314" pcid="780">
    function _profitLoss(Position memory position, uint price) internal pure returns (int pnl) {
        int priceShift = int(price).sub(int(position.lastPrice));
        return int(position.size).multiplyDecimal(priceShift);
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="272" endline="275" pcid="1670">
    function _profitLoss(Position memory position, uint price) internal pure returns (int pnl) {
        int priceShift = int(price).sub(int(position.lastPrice));
        return int(position.size).multiplyDecimal(priceShift);
    }
</source>
</class>

<class classid="99" nclones="2" nlines="8" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="316" endline="323" pcid="781">
    function _accruedFunding(Position memory position, uint price) internal view returns (int funding) {
        uint lastModifiedIndex = position.lastFundingIndex;
        if (lastModifiedIndex == 0) {
            return 0; // The position does not exist -- no funding.
        }
        int net = _netFundingPerUnit(lastModifiedIndex, price);
        return int(position.size).multiplyDecimal(net);
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="277" endline="284" pcid="1671">
    function _accruedFunding(Position memory position, uint price) internal view returns (int funding) {
        uint lastModifiedIndex = position.lastFundingIndex;
        if (lastModifiedIndex == 0) {
            return 0; // The position does not exist -- no funding.
        }
        int net = _netFundingPerUnit(lastModifiedIndex, price);
        return int(position.size).multiplyDecimal(net);
    }
</source>
</class>

<class classid="100" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="328" endline="331" pcid="782">
    function _marginPlusProfitFunding(Position memory position, uint price) internal view returns (int) {
        int funding = _accruedFunding(position, price);
        return int(position.margin).add(_profitLoss(position, price)).add(funding);
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="289" endline="292" pcid="1672">
    function _marginPlusProfitFunding(Position memory position, uint price) internal view returns (int) {
        int funding = _accruedFunding(position, price);
        return int(position.margin).add(_profitLoss(position, price)).add(funding);
    }
</source>
</class>

<class classid="101" nclones="2" nlines="13" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="339" endline="358" pcid="783">
    function _recomputeMarginWithDelta(
        Position memory position,
        uint price,
        int marginDelta
    ) internal view returns (uint margin, Status statusCode) {
        int newMargin = _marginPlusProfitFunding(position, price).add(marginDelta);
        if (newMargin < 0) {
            return (0, Status.InsufficientMargin);
        }

        uint uMargin = uint(newMargin);
        int positionSize = int(position.size);
        // minimum margin beyond which position can be liquidated
        uint lMargin = _liquidationMargin(positionSize, price);
        if (positionSize != 0 && uMargin <= lMargin) {
            return (uMargin, Status.CanLiquidate);
        }

        return (uMargin, Status.Ok);
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="300" endline="319" pcid="1673">
    function _recomputeMarginWithDelta(
        Position memory position,
        uint price,
        int marginDelta
    ) internal view returns (uint margin, Status statusCode) {
        int newMargin = _marginPlusProfitFunding(position, price).add(marginDelta);
        if (newMargin < 0) {
            return (0, Status.InsufficientMargin);
        }

        uint uMargin = uint(newMargin);
        int positionSize = int(position.size);
        // minimum margin beyond which position can be liquidated
        uint lMargin = _liquidationMargin(positionSize, price);
        if (positionSize != 0 && uMargin <= lMargin) {
            return (uMargin, Status.CanLiquidate);
        }

        return (uMargin, Status.Ok);
    }
</source>
</class>

<class classid="102" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="360" endline="365" pcid="784">
    function _remainingMargin(Position memory position, uint price) internal view returns (uint) {
        int remaining = _marginPlusProfitFunding(position, price);

        // If the margin went past zero, the position should have been liquidated - return zero remaining margin.
        return uint(_max(0, remaining));
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="321" endline="326" pcid="1674">
    function _remainingMargin(Position memory position, uint price) internal view returns (uint) {
        int remaining = _marginPlusProfitFunding(position, price);

        // If the margin went past zero, the position should have been liquidated - return zero remaining margin.
        return uint(_max(0, remaining));
    }
</source>
</class>

<class classid="103" nclones="2" nlines="17" similarity="92">
<source file="systems/source-code/FuturesMarketBase.sol" startline="367" endline="390" pcid="785">
    function _accessibleMargin(Position memory position, uint price) internal view returns (uint) {
        // Ugly solution to rounding safety: leave up to an extra tenth of a cent in the account/leverage
        // This should guarantee that the value returned here can always been withdrawn, but there may be
        // a little extra actually-accessible value left over, depending on the position size and margin.
        uint milli = uint(_UNIT / 1000);
        int maxLeverage = int(_maxLeverage(marketKey).sub(milli));
        uint inaccessible = _abs(_notionalValue(position.size, price).divideDecimal(maxLeverage));

        // If the user has a position open, we'll enforce a min initial margin requirement.
        if (0 < inaccessible) {
            uint minInitialMargin = _minInitialMargin();
            if (inaccessible < minInitialMargin) {
                inaccessible = minInitialMargin;
            }
            inaccessible = inaccessible.add(milli);
        }

        uint remaining = _remainingMargin(position, price);
        if (remaining <= inaccessible) {
            return 0;
        }

        return remaining.sub(inaccessible);
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="336" endline="359" pcid="1676">
    function _accessibleMargin(Position memory position, uint price) internal view returns (uint) {
        // Ugly solution to rounding safety: leave up to an extra tenth of a cent in the account/leverage
        // This should guarantee that the value returned here can always be withdrawn, but there may be
        // a little extra actually-accessible value left over, depending on the position size and margin.
        uint milli = uint(_UNIT / 1000);
        int maxLeverage = int(_maxLeverage(_marketKey()).sub(milli));
        uint inaccessible = _abs(_notionalValue(position.size, price).divideDecimal(maxLeverage));

        // If the user has a position open, we'll enforce a min initial margin requirement.
        if (0 < inaccessible) {
            uint minInitialMargin = _minInitialMargin();
            if (inaccessible < minInitialMargin) {
                inaccessible = minInitialMargin;
            }
            inaccessible = inaccessible.add(milli);
        }

        uint remaining = _remainingMargin(position, price);
        if (remaining <= inaccessible) {
            return 0;
        }

        return remaining.sub(inaccessible);
    }
</source>
</class>

<class classid="104" nclones="2" nlines="6" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="423" endline="430" pcid="788">
    function _canLiquidate(Position memory position, uint price) internal view returns (bool) {
        // No liquidating empty positions.
        if (position.size == 0) {
            return false;
        }

        return _remainingMargin(position, price) <= _liquidationMargin(int(position.size), price);
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="433" endline="440" pcid="1680">
    function _canLiquidate(Position memory position, uint price) internal view returns (bool) {
        // No liquidating empty positions.
        if (position.size == 0) {
            return false;
        }

        return _remainingLiquidatableMargin(position, price) <= _liquidationMargin(int(position.size), price);
    }
</source>
</class>

<class classid="105" nclones="2" nlines="6" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="432" endline="443" pcid="789">
    function _currentLeverage(
        Position memory position,
        uint price,
        uint remainingMargin_
    ) internal pure returns (int leverage) {
        // No position is open, or it is ready to be liquidated; leverage goes to nil
        if (remainingMargin_ == 0) {
            return 0;
        }

        return _notionalValue(position.size, price).divideDecimal(int(remainingMargin_));
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="442" endline="453" pcid="1681">
    function _currentLeverage(
        Position memory position,
        uint price,
        uint remainingMargin_
    ) internal pure returns (int leverage) {
        // No position is open, or it is ready to be liquidated; leverage goes to nil
        if (remainingMargin_ == 0) {
            return 0;
        }

        return _notionalValue(position.size, price).divideDecimal(int(remainingMargin_));
    }
</source>
</class>

<class classid="106" nclones="2" nlines="38" similarity="82">
<source file="systems/source-code/FuturesMarketBase.sol" startline="470" endline="563" pcid="793">
    function _postTradeDetails(Position memory oldPos, TradeParams memory params)
        internal
        view
        returns (
            Position memory newPosition,
            uint fee,
            Status tradeStatus
        )
    {
        // Reverts if the user is trying to submit a size-zero order.
        if (params.sizeDelta == 0) {
            return (oldPos, 0, Status.NilOrder);
        }

        // The order is not submitted if the user's existing position needs to be liquidated.
        if (_canLiquidate(oldPos, params.price)) {
            return (oldPos, 0, Status.CanLiquidate);
        }

        // get the dynamic fee rate SIP-184
        (uint dynamicFeeRate, bool tooVolatile) = _dynamicFeeRate();
        if (tooVolatile) {
            return (oldPos, 0, Status.PriceTooVolatile);
        }

        // calculate the total fee for exchange
        fee = _orderFee(params, dynamicFeeRate);

        // Deduct the fee.
        // It is an error if the realised margin minus the fee is negative or subject to liquidation.
        (uint newMargin, Status status) = _recomputeMarginWithDelta(oldPos, params.price, -int(fee));
        if (_isError(status)) {
            return (oldPos, 0, status);
        }

        // construct new position
        Position memory newPos =
            Position({
                id: oldPos.id,
                lastFundingIndex: uint64(_latestFundingIndex()),
                margin: uint128(newMargin),
                lastPrice: uint128(params.price),
                size: int128(int(oldPos.size).add(params.sizeDelta))
            });

        // always allow to decrease a position, otherwise a margin of minInitialMargin can never
        // decrease a position as the price goes against them.
        // we also add the paid out fee for the minInitialMargin because otherwise minInitialMargin
        // is never the actual minMargin, because the first trade will always deduct
        // a fee (so the margin that otherwise would need to be transferred would have to include the future
        // fee as well, making the UX and definition of min-margin confusing).
        bool positionDecreasing = _sameSide(oldPos.size, newPos.size) && _abs(newPos.size) < _abs(oldPos.size);
        if (!positionDecreasing) {
            // minMargin + fee <= margin is equivalent to minMargin <= margin - fee
            // except that we get a nicer error message if fee > margin, rather than arithmetic overflow.
            if (uint(newPos.margin).add(fee) < _minInitialMargin()) {
                return (oldPos, 0, Status.InsufficientMargin);
            }
        }

        // check that new position margin is above liquidation margin
        // (above, in _recomputeMarginWithDelta() we checked the old position, here we check the new one)
        // Liquidation margin is considered without a fee, because it wouldn't make sense to allow
        // a trade that will make the position liquidatable.
        if (newMargin <= _liquidationMargin(newPos.size, params.price)) {
            return (newPos, 0, Status.CanLiquidate);
        }

        // Check that the maximum leverage is not exceeded when considering new margin including the paid fee.
        // The paid fee is considered for the benefit of UX of allowed max leverage, otherwise, the actual
        // max leverage is always below the max leverage parameter since the fee paid for a trade reduces the margin.
        // We'll allow a little extra headroom for rounding errors.
        {
            // stack too deep
            int leverage = int(newPos.size).multiplyDecimal(int(params.price)).divideDecimal(int(newMargin.add(fee)));
            if (_maxLeverage(marketKey).add(uint(_UNIT) / 100) < _abs(leverage)) {
                return (oldPos, 0, Status.MaxLeverageExceeded);
            }
        }

        // Check that the order isn't too large for the market.
        // Allow a bit of extra value in case of rounding errors.
        if (
            _orderSizeTooLarge(
                uint(int(_maxMarketValueUSD(marketKey).add(100 * uint(_UNIT))).divideDecimal(int(params.price))),
                oldPos.size,
                newPos.size
            )
        ) {
            return (oldPos, 0, Status.MaxMarketSizeExceeded);
        }

        return (newPos, fee, Status.Ok);
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="500" endline="591" pcid="1685">
    function _postTradeDetails(Position memory oldPos, TradeParams memory params)
        internal
        view
        returns (
            Position memory newPosition,
            uint fee,
            Status tradeStatus
        )
    {
        // Reverts if the user is trying to submit a size-zero order.
        if (params.sizeDelta == 0) {
            return (oldPos, 0, Status.NilOrder);
        }

        // The order is not submitted if the user's existing position needs to be liquidated.
        if (_canLiquidate(oldPos, params.oraclePrice)) {
            return (oldPos, 0, Status.CanLiquidate);
        }

        // get the dynamic fee rate SIP-184
        (uint dynamicFeeRate, bool tooVolatile) = _dynamicFeeRate();
        if (tooVolatile) {
            return (oldPos, 0, Status.PriceTooVolatile);
        }

        // calculate the total fee for exchange
        fee = _orderFee(params, dynamicFeeRate);

        // Deduct the fee.
        // It is an error if the realised margin minus the fee is negative or subject to liquidation.
        (uint newMargin, Status status) = _recomputeMarginWithDelta(oldPos, params.fillPrice, -int(fee));
        if (_isError(status)) {
            return (oldPos, 0, status);
        }

        // construct new position
        Position memory newPos =
            Position({
                id: oldPos.id,
                lastFundingIndex: uint64(_latestFundingIndex()),
                margin: uint128(newMargin),
                lastPrice: uint128(params.fillPrice),
                size: int128(int(oldPos.size).add(params.sizeDelta))
            });

        // always allow to decrease a position, otherwise a margin of minInitialMargin can never
        // decrease a position as the price goes against them.
        // we also add the paid out fee for the minInitialMargin because otherwise minInitialMargin
        // is never the actual minMargin, because the first trade will always deduct
        // a fee (so the margin that otherwise would need to be transferred would have to include the future
        // fee as well, making the UX and definition of min-margin confusing).
        bool positionDecreasing = _sameSide(oldPos.size, newPos.size) && _abs(newPos.size) < _abs(oldPos.size);
        if (!positionDecreasing) {
            // minMargin + fee <= margin is equivalent to minMargin <= margin - fee
            // except that we get a nicer error message if fee > margin, rather than arithmetic overflow.
            if (uint(newPos.margin).add(fee) < _minInitialMargin()) {
                return (oldPos, 0, Status.InsufficientMargin);
            }
        }

        // check that new position margin is above liquidation margin
        // (above, in _recomputeMarginWithDelta() we checked the old position, here we check the new one)
        //
        // Liquidation margin is considered without a fee (but including premium), because it wouldn't make sense to allow
        // a trade that will make the position liquidatable.
        //
        // note: we use `oraclePrice` here as `liquidationPremium` calcs premium based not current skew.
        uint liqPremium = _liquidationPremium(newPos.size, params.oraclePrice);
        uint liqMargin = _liquidationMargin(newPos.size, params.oraclePrice).add(liqPremium);
        if (newMargin <= liqMargin) {
            return (newPos, 0, Status.CanLiquidate);
        }

        // Check that the maximum leverage is not exceeded when considering new margin including the paid fee.
        // The paid fee is considered for the benefit of UX of allowed max leverage, otherwise, the actual
        // max leverage is always below the max leverage parameter since the fee paid for a trade reduces the margin.
        // We'll allow a little extra headroom for rounding errors.
        {
            // stack too deep
            int leverage = int(newPos.size).multiplyDecimal(int(params.fillPrice)).divideDecimal(int(newMargin.add(fee)));
            if (_maxLeverage(_marketKey()).add(uint(_UNIT) / 100) < _abs(leverage)) {
                return (oldPos, 0, Status.MaxLeverageExceeded);
            }
        }

        // Check that the order isn't too large for the markets.
        if (_orderSizeTooLarge(_maxMarketValue(_marketKey()), oldPos.size, newPos.size)) {
            return (oldPos, 0, Status.MaxMarketSizeExceeded);
        }

        return (newPos, fee, Status.Ok);
    }
</source>
</class>

<class classid="107" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="570" endline="572" pcid="794">
    function _signedAbs(int x) internal pure returns (int) {
        return x < 0 ? -x : x;
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="653" endline="655" pcid="1688">
    function _signedAbs(int x) internal pure returns (int) {
        return x < 0 ? -x : x;
    }
</source>
<source file="systems/source-code/SafeDecimalMath.sol" startline="197" endline="199" pcid="2014">
    function signedAbs(int x) internal pure returns (int) {
        return x < 0 ? -x : x;
    }
</source>
</class>

<class classid="108" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="577" endline="579" pcid="795">
    function _abs(int x) internal pure returns (uint) {
        return uint(_signedAbs(x));
    }
</source>
<source file="systems/source-code/SafeDecimalMath.sol" startline="204" endline="206" pcid="2015">
    function abs(int x) internal pure returns (uint) {
        return uint(signedAbs(x));
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="660" endline="662" pcid="1689">
    function _abs(int x) internal pure returns (uint) {
        return uint(_signedAbs(x));
    }
</source>
</class>

<class classid="109" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="581" endline="583" pcid="796">
    function _max(int x, int y) internal pure returns (int) {
        return x < y ? y : x;
    }
</source>
<source file="systems/source-code/FuturesMarketBase.sol" startline="585" endline="587" pcid="797">
    function _min(int x, int y) internal pure returns (int) {
        return x < y ? x : y;
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="668" endline="670" pcid="1691">
    function _min(int x, int y) internal pure returns (int) {
        return x < y ? x : y;
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="664" endline="666" pcid="1690">
    function _max(int x, int y) internal pure returns (int) {
        return x < y ? y : x;
    }
</source>
</class>

<class classid="110" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="598" endline="600" pcid="799">
    function _isError(Status status) internal pure returns (bool) {
        return status != Status.Ok;
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="683" endline="685" pcid="1693">
    function _isError(Status status) internal pure returns (bool) {
        return status != Status.Ok;
    }
</source>
</class>

<class classid="111" nclones="2" nlines="5" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="605" endline="609" pcid="800">
    function _revertIfError(bool isError, Status status) internal view {
        if (isError) {
            revert(_errorMessages[uint8(status)]);
        }
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="690" endline="694" pcid="1694">
    function _revertIfError(bool isError, Status status) internal view {
        if (isError) {
            revert(_errorMessages[uint8(status)]);
        }
    }
</source>
</class>

<class classid="112" nclones="2" nlines="5" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="614" endline="618" pcid="801">
    function _revertIfError(Status status) internal view {
        if (_isError(status)) {
            revert(_errorMessages[uint8(status)]);
        }
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="699" endline="703" pcid="1695">
    function _revertIfError(Status status) internal view {
        if (_isError(status)) {
            revert(_errorMessages[uint8(status)]);
        }
    }
</source>
</class>

<class classid="113" nclones="2" nlines="6" similarity="80">
<source file="systems/source-code/FuturesMarketBase.sol" startline="676" endline="689" pcid="805">
    function recomputeFunding() external returns (uint lastIndex) {
        // only FuturesMarketSettings is allowed to use this method
        _revertIfError(msg.sender != _settings(), Status.NotPermitted);
        // This method is the only mutative method that uses the view _assetPrice()
        // and not the mutative _assetPriceRequireSystemChecks() that reverts on system flags.
        // This is because this method is used by system settings when changing funding related
        // parameters, so needs to function even when system / market is paused. E.g. to facilitate
        // market migration.
        (uint price, bool invalid) = assetPrice();
        // A check for a valid price is still in place, to ensure that a system settings action
        // doesn't take place when the price is invalid (e.g. some oracle issue).
        require(!invalid, "Invalid price");
        return _recomputeFunding(price);
    }
</source>
<source file="systems/source-code/PerpsV2Market.sol" startline="115" endline="128" pcid="1642">
    function recomputeFunding() external returns (uint lastIndex) {
        // only PerpsV2MarketSettings is allowed to use this method (calling it directly, not via proxy)
        _revertIfError(messageSender != _settings(), Status.NotPermitted);
        // This method is the only mutative method that uses the view _assetPrice()
        // and not the mutative _assetPriceRequireSystemChecks() that reverts on system flags.
        // This is because this method is used by system settings when changing funding related
        // parameters, so needs to function even when system / market is paused. E.g. to facilitate
        // market migration.
        (uint price, bool invalid) = _assetPrice();
        // A check for a valid price is still in place, to ensure that a system settings action
        // doesn't take place when the price is invalid (e.g. some oracle issue).
        require(!invalid, "Invalid price");
        return _recomputeFunding(price);
    }
</source>
</class>

<class classid="114" nclones="2" nlines="5" similarity="75">
<source file="systems/source-code/FuturesMarketBase.sol" startline="741" endline="745" pcid="808">
    function _applyDebtCorrection(Position memory newPosition, Position memory oldPosition) internal {
        int newCorrection = _positionDebtCorrection(newPosition);
        int oldCorrection = _positionDebtCorrection(oldPosition);
        _entryDebtCorrection = int128(int(_entryDebtCorrection).add(newCorrection).sub(oldCorrection));
    }
</source>
<source file="systems/source-code/PerpsV2MarketProxyable.sol" startline="24" endline="30" pcid="1749">
    function _applyDebtCorrection(Position memory newPosition, Position memory oldPosition) internal {
        int newCorrection = _positionDebtCorrection(newPosition);
        int oldCorrection = _positionDebtCorrection(oldPosition);
        marketState.setEntryDebtCorrection(
            int128(int(marketState.entryDebtCorrection()).add(newCorrection).sub(oldCorrection))
        );
    }
</source>
</class>

<class classid="115" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="908" endline="910" pcid="814">
    function modifyPosition(int sizeDelta) external {
        _modifyPosition(sizeDelta, bytes32(0));
    }
</source>
<source file="systems/source-code/MixinFuturesNextPriceOrders.sol" startline="31" endline="33" pcid="1386">
    function submitNextPriceOrder(int sizeDelta) external {
        _submitNextPriceOrder(sizeDelta, bytes32(0));
    }
</source>
</class>

<class classid="116" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketBase.sol" startline="916" endline="918" pcid="815">
    function modifyPositionWithTracking(int sizeDelta, bytes32 trackingCode) external {
        _modifyPosition(sizeDelta, trackingCode);
    }
</source>
<source file="systems/source-code/MixinFuturesNextPriceOrders.sol" startline="37" endline="39" pcid="1387">
    function submitNextPriceOrderWithTracking(int sizeDelta, bytes32 trackingCode) external {
        _submitNextPriceOrder(sizeDelta, trackingCode);
    }
</source>
</class>

<class classid="117" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="110" endline="115" pcid="822">
    function _futuresMarketManager() internal view returns (IFuturesMarketManager) {
        return
            IFuturesMarketManager(
                resolverProxy.requireAndGetAddress("FuturesMarketManager", "Missing FuturesMarketManager Address")
            );
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="107" endline="112" pcid="1696">
    function _futuresMarketManager() internal view returns (IFuturesMarketManager) {
        return
            IFuturesMarketManager(
                resolverProxy.requireAndGetAddress("FuturesMarketManager", "Missing FuturesMarketManager Address")
            );
    }
</source>
</class>

<class classid="118" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="124" endline="133" pcid="824">
    function globals() external view returns (FuturesGlobals memory) {
        IFuturesMarketSettings settings = _futuresMarketSettings();
        return
            FuturesGlobals({
                minInitialMargin: settings.minInitialMargin(),
                liquidationFeeRatio: settings.liquidationFeeRatio(),
                liquidationBufferRatio: settings.liquidationBufferRatio(),
                minKeeperFee: settings.minKeeperFee()
            });
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="121" endline="130" pcid="1698">
    function globals() external view returns (FuturesGlobals memory) {
        IPerpsV2MarketSettings settings = _perpsV2MarketSettings();
        return
            FuturesGlobals({
                minInitialMargin: settings.minInitialMargin(),
                liquidationFeeRatio: settings.liquidationFeeRatio(),
                minKeeperFee: settings.minKeeperFee(),
                maxKeeperFee: settings.maxKeeperFee()
            });
    }
</source>
</class>

<class classid="119" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="135" endline="137" pcid="825">
    function parameters(bytes32 marketKey) external view returns (IFuturesMarketSettings.Parameters memory) {
        return _parameters(marketKey);
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="132" endline="134" pcid="1699">
    function parameters(bytes32 marketKey) external view returns (IPerpsV2MarketSettings.Parameters memory) {
        return _parameters(marketKey);
    }
</source>
</class>

<class classid="120" nclones="3" nlines="14" similarity="75">
<source file="systems/source-code/FuturesMarketData.sol" startline="165" endline="192" pcid="827">
    function _marketSummaries(address[] memory markets) internal view returns (MarketSummary[] memory) {
        uint numMarkets = markets.length;
        MarketSummary[] memory summaries = new MarketSummary[](numMarkets);
        for (uint i; i < numMarkets; i++) {
            IFuturesMarket market = IFuturesMarket(markets[i]);
            bytes32 marketKey = market.marketKey();
            bytes32 baseAsset = market.baseAsset();
            IFuturesMarketSettings.Parameters memory params = _parameters(marketKey);

            (uint price, ) = market.assetPrice();
            (uint debt, ) = market.marketDebt();

            summaries[i] = MarketSummary(
                address(market),
                baseAsset,
                marketKey,
                params.maxLeverage,
                price,
                market.marketSize(),
                market.marketSkew(),
                debt,
                market.currentFundingRate(),
                FeeRates(params.takerFee, params.makerFee, params.takerFeeNextPrice, params.makerFeeNextPrice)
            );
        }

        return summaries;
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="198" endline="226" pcid="859">
    function _marketSummaries(address[] memory addresses) internal view returns (MarketSummary[] memory) {
        uint nMarkets = addresses.length;
        MarketSummary[] memory summaries = new MarketSummary[](nMarkets);
        for (uint i; i < nMarkets; i++) {
            IMarketViews market = IMarketViews(addresses[i]);
            bytes32 marketKey = market.marketKey();
            bytes32 baseAsset = market.baseAsset();

            (uint price, bool invalid) = market.assetPrice();
            (uint debt, ) = market.marketDebt();

            bool proxied = _proxiedMarkets.contains(addresses[i]);
            summaries[i] = MarketSummary({
                market: address(market),
                asset: baseAsset,
                marketKey: marketKey,
                price: price,
                marketSize: market.marketSize(),
                marketSkew: market.marketSkew(),
                marketDebt: debt,
                currentFundingRate: market.currentFundingRate(),
                currentFundingVelocity: proxied ? market.currentFundingVelocity() : 0, // v1 does not have velocity.
                priceInvalid: invalid,
                proxied: proxied
            });
        }

        return summaries;
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="149" endline="189" pcid="1702">
    function _marketSummaries(address[] memory markets) internal view returns (MarketSummary[] memory) {
        uint numMarkets = markets.length;
        MarketSummary[] memory summaries = new MarketSummary[](numMarkets);

        // get mapping of legacyMarkets
        address[] memory legacyMarkets = _futuresMarketManager().allMarkets(false);

        for (uint i; i < numMarkets; i++) {
            IPerpsV2MarketViews market = IPerpsV2MarketViews(markets[i]);
            bytes32 marketKey = market.marketKey();
            bytes32 baseAsset = market.baseAsset();
            IPerpsV2MarketSettings.Parameters memory params = _parameters(marketKey);

            (uint price, ) = market.assetPrice();
            (uint debt, ) = market.marketDebt();
            bool isLegacy = _isLegacyMarket(legacyMarkets, markets[i]);

            summaries[i] = MarketSummary(
                address(market),
                baseAsset,
                marketKey,
                params.maxLeverage,
                price,
                market.marketSize(),
                market.marketSkew(),
                debt,
                market.currentFundingRate(),
                isLegacy ? 0 : market.currentFundingVelocity(),
                FeeRates(
                    params.takerFee,
                    params.makerFee,
                    params.takerFeeDelayedOrder,
                    params.makerFeeDelayedOrder,
                    params.takerFeeOffchainDelayedOrder,
                    params.makerFeeOffchainDelayedOrder
                )
            );
        }

        return summaries;
    }
</source>
</class>

<class classid="121" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="194" endline="196" pcid="828">
    function marketSummaries(address[] calldata markets) external view returns (MarketSummary[] memory) {
        return _marketSummaries(markets);
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="228" endline="230" pcid="860">
    function marketSummaries(address[] calldata addresses) external view returns (MarketSummary[] memory) {
        return _marketSummaries(addresses);
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="191" endline="193" pcid="1703">
    function marketSummaries(address[] calldata markets) external view returns (MarketSummary[] memory) {
        return _marketSummaries(markets);
    }
</source>
</class>

<class classid="122" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="198" endline="200" pcid="829">
    function marketSummariesForKeys(bytes32[] calldata marketKeys) external view returns (MarketSummary[] memory) {
        return _marketSummaries(_futuresMarketManager().marketsForKeys(marketKeys));
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="195" endline="197" pcid="1704">
    function marketSummariesForKeys(bytes32[] calldata marketKeys) external view returns (MarketSummary[] memory) {
        return _marketSummaries(_futuresMarketManager().marketsForKeys(marketKeys));
    }
</source>
</class>

<class classid="123" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="202" endline="204" pcid="830">
    function allMarketSummaries() external view returns (MarketSummary[] memory) {
        return _marketSummaries(_futuresMarketManager().allMarkets());
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="199" endline="201" pcid="1705">
    function allMarketSummaries() external view returns (MarketSummary[] memory) {
        return _marketSummaries(_futuresMarketManager().allMarkets());
    }
</source>
</class>

<class classid="124" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="206" endline="212" pcid="831">
    function _fundingParameters(IFuturesMarketSettings.Parameters memory params)
        internal
        pure
        returns (FundingParameters memory)
    {
        return FundingParameters(params.maxFundingRate, params.skewScaleUSD);
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="207" endline="213" pcid="1707">
    function _fundingParameters(IPerpsV2MarketSettings.Parameters memory params)
        internal
        pure
        returns (FundingParameters memory)
    {
        return FundingParameters(params.maxFundingVelocity, params.skewScale);
    }
</source>
</class>

<class classid="125" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="214" endline="217" pcid="832">
    function _marketSizes(IFuturesMarket market) internal view returns (Sides memory) {
        (uint long, uint short) = market.marketSizes();
        return Sides(long, short);
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="215" endline="218" pcid="1708">
    function _marketSizes(IPerpsV2MarketViews market) internal view returns (Sides memory) {
        (uint long, uint short) = market.marketSizes();
        return Sides(long, short);
    }
</source>
</class>

<class classid="126" nclones="2" nlines="8" similarity="85">
<source file="systems/source-code/FuturesMarketData.sol" startline="219" endline="238" pcid="833">
    function _marketDetails(IFuturesMarket market) internal view returns (MarketData memory) {
        (uint price, bool invalid) = market.assetPrice();
        (uint marketDebt, ) = market.marketDebt();
        bytes32 baseAsset = market.baseAsset();
        bytes32 marketKey = market.marketKey();

        IFuturesMarketSettings.Parameters memory params = _parameters(marketKey);

        return
            MarketData(
                address(market),
                baseAsset,
                marketKey,
                FeeRates(params.takerFee, params.makerFee, params.takerFeeNextPrice, params.makerFeeNextPrice),
                MarketLimits(params.maxLeverage, params.maxMarketValueUSD),
                _fundingParameters(params),
                MarketSizeDetails(market.marketSize(), _marketSizes(market), marketDebt, market.marketSkew()),
                PriceDetails(price, invalid)
            );
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="220" endline="246" pcid="1709">
    function _marketDetails(IPerpsV2MarketViews market) internal view returns (MarketData memory) {
        (uint price, bool invalid) = market.assetPrice();
        (uint marketDebt, ) = market.marketDebt();
        bytes32 baseAsset = market.baseAsset();
        bytes32 marketKey = market.marketKey();

        IPerpsV2MarketSettings.Parameters memory params = _parameters(marketKey);

        return
            MarketData(
                address(market),
                baseAsset,
                marketKey,
                FeeRates(
                    params.takerFee,
                    params.makerFee,
                    params.takerFeeDelayedOrder,
                    params.makerFeeDelayedOrder,
                    params.takerFeeOffchainDelayedOrder,
                    params.makerFeeOffchainDelayedOrder
                ),
                MarketLimits(params.maxLeverage, params.maxMarketValue),
                _fundingParameters(params),
                MarketSizeDetails(market.marketSize(), _marketSizes(market), marketDebt, market.marketSkew()),
                PriceDetails(price, invalid)
            );
    }
</source>
</class>

<class classid="127" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="240" endline="242" pcid="834">
    function marketDetails(IFuturesMarket market) external view returns (MarketData memory) {
        return _marketDetails(market);
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="248" endline="250" pcid="1710">
    function marketDetails(IPerpsV2MarketViews market) external view returns (MarketData memory) {
        return _marketDetails(market);
    }
</source>
</class>

<class classid="128" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="244" endline="246" pcid="835">
    function marketDetailsForKey(bytes32 marketKey) external view returns (MarketData memory) {
        return _marketDetails(IFuturesMarket(_futuresMarketManager().marketForKey(marketKey)));
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="252" endline="254" pcid="1711">
    function marketDetailsForKey(bytes32 marketKey) external view returns (MarketData memory) {
        return _marketDetails(IPerpsV2MarketViews(_futuresMarketManager().marketForKey(marketKey)));
    }
</source>
</class>

<class classid="129" nclones="6" nlines="4" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="270" endline="273" pcid="837">
    function _notionalValue(IFuturesMarket market, address account) internal view returns (int) {
        (int value, ) = market.notionalValue(account);
        return value;
    }
</source>
<source file="systems/source-code/FuturesMarketData.sol" startline="275" endline="278" pcid="838">
    function _profitLoss(IFuturesMarket market, address account) internal view returns (int) {
        (int value, ) = market.profitLoss(account);
        return value;
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="264" endline="267" pcid="1713">
    function _notionalValue(IPerpsV2MarketViews market, address account) internal view returns (int) {
        (int value, ) = market.notionalValue(account);
        return value;
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="274" endline="277" pcid="1715">
    function _accruedFunding(IPerpsV2MarketViews market, address account) internal view returns (int) {
        (int value, ) = market.accruedFunding(account);
        return value;
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="269" endline="272" pcid="1714">
    function _profitLoss(IPerpsV2MarketViews market, address account) internal view returns (int) {
        (int value, ) = market.profitLoss(account);
        return value;
    }
</source>
<source file="systems/source-code/FuturesMarketData.sol" startline="280" endline="283" pcid="839">
    function _accruedFunding(IFuturesMarket market, address account) internal view returns (int) {
        (int value, ) = market.accruedFunding(account);
        return value;
    }
</source>
</class>

<class classid="130" nclones="6" nlines="4" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="285" endline="288" pcid="840">
    function _remainingMargin(IFuturesMarket market, address account) internal view returns (uint) {
        (uint value, ) = market.remainingMargin(account);
        return value;
    }
</source>
<source file="systems/source-code/FuturesMarketData.sol" startline="295" endline="298" pcid="842">
    function _liquidationPrice(IFuturesMarket market, address account) internal view returns (uint) {
        (uint liquidationPrice, ) = market.liquidationPrice(account);
        return liquidationPrice;
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="279" endline="282" pcid="1716">
    function _remainingMargin(IPerpsV2MarketViews market, address account) internal view returns (uint) {
        (uint value, ) = market.remainingMargin(account);
        return value;
    }
</source>
<source file="systems/source-code/FuturesMarketData.sol" startline="290" endline="293" pcid="841">
    function _accessibleMargin(IFuturesMarket market, address account) internal view returns (uint) {
        (uint value, ) = market.accessibleMargin(account);
        return value;
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="284" endline="287" pcid="1717">
    function _accessibleMargin(IPerpsV2MarketViews market, address account) internal view returns (uint) {
        (uint value, ) = market.accessibleMargin(account);
        return value;
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="289" endline="292" pcid="1718">
    function _liquidationPrice(IPerpsV2MarketViews market, address account) internal view returns (uint) {
        (uint liquidationPrice, ) = market.liquidationPrice(account);
        return liquidationPrice;
    }
</source>
</class>

<class classid="131" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="300" endline="312" pcid="843">
    function _positionDetails(IFuturesMarket market, address account) internal view returns (PositionData memory) {
        return
            PositionData(
                _position(market, account),
                _notionalValue(market, account),
                _profitLoss(market, account),
                _accruedFunding(market, account),
                _remainingMargin(market, account),
                _accessibleMargin(market, account),
                _liquidationPrice(market, account),
                market.canLiquidate(account)
            );
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="294" endline="306" pcid="1719">
    function _positionDetails(IPerpsV2MarketViews market, address account) internal view returns (PositionData memory) {
        return
            PositionData(
                _position(market, account),
                _notionalValue(market, account),
                _profitLoss(market, account),
                _accruedFunding(market, account),
                _remainingMargin(market, account),
                _accessibleMargin(market, account),
                _liquidationPrice(market, account),
                market.canLiquidate(account)
            );
    }
</source>
</class>

<class classid="132" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="314" endline="316" pcid="844">
    function positionDetails(IFuturesMarket market, address account) external view returns (PositionData memory) {
        return _positionDetails(market, account);
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="308" endline="310" pcid="1720">
    function positionDetails(IPerpsV2MarketViews market, address account) external view returns (PositionData memory) {
        return _positionDetails(market, account);
    }
</source>
</class>

<class classid="133" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketData.sol" startline="318" endline="320" pcid="845">
    function positionDetailsForMarketKey(bytes32 marketKey, address account) external view returns (PositionData memory) {
        return _positionDetails(IFuturesMarket(_futuresMarketManager().marketForKey(marketKey)), account);
    }
</source>
<source file="systems/source-code/PerpsV2MarketData.sol" startline="312" endline="314" pcid="1721">
    function positionDetailsForMarketKey(bytes32 marketKey, address account) external view returns (PositionData memory) {
        return _positionDetails(IPerpsV2MarketViews(_futuresMarketManager().marketForKey(marketKey)), account);
    }
</source>
</class>

<class classid="134" nclones="6" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketManager.sol" startline="98" endline="100" pcid="850">
    function markets(uint index, uint pageSize) external view returns (address[] memory) {
        return _allMarkets.getPage(index, pageSize);
    }
</source>
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="101" endline="103" pcid="1557">
    function getDelayedOrderAddressesPage(uint index, uint pageSize) external view returns (address[] memory) {
        return marketState.getDelayedOrderAddressesPage(index, pageSize);
    }
</source>
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="97" endline="99" pcid="1556">
    function getPositionAddressesPage(uint index, uint pageSize) external view returns (address[] memory) {
        return marketState.getPositionAddressesPage(index, pageSize);
    }
</source>
<source file="systems/source-code/TestableAddressSet.sol" startline="14" endline="16" pcid="2378">
    function getPage(uint index, uint pageSize) public view returns (address[] memory) {
        return set.getPage(index, pageSize);
    }
</source>
<source file="systems/source-code/PerpsV2MarketState.sol" startline="237" endline="239" pcid="1830">
    function getFlaggedAddressesPage(uint index, uint pageSize) external view returns (address[] memory) {
        return _flaggedAddresses.getPage(index, pageSize);
    }
</source>
<source file="systems/source-code/PerpsV2MarketState.sol" startline="230" endline="232" pcid="1829">
    function getDelayedOrderAddressesPage(uint index, uint pageSize) external view returns (address[] memory) {
        return _delayedOrderAddresses.getPage(index, pageSize);
    }
</source>
</class>

<class classid="135" nclones="6" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketManager.sol" startline="120" endline="122" pcid="852">
    function numMarkets() external view returns (uint) {
        return _allMarkets.elements.length;
    }
</source>
<source file="systems/source-code/TestableBytes32Set.sol" startline="26" endline="28" pcid="2388">
    function size() public view returns (uint) {
        return set.elements.length;
    }
</source>
<source file="systems/source-code/PerpsV2MarketState.sol" startline="251" endline="253" pcid="1832">
    function getDelayedOrderAddressesLength() external view returns (uint) {
        return _delayedOrderAddresses.elements.length;
    }
</source>
<source file="systems/source-code/PerpsV2MarketState.sol" startline="244" endline="246" pcid="1831">
    function getPositionAddressesLength() external view returns (uint) {
        return _positionAddresses.elements.length;
    }
</source>
<source file="systems/source-code/TestableAddressSet.sol" startline="26" endline="28" pcid="2381">
    function size() public view returns (uint) {
        return set.elements.length;
    }
</source>
<source file="systems/source-code/PerpsV2MarketState.sol" startline="258" endline="260" pcid="1833">
    function getFlaggedAddressesLength() external view returns (uint) {
        return _flaggedAddresses.elements.length;
    }
</source>
</class>

<class classid="136" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketManager.sol" startline="138" endline="140" pcid="854">
    function allMarkets() public view returns (address[] memory) {
        return _allMarkets.getPage(0, _allMarkets.elements.length);
    }
</source>
<source file="systems/source-code/StateShared.sol" startline="57" endline="59" pcid="2065">
    function associatedContracts() external view returns (address[] memory) {
        return _associatedContracts.getPage(0, _associatedContracts.elements.length);
    }
</source>
<source file="systems/source-code/PerpsV2ExchangeRate.sol" startline="67" endline="69" pcid="1633">
    function associatedContracts() external view returns (address[] memory) {
        return _associatedContracts.getPage(0, _associatedContracts.elements.length);
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="240" endline="242" pcid="863">
    function allEndorsedAddresses() external view returns (address[] memory) {
        return _endorsedAddresses.getPage(0, _endorsedAddresses.elements.length);
    }
</source>
</class>

<class classid="137" nclones="2" nlines="6" similarity="75">
<source file="systems/source-code/FuturesMarketManager.sol" startline="271" endline="276" pcid="867">
    function addMarkets(address[] calldata marketsToAdd) external onlyOwner {
        uint numOfMarkets = marketsToAdd.length;
        for (uint i; i < numOfMarkets; i++) {
            _addMarket(marketsToAdd[i], false);
        }
    }
</source>
<source file="systems/source-code/FuturesMarketManager.sol" startline="281" endline="286" pcid="868">
    function addProxiedMarkets(address[] calldata marketsToAdd) external onlyOwner {
        uint numOfMarkets = marketsToAdd.length;
        for (uint i; i < numOfMarkets; i++) {
            _addMarket(marketsToAdd[i], true);
        }
    }
</source>
</class>

<class classid="138" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/FuturesMarketSettings.sol" startline="163" endline="170" pcid="898">
    function _setParameter(
        bytes32 _marketKey,
        bytes32 key,
        uint value
    ) internal {
        _flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, keccak256(abi.encodePacked(_marketKey, key)), value);
        emit ParameterUpdated(_marketKey, key, value);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="266" endline="273" pcid="1790">
    function _setParameter(
        bytes32 _marketKey,
        bytes32 key,
        uint value
    ) internal {
        _flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, keccak256(abi.encodePacked(_marketKey, key)), value);
        emit ParameterUpdated(_marketKey, key, value);
    }
</source>
</class>

<class classid="139" nclones="5" nlines="4" similarity="100">
<source file="systems/source-code/FuturesMarketSettings.sol" startline="172" endline="175" pcid="899">
    function setTakerFee(bytes32 _marketKey, uint _takerFee) public onlyOwner {
        require(_takerFee <= 1e18, "taker fee greater than 1");
        _setParameter(_marketKey, PARAMETER_TAKER_FEE, _takerFee);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="182" endline="185" pcid="901">
    function setTakerFeeNextPrice(bytes32 _marketKey, uint _takerFeeNextPrice) public onlyOwner {
        require(_takerFeeNextPrice <= 1e18, "taker fee greater than 1");
        _setParameter(_marketKey, PARAMETER_TAKER_FEE_NEXT_PRICE, _takerFeeNextPrice);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="275" endline="278" pcid="1791">
    function setTakerFee(bytes32 _marketKey, uint _takerFee) public onlyOwner {
        require(_takerFee <= 1e18, "taker fee greater than 1");
        _setParameter(_marketKey, PARAMETER_TAKER_FEE, _takerFee);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="285" endline="288" pcid="1793">
    function setTakerFeeDelayedOrder(bytes32 _marketKey, uint _takerFeeDelayedOrder) public onlyOwner {
        require(_takerFeeDelayedOrder <= 1e18, "taker fee greater than 1");
        _setParameter(_marketKey, PARAMETER_TAKER_FEE_DELAYED_ORDER, _takerFeeDelayedOrder);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="295" endline="298" pcid="1795">
    function setTakerFeeOffchainDelayedOrder(bytes32 _marketKey, uint _takerFeeOffchainDelayedOrder) public onlyOwner {
        require(_takerFeeOffchainDelayedOrder <= 1e18, "taker fee greater than 1");
        _setParameter(_marketKey, PARAMETER_TAKER_FEE_OFFCHAIN_DELAYED_ORDER, _takerFeeOffchainDelayedOrder);
    }
</source>
</class>

<class classid="140" nclones="5" nlines="4" similarity="100">
<source file="systems/source-code/FuturesMarketSettings.sol" startline="177" endline="180" pcid="900">
    function setMakerFee(bytes32 _marketKey, uint _makerFee) public onlyOwner {
        require(_makerFee <= 1e18, "maker fee greater than 1");
        _setParameter(_marketKey, PARAMETER_MAKER_FEE, _makerFee);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="187" endline="190" pcid="902">
    function setMakerFeeNextPrice(bytes32 _marketKey, uint _makerFeeNextPrice) public onlyOwner {
        require(_makerFeeNextPrice <= 1e18, "maker fee greater than 1");
        _setParameter(_marketKey, PARAMETER_MAKER_FEE_NEXT_PRICE, _makerFeeNextPrice);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="280" endline="283" pcid="1792">
    function setMakerFee(bytes32 _marketKey, uint _makerFee) public onlyOwner {
        require(_makerFee <= 1e18, "maker fee greater than 1");
        _setParameter(_marketKey, PARAMETER_MAKER_FEE, _makerFee);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="290" endline="293" pcid="1794">
    function setMakerFeeDelayedOrder(bytes32 _marketKey, uint _makerFeeDelayedOrder) public onlyOwner {
        require(_makerFeeDelayedOrder <= 1e18, "maker fee greater than 1");
        _setParameter(_marketKey, PARAMETER_MAKER_FEE_DELAYED_ORDER, _makerFeeDelayedOrder);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="300" endline="303" pcid="1796">
    function setMakerFeeOffchainDelayedOrder(bytes32 _marketKey, uint _makerFeeOffchainDelayedOrder) public onlyOwner {
        require(_makerFeeOffchainDelayedOrder <= 1e18, "maker fee greater than 1");
        _setParameter(_marketKey, PARAMETER_MAKER_FEE_OFFCHAIN_DELAYED_ORDER, _makerFeeOffchainDelayedOrder);
    }
</source>
</class>

<class classid="141" nclones="15" nlines="3" similarity="100">
<source file="systems/source-code/FuturesMarketSettings.sol" startline="192" endline="194" pcid="903">
    function setNextPriceConfirmWindow(bytes32 _marketKey, uint _nextPriceConfirmWindow) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_NEXT_PRICE_CONFIRM_WINDOW, _nextPriceConfirmWindow);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="391" endline="393" pcid="1813">
    function setMaxPD(bytes32 _marketKey, uint _maxPD) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_MAX_LIQUIDATION_PD, _maxPD);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="387" endline="389" pcid="1812">
    function setMaxLiquidationDelta(bytes32 _marketKey, uint _maxLiquidationDelta) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_MAX_LIQUIDAION_DELTA, _maxLiquidationDelta);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="383" endline="385" pcid="1811">
    function setLiquidationBufferRatio(bytes32 _marketKey, uint _ratio) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_LIQUIDATION_BUFFER_RATIO, _ratio);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="374" endline="376" pcid="1809">
    function setOffchainPriceDivergence(bytes32 _marketKey, uint _offchainPriceDivergence) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_OFFCHAIN_PRICE_DIVERGENCE, _offchainPriceDivergence);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="358" endline="360" pcid="1807">
    function setMaxDelayTimeDelta(bytes32 _marketKey, uint _maxDelayTimeDelta) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_MAX_DELAY_TIME_DELTA, _maxDelayTimeDelta);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="354" endline="356" pcid="1806">
    function setMinDelayTimeDelta(bytes32 _marketKey, uint _minDelayTimeDelta) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_MIN_DELAY_TIME_DELTA, _minDelayTimeDelta);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="325" endline="327" pcid="1802">
    function setMaxMarketValue(bytes32 _marketKey, uint _maxMarketValue) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_MAX_MARKET_VALUE, _maxMarketValue);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="321" endline="323" pcid="1801">
    function setMaxLeverage(bytes32 _marketKey, uint _maxLeverage) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_MAX_LEVERAGE, _maxLeverage);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="317" endline="319" pcid="1800">
    function setOffchainDelayedOrderMaxAge(bytes32 _marketKey, uint _offchainDelayedOrderMaxAge) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_OFFCHAIN_DELAYED_ORDER_MAX_AGE, _offchainDelayedOrderMaxAge);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="313" endline="315" pcid="1799">
    function setOffchainDelayedOrderMinAge(bytes32 _marketKey, uint _offchainDelayedOrderMinAge) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_OFFCHAIN_DELAYED_ORDER_MIN_AGE, _offchainDelayedOrderMinAge);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="309" endline="311" pcid="1798">
    function setDelayedOrderConfirmWindow(bytes32 _marketKey, uint _delayedOrderConfirmWindow) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_DELAYED_ORDER_CONFIRM_WINDOW, _delayedOrderConfirmWindow);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="305" endline="307" pcid="1797">
    function setNextPriceConfirmWindow(bytes32 _marketKey, uint _nextPriceConfirmWindow) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_NEXT_PRICE_CONFIRM_WINDOW, _nextPriceConfirmWindow);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="196" endline="198" pcid="904">
    function setMaxLeverage(bytes32 _marketKey, uint _maxLeverage) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_MAX_LEVERAGE, _maxLeverage);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="200" endline="202" pcid="905">
    function setMaxMarketValueUSD(bytes32 _marketKey, uint _maxMarketValueUSD) public onlyOwner {
        _setParameter(_marketKey, PARAMETER_MAX_MARKET_VALUE, _maxMarketValueUSD);
    }
</source>
</class>

<class classid="142" nclones="4" nlines="4" similarity="75">
<source file="systems/source-code/FuturesMarketSettings.sol" startline="215" endline="218" pcid="907">
    function setMaxFundingRate(bytes32 _marketKey, uint _maxFundingRate) public onlyOwner {
        _recomputeFunding(_marketKey);
        _setParameter(_marketKey, PARAMETER_MAX_FUNDING_RATE, _maxFundingRate);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="343" endline="346" pcid="1804">
    function setMaxFundingVelocity(bytes32 _marketKey, uint _maxFundingVelocity) public onlyOwner {
        _recomputeFunding(_marketKey);
        _setParameter(_marketKey, PARAMETER_MAX_FUNDING_VELOCITY, _maxFundingVelocity);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="220" endline="224" pcid="908">
    function setSkewScaleUSD(bytes32 _marketKey, uint _skewScaleUSD) public onlyOwner {
        require(_skewScaleUSD > 0, "cannot set skew scale 0");
        _recomputeFunding(_marketKey);
        _setParameter(_marketKey, PARAMETER_MIN_SKEW_SCALE, _skewScaleUSD);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="348" endline="352" pcid="1805">
    function setSkewScale(bytes32 _marketKey, uint _skewScale) public onlyOwner {
        require(_skewScale > 0, "cannot set skew scale 0");
        _recomputeFunding(_marketKey);
        _setParameter(_marketKey, PARAMETER_MIN_SKEW_SCALE, _skewScale);
    }
</source>
</class>

<class classid="143" nclones="14" nlines="5" similarity="75">
<source file="systems/source-code/FuturesMarketSettings.sol" startline="250" endline="254" pcid="910">
    function setMinKeeperFee(uint _sUSD) external onlyOwner {
        require(_sUSD <= _minInitialMargin(), "min margin < liquidation fee");
        _flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_MIN_KEEPER_FEE, _sUSD);
        emit MinKeeperFeeUpdated(_sUSD);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="375" endline="381" pcid="2259">
    function setExchangeDynamicFeeThreshold(uint threshold) external onlyOwner {
        require(threshold != 0, "Threshold cannot be 0");

        flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_EXCHANGE_DYNAMIC_FEE_THRESHOLD, threshold);

        emit ExchangeDynamicFeeThresholdUpdated(threshold);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="386" endline="392" pcid="2260">
    function setExchangeDynamicFeeWeightDecay(uint weightDecay) external onlyOwner {
        require(weightDecay != 0, "Weight decay cannot be 0");

        flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_EXCHANGE_DYNAMIC_FEE_WEIGHT_DECAY, weightDecay);

        emit ExchangeDynamicFeeWeightDecayUpdated(weightDecay);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="431" endline="435" pcid="1816">
    function setMaxKeeperFee(uint _sUSD) external onlyOwner {
        require(_sUSD >= _minKeeperFee(), "max fee < min fee");
        _flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_MAX_KEEPER_FEE, _sUSD);
        emit MaxKeeperFeeUpdated(_sUSD);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="261" endline="264" pcid="912">
    function setLiquidationBufferRatio(uint _ratio) external onlyOwner {
        _flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_BUFFER_RATIO, _ratio);
        emit LiquidationBufferRatioUpdated(_ratio);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="266" endline="270" pcid="913">
    function setMinInitialMargin(uint _minMargin) external onlyOwner {
        require(_minKeeperFee() <= _minMargin, "min margin < liquidation fee");
        _flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_MIN_INITIAL_MARGIN, _minMargin);
        emit MinInitialMarginUpdated(_minMargin);
    }
</source>
<source file="systems/source-code/FuturesMarketSettings.sol" startline="256" endline="259" pcid="911">
    function setLiquidationFeeRatio(uint _ratio) external onlyOwner {
        _flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_FEE_RATIO, _ratio);
        emit LiquidationFeeRatioUpdated(_ratio);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="437" endline="440" pcid="1817">
    function setLiquidationFeeRatio(uint _ratio) external onlyOwner {
        _flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_FEE_RATIO, _ratio);
        emit LiquidationFeeRatioUpdated(_ratio);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="448" endline="451" pcid="1819">
    function setKeeperLiquidationFee(uint _keeperFee) external onlyOwner {
        _flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_KEEPER_LIQUIRATION_FEE, _keeperFee);
        emit KeeperLiquidationFeeUpdated(_keeperFee);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="326" endline="329" pcid="2251">
    function setLiquidationEscrowDuration(uint duration) external onlyOwner {
        flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_ESCROW_DURATION, duration);
        emit LiquidationEscrowDurationUpdated(duration);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="397" endline="401" pcid="2261">
    function setExchangeDynamicFeeRounds(uint rounds) external onlyOwner {
        flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_EXCHANGE_DYNAMIC_FEE_ROUNDS, rounds);

        emit ExchangeDynamicFeeRoundsUpdated(rounds);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="346" endline="349" pcid="2255">
    function setFlagReward(uint reward) external onlyOwner {
        flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_FLAG_REWARD, reward);
        emit FlagRewardUpdated(reward);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="351" endline="354" pcid="2256">
    function setLiquidateReward(uint reward) external onlyOwner {
        flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATE_REWARD, reward);
        emit LiquidateRewardUpdated(reward);
    }
</source>
<source file="systems/source-code/PerpsV2MarketSettings.sol" startline="442" endline="446" pcid="1818">
    function setMinInitialMargin(uint _minMargin) external onlyOwner {
        require(_minKeeperFee() <= _minMargin, "min margin < liquidation fee");
        _flexibleStorage().setUIntValue(SETTING_CONTRACT_NAME, SETTING_MIN_INITIAL_MARGIN, _minMargin);
        emit MinInitialMarginUpdated(_minMargin);
    }
</source>
</class>

<class classid="144" nclones="6" nlines="3" similarity="100">
<source file="systems/source-code/Issuer.sol" startline="308" endline="311" pcid="949">
    function _lastIssueEvent(address account) internal view returns (uint) {
        //  Get the timestamp of the last issue this account made
        return flexibleStorage().getUIntValue(CONTRACT_NAME, keccak256(abi.encodePacked(LAST_ISSUE_EVENT, account)));
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="247" endline="253" pcid="1476">
    function getCollapseFeeRate(address collateral) internal view returns (uint) {
        return
            flexibleStorage().getUIntValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_COLLAPSE_FEE_RATE, collateral))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="239" endline="245" pcid="1475">
    function getInteractionDelay(address collateral) internal view returns (uint) {
        return
            flexibleStorage().getUIntValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_INTERACTION_DELAY, collateral))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="223" endline="229" pcid="1473">
    function getWrapperMintFeeRate(address wrapper) internal view returns (int) {
        return
            flexibleStorage().getIntValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_WRAPPER_MINT_FEE_RATE, wrapper))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="231" endline="237" pcid="1474">
    function getWrapperBurnFeeRate(address wrapper) internal view returns (int) {
        return
            flexibleStorage().getIntValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_WRAPPER_BURN_FEE_RATE, wrapper))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="215" endline="221" pcid="1472">
    function getWrapperMaxTokenAmount(address wrapper) internal view returns (uint) {
        return
            flexibleStorage().getUIntValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_WRAPPER_MAX_TOKEN_AMOUNT, wrapper))
            );
    }
</source>
</class>

<class classid="145" nclones="9" nlines="3" similarity="100">
<source file="systems/source-code/Issuer.sol" startline="335" endline="337" pcid="951">
    function _snxToUSD(uint amount, uint snxRate) internal pure returns (uint) {
        return amount.multiplyDecimalRound(snxRate);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="339" endline="341" pcid="952">
    function _usdToSnx(uint amount, uint snxRate) internal pure returns (uint) {
        return amount.divideDecimalRound(snxRate);
    }
</source>
<source file="systems/source-code/PublicSafeDecimalMath.sol" startline="31" endline="33" pcid="1928">
    function divideDecimal(uint x, uint y) public pure returns (uint) {
        return x.divideDecimal(y);
    }
</source>
<source file="systems/source-code/PublicSafeDecimalMath.sol" startline="27" endline="29" pcid="1927">
    function multiplyDecimalRoundPrecise(uint x, uint y) public pure returns (uint) {
        return x.multiplyDecimalRoundPrecise(y);
    }
</source>
<source file="systems/source-code/PublicSafeDecimalMath.sol" startline="23" endline="25" pcid="1926">
    function multiplyDecimalRound(uint x, uint y) public pure returns (uint) {
        return x.multiplyDecimalRound(y);
    }
</source>
<source file="systems/source-code/PublicSafeDecimalMath.sol" startline="19" endline="21" pcid="1925">
    function multiplyDecimal(uint x, uint y) public pure returns (uint) {
        return x.multiplyDecimal(y);
    }
</source>
<source file="systems/source-code/PublicMath.sol" startline="11" endline="13" pcid="1922">
    function powerDecimal(uint x, uint y) public pure returns (uint) {
        return x.powDecimal(y);
    }
</source>
<source file="systems/source-code/PublicSafeDecimalMath.sol" startline="35" endline="37" pcid="1929">
    function divideDecimalRound(uint x, uint y) public pure returns (uint) {
        return x.divideDecimalRound(y);
    }
</source>
<source file="systems/source-code/PublicSafeDecimalMath.sol" startline="39" endline="41" pcid="1930">
    function divideDecimalRoundPrecise(uint x, uint y) public pure returns (uint) {
        return x.divideDecimalRoundPrecise(y);
    }
</source>
</class>

<class classid="146" nclones="2" nlines="9" similarity="75">
<source file="systems/source-code/Issuer.sol" startline="593" endline="613" pcid="978">
    function issueSynthsWithoutDebt(
        bytes32 currencyKey,
        address to,
        uint amount
    ) external onlyTrustedMinters returns (bool rateInvalid) {
        require(address(synths[currencyKey]) != address(0), "synth doesn't exist");
        require(amount > 0, "cannot issue 0 synths");

        // record issue timestamp
        _setLastIssueEvent(to);

        // Create their synths
        synths[currencyKey].issue(to, amount);

        // Account for the issued debt in the cache
        (uint rate, bool rateInvalid) = _rateAndInvalid(currencyKey);
        debtCache().updateCachedsUSDDebt(SafeCast.toInt256(amount.multiplyDecimal(rate)));

        // returned so that the caller can decide what to do if the rate is invalid
        return rateInvalid;
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="615" endline="634" pcid="979">
    function burnSynthsWithoutDebt(
        bytes32 currencyKey,
        address from,
        uint amount
    ) external onlyTrustedMinters returns (bool rateInvalid) {
        require(address(synths[currencyKey]) != address(0), "synth doesn't exist");
        require(amount > 0, "cannot issue 0 synths");

        exchanger().settle(from, currencyKey);

        // Burn some synths
        synths[currencyKey].burn(from, amount);

        // Account for the burnt debt in the cache. If rate is invalid, the user won't be able to exchange
        (uint rate, bool rateInvalid) = _rateAndInvalid(currencyKey);
        debtCache().updateCachedsUSDDebt(-SafeCast.toInt256(amount.multiplyDecimal(rate)));

        // returned so that the caller can decide what to do if the rate is invalid
        return rateInvalid;
    }
</source>
</class>

<class classid="147" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/Issuer.sol" startline="672" endline="674" pcid="983">
    function issueMaxSynths(address from) external onlySynthetix {
        _issueSynths(from, 0, true);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="703" endline="705" pcid="988">
    function burnSynthsToTarget(address from) external onlySynthetix {
        _voluntaryBurnSynths(from, 0, true);
    }
</source>
</class>

<class classid="148" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/Issuer.sol" startline="676" endline="683" pcid="984">
    function issueSynthsOnBehalf(
        address issueForAddress,
        address from,
        uint amount
    ) external onlySynthetix {
        _requireCanIssueOnBehalf(issueForAddress, from);
        _issueSynths(issueForAddress, amount, false);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="694" endline="701" pcid="987">
    function burnSynthsOnBehalf(
        address burnForAddress,
        address from,
        uint amount
    ) external onlySynthetix {
        _requireCanBurnOnBehalf(burnForAddress, from);
        _voluntaryBurnSynths(burnForAddress, amount, false);
    }
</source>
</class>

<class classid="149" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/Issuer.sol" startline="685" endline="688" pcid="985">
    function issueMaxSynthsOnBehalf(address issueForAddress, address from) external onlySynthetix {
        _requireCanIssueOnBehalf(issueForAddress, from);
        _issueSynths(issueForAddress, 0, true);
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="707" endline="710" pcid="989">
    function burnSynthsToTargetOnBehalf(address burnForAddress, address from) external onlySynthetix {
        _requireCanBurnOnBehalf(burnForAddress, from);
        _voluntaryBurnSynths(burnForAddress, 0, true);
    }
</source>
</class>

<class classid="150" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/Issuer.sol" startline="868" endline="870" pcid="997">
    function _requireCanIssueOnBehalf(address issueForAddress, address from) internal view {
        require(delegateApprovals().canIssueFor(issueForAddress, from), "Not approved to act on behalf");
    }
</source>
<source file="systems/source-code/Issuer.sol" startline="872" endline="874" pcid="998">
    function _requireCanBurnOnBehalf(address burnForAddress, address from) internal view {
        require(delegateApprovals().canBurnFor(burnForAddress, from), "Not approved to act on behalf");
    }
</source>
</class>

<class classid="151" nclones="6" nlines="4" similarity="75">
<source file="systems/source-code/LegacyOwned.sol" startline="11" endline="14" pcid="1007">
    function nominateOwner(address _owner) external onlyOwner {
        nominatedOwner = _owner;
        emit OwnerNominated(_owner);
    }
</source>
<source file="systems/source-code/TemporarilyOwned.sol" startline="21" endline="24" pcid="2374">
    function nominateNewOwner(address _owner) external onlyTemporaryOwner {
        nominatedOwner = _owner;
        emit OwnerNominated(_owner);
    }
</source>
<source file="systems/source-code/LegacyTokenState.sol" startline="22" endline="25" pcid="1009">
    function setAssociatedContract(address _associatedContract) external onlyOwner {
        associatedContract = _associatedContract;
        emit AssociatedContractUpdated(_associatedContract);
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="265" endline="271" pcid="2495">
    function setPeriodController(address newPeriodController) external onlyOwner {
        require(newPeriodController != address(0), "Invalid period controller");

        _periodController = newPeriodController;

        emit PeriodControllerChanged(newPeriodController);
    }
</source>
<source file="systems/source-code/Owned.sol" startline="14" endline="17" pcid="1611">
    function nominateNewOwner(address _owner) external onlyOwner {
        nominatedOwner = _owner;
        emit OwnerNominated(_owner);
    }
</source>
<source file="systems/source-code/State.sol" startline="23" endline="26" pcid="2061">
    function setAssociatedContract(address _associatedContract) external onlyOwner {
        associatedContract = _associatedContract;
        emit AssociatedContractUpdated(_associatedContract);
    }
</source>
</class>

<class classid="152" nclones="3" nlines="6" similarity="80">
<source file="systems/source-code/LegacyOwned.sol" startline="16" endline="21" pcid="1008">
    function acceptOwnership() external {
        require(msg.sender == nominatedOwner);
        emit OwnerChanged(owner, nominatedOwner);
        owner = nominatedOwner;
        nominatedOwner = address(0);
    }
</source>
<source file="systems/source-code/Owned.sol" startline="19" endline="24" pcid="1612">
    function acceptOwnership() external {
        require(msg.sender == nominatedOwner, "You must be nominated before you can accept ownership");
        emit OwnerChanged(owner, nominatedOwner);
        owner = nominatedOwner;
        nominatedOwner = address(0);
    }
</source>
<source file="systems/source-code/TemporarilyOwned.sol" startline="26" endline="32" pcid="2375">
    function acceptOwnership() external {
        require(block.timestamp < expiryTime, "Ownership expired");
        require(msg.sender == nominatedOwner, "You must be nominated before you can accept ownership");
        emit OwnerChanged(temporaryOwner, nominatedOwner);
        temporaryOwner = nominatedOwner;
        nominatedOwner = address(0);
    }
</source>
</class>

<class classid="153" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/LegacyTokenState.sol" startline="27" endline="33" pcid="1010">
    function setAllowance(
        address tokenOwner,
        address spender,
        uint value
    ) external onlyAssociatedContract {
        allowance[tokenOwner][spender] = value;
    }
</source>
<source file="systems/source-code/TokenState.sol" startline="25" endline="31" pcid="2467">
    function setAllowance(
        address tokenOwner,
        address spender,
        uint value
    ) external onlyAssociatedContract {
        allowance[tokenOwner][spender] = value;
    }
</source>
</class>

<class classid="154" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/LegacyTokenState.sol" startline="35" endline="37" pcid="1011">
    function setBalanceOf(address account, uint value) external onlyAssociatedContract {
        balanceOf[account] = value;
    }
</source>
<source file="systems/source-code/TokenState.sol" startline="39" endline="41" pcid="2468">
    function setBalanceOf(address account, uint value) external onlyAssociatedContract {
        balanceOf[account] = value;
    }
</source>
</class>

<class classid="155" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/Liquidator.sol" startline="116" endline="119" pcid="1026">
    function getLiquidationDeadlineForAccount(address account) external view returns (uint) {
        LiquidationEntry memory liquidation = _getLiquidationEntryForAccount(account);
        return liquidation.deadline;
    }
</source>
<source file="systems/source-code/Liquidator.sol" startline="121" endline="124" pcid="1027">
    function getLiquidationCallerForAccount(address account) external view returns (address) {
        LiquidationEntry memory liquidation = _getLiquidationEntryForAccount(account);
        return liquidation.caller;
    }
</source>
</class>

<class classid="156" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/Migration_Caph.sol" startline="32" endline="35" pcid="1051">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](1);
        contracts[0] = address(addressresolver_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep14.sol" startline="30" endline="33" pcid="1108">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](1);
        contracts[0] = address(perpsv2exchangerate_i);
    }
</source>
</class>

<class classid="157" nclones="5" nlines="5" similarity="75">
<source file="systems/source-code/Migration_Caph.sol" startline="37" endline="49" pcid="1052">
    function migrate() external onlyOwner {
        // ACCEPT OWNERSHIP for all contracts that require ownership to make changes
        acceptAll();

        // MIGRATION
        // Import all new contracts into the address resolver;
        addressresolver_importAddresses_0();
        // Rebuild the resolver caches in all MixinResolver contracts - batch 1;
        addressresolver_rebuildCaches_1();

        // NOMINATE OWNERSHIP back to owner for aforementioned contracts
        nominateAll();
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="69" endline="73" pcid="2325">
    function requireFuturesActive() external view {
        _internalRequireSystemActive();
        _internalRequireExchangeActive();
        _internalRequireFuturesActive();
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep14.sol" startline="35" endline="44" pcid="1109">
    function migrate() external onlyOwner {
        // ACCEPT OWNERSHIP for all contracts that require ownership to make changes
        acceptAll();

        // MIGRATION
        perpsv2exchangerate_removeAssociatedContracts_0();

        // NOMINATE OWNERSHIP back to owner for aforementioned contracts
        nominateAll();
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="47" endline="53" pcid="2322">
    function requireIssuanceActive() external view {
        // Issuance requires the system be active
        _internalRequireSystemActive();

        // and issuance itself of course
        _internalRequireIssuanceActive();
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="55" endline="61" pcid="2323">
    function requireExchangeActive() external view {
        // Exchanging requires the system be active
        _internalRequireSystemActive();

        // and exchanging itself of course
        _internalRequireExchangeActive();
    }
</source>
</class>

<class classid="158" nclones="48" nlines="6" similarity="75">
<source file="systems/source-code/Migration_Caph.sol" startline="51" endline="56" pcid="1053">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep12.sol" startline="212" endline="217" pcid="1091">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep12.sol" startline="205" endline="210" pcid="1090">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep13.sol" startline="205" endline="210" pcid="1100">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_Caph.sol" startline="58" endline="63" pcid="1054">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep10.sol" startline="212" endline="217" pcid="1071">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep1.sol" startline="68" endline="73" pcid="1059">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep11.sol" startline="212" endline="217" pcid="1081">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep11.sol" startline="205" endline="210" pcid="1080">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep10.sol" startline="205" endline="210" pcid="1070">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep14.sol" startline="53" endline="58" pcid="1111">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep13.sol" startline="212" endline="217" pcid="1101">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_NaosOptimism.sol" startline="91" endline="96" pcid="1357">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep2.sol" startline="226" endline="231" pcid="1115">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="291" endline="296" pcid="1289">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="284" endline="289" pcid="1288">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="291" endline="296" pcid="1259">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_NaosOptimism.sol" startline="84" endline="89" pcid="1356">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="284" endline="289" pcid="1258">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_Naos.sol" startline="99" endline="104" pcid="1349">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep2.sol" startline="233" endline="238" pcid="1116">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_Naos.sol" startline="92" endline="97" pcid="1348">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep3.sol" startline="205" endline="210" pcid="1128">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="291" endline="296" pcid="1229">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep14.sol" startline="46" endline="51" pcid="1110">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="291" endline="296" pcid="1319">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="284" endline="289" pcid="1318">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep4.sol" startline="212" endline="217" pcid="1139">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep5.sol" startline="205" endline="210" pcid="1148">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep5.sol" startline="212" endline="217" pcid="1149">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep6.sol" startline="205" endline="210" pcid="1158">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep6.sol" startline="212" endline="217" pcid="1159">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep7.sol" startline="205" endline="210" pcid="1168">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="284" endline="289" pcid="1228">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep7.sol" startline="212" endline="217" pcid="1169">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep4.sol" startline="205" endline="210" pcid="1138">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep3.sol" startline="183" endline="188" pcid="1217">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep8.sol" startline="205" endline="210" pcid="1178">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep3.sol" startline="176" endline="181" pcid="1216">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep1.sol" startline="75" endline="80" pcid="1060">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep8.sol" startline="212" endline="217" pcid="1179">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep9.sol" startline="205" endline="210" pcid="1188">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep2.sol" startline="183" endline="188" pcid="1205">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep9.sol" startline="212" endline="217" pcid="1189">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep3.sol" startline="212" endline="217" pcid="1129">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep1.sol" startline="184" endline="189" pcid="1198">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep2.sol" startline="176" endline="181" pcid="1204">
    function acceptAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            Owned(contracts[i]).acceptOwnership();
        }
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep1.sol" startline="191" endline="196" pcid="1199">
    function nominateAll() internal {
        address[] memory contracts = contractsRequiringOwnership();
        for (uint i = 0; i < contracts.length; i++) {
            returnOwnership(contracts[i]);
        }
    }
</source>
</class>

<class classid="159" nclones="33" nlines="7" similarity="83">
<source file="systems/source-code/Migration_Caph.sol" startline="65" endline="74" pcid="1055">
    function addressresolver_importAddresses_0() internal {
        bytes32[] memory addressresolver_importAddresses_names_0_0 = new bytes32[](1);
        addressresolver_importAddresses_names_0_0[0] = bytes32("FuturesMarketManager");
        address[] memory addressresolver_importAddresses_destinations_0_1 = new address[](1);
        addressresolver_importAddresses_destinations_0_1[0] = address(new_FuturesMarketManager_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_0_0,
            addressresolver_importAddresses_destinations_0_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="345" endline="354" pcid="1264">
    function addressresolver_importAddresses_19() internal {
        bytes32[] memory addressresolver_importAddresses_names_19_0 = new bytes32[](1);
        addressresolver_importAddresses_names_19_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_19_1 = new address[](1);
        addressresolver_importAddresses_destinations_19_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_19_0,
            addressresolver_importAddresses_destinations_19_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="298" endline="307" pcid="1320">
    function addressresolver_importAddresses_0() internal {
        bytes32[] memory addressresolver_importAddresses_names_0_0 = new bytes32[](1);
        addressresolver_importAddresses_names_0_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_0_1 = new address[](1);
        addressresolver_importAddresses_destinations_0_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_0_0,
            addressresolver_importAddresses_destinations_0_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="345" endline="354" pcid="1294">
    function addressresolver_importAddresses_19() internal {
        bytes32[] memory addressresolver_importAddresses_names_19_0 = new bytes32[](1);
        addressresolver_importAddresses_names_19_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_19_1 = new address[](1);
        addressresolver_importAddresses_destinations_19_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_19_0,
            addressresolver_importAddresses_destinations_19_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="533" endline="542" pcid="1250">
    function addressresolver_importAddresses_95() internal {
        bytes32[] memory addressresolver_importAddresses_names_95_0 = new bytes32[](1);
        addressresolver_importAddresses_names_95_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_95_1 = new address[](1);
        addressresolver_importAddresses_destinations_95_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_95_0,
            addressresolver_importAddresses_destinations_95_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="591" endline="600" pcid="1345">
    function addressresolver_importAddresses_116() internal {
        bytes32[] memory addressresolver_importAddresses_names_116_0 = new bytes32[](1);
        addressresolver_importAddresses_names_116_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_116_1 = new address[](1);
        addressresolver_importAddresses_destinations_116_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_116_0,
            addressresolver_importAddresses_destinations_116_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="486" endline="495" pcid="1246">
    function addressresolver_importAddresses_76() internal {
        bytes32[] memory addressresolver_importAddresses_names_76_0 = new bytes32[](1);
        addressresolver_importAddresses_names_76_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_76_1 = new address[](1);
        addressresolver_importAddresses_destinations_76_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_76_0,
            addressresolver_importAddresses_destinations_76_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="533" endline="542" pcid="1280">
    function addressresolver_importAddresses_95() internal {
        bytes32[] memory addressresolver_importAddresses_names_95_0 = new bytes32[](1);
        addressresolver_importAddresses_names_95_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_95_1 = new address[](1);
        addressresolver_importAddresses_destinations_95_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_95_0,
            addressresolver_importAddresses_destinations_95_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="439" endline="448" pcid="1302">
    function addressresolver_importAddresses_57() internal {
        bytes32[] memory addressresolver_importAddresses_names_57_0 = new bytes32[](1);
        addressresolver_importAddresses_names_57_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_57_1 = new address[](1);
        addressresolver_importAddresses_destinations_57_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_57_0,
            addressresolver_importAddresses_destinations_57_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="580" endline="589" pcid="1284">
    function addressresolver_importAddresses_114() internal {
        bytes32[] memory addressresolver_importAddresses_names_114_0 = new bytes32[](1);
        addressresolver_importAddresses_names_114_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_114_1 = new address[](1);
        addressresolver_importAddresses_destinations_114_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_114_0,
            addressresolver_importAddresses_destinations_114_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="486" endline="495" pcid="1336">
    function addressresolver_importAddresses_76() internal {
        bytes32[] memory addressresolver_importAddresses_names_76_0 = new bytes32[](1);
        addressresolver_importAddresses_names_76_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_76_1 = new address[](1);
        addressresolver_importAddresses_destinations_76_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_76_0,
            addressresolver_importAddresses_destinations_76_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="298" endline="307" pcid="1260">
    function addressresolver_importAddresses_0() internal {
        bytes32[] memory addressresolver_importAddresses_names_0_0 = new bytes32[](1);
        addressresolver_importAddresses_names_0_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_0_1 = new address[](1);
        addressresolver_importAddresses_destinations_0_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_0_0,
            addressresolver_importAddresses_destinations_0_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="580" endline="589" pcid="1344">
    function addressresolver_importAddresses_114() internal {
        bytes32[] memory addressresolver_importAddresses_names_114_0 = new bytes32[](1);
        addressresolver_importAddresses_names_114_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_114_1 = new address[](1);
        addressresolver_importAddresses_destinations_114_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_114_0,
            addressresolver_importAddresses_destinations_114_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="439" endline="448" pcid="1332">
    function addressresolver_importAddresses_57() internal {
        bytes32[] memory addressresolver_importAddresses_names_57_0 = new bytes32[](1);
        addressresolver_importAddresses_names_57_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_57_1 = new address[](1);
        addressresolver_importAddresses_destinations_57_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_57_0,
            addressresolver_importAddresses_destinations_57_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="392" endline="401" pcid="1298">
    function addressresolver_importAddresses_38() internal {
        bytes32[] memory addressresolver_importAddresses_names_38_0 = new bytes32[](1);
        addressresolver_importAddresses_names_38_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_38_1 = new address[](1);
        addressresolver_importAddresses_destinations_38_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_38_0,
            addressresolver_importAddresses_destinations_38_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="486" endline="495" pcid="1306">
    function addressresolver_importAddresses_76() internal {
        bytes32[] memory addressresolver_importAddresses_names_76_0 = new bytes32[](1);
        addressresolver_importAddresses_names_76_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_76_1 = new address[](1);
        addressresolver_importAddresses_destinations_76_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_76_0,
            addressresolver_importAddresses_destinations_76_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="533" endline="542" pcid="1340">
    function addressresolver_importAddresses_95() internal {
        bytes32[] memory addressresolver_importAddresses_names_95_0 = new bytes32[](1);
        addressresolver_importAddresses_names_95_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_95_1 = new address[](1);
        addressresolver_importAddresses_destinations_95_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_95_0,
            addressresolver_importAddresses_destinations_95_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="439" endline="448" pcid="1242">
    function addressresolver_importAddresses_57() internal {
        bytes32[] memory addressresolver_importAddresses_names_57_0 = new bytes32[](1);
        addressresolver_importAddresses_names_57_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_57_1 = new address[](1);
        addressresolver_importAddresses_destinations_57_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_57_0,
            addressresolver_importAddresses_destinations_57_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="580" endline="589" pcid="1314">
    function addressresolver_importAddresses_114() internal {
        bytes32[] memory addressresolver_importAddresses_names_114_0 = new bytes32[](1);
        addressresolver_importAddresses_names_114_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_114_1 = new address[](1);
        addressresolver_importAddresses_destinations_114_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_114_0,
            addressresolver_importAddresses_destinations_114_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="345" endline="354" pcid="1324">
    function addressresolver_importAddresses_19() internal {
        bytes32[] memory addressresolver_importAddresses_names_19_0 = new bytes32[](1);
        addressresolver_importAddresses_names_19_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_19_1 = new address[](1);
        addressresolver_importAddresses_destinations_19_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_19_0,
            addressresolver_importAddresses_destinations_19_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="591" endline="600" pcid="1315">
    function addressresolver_importAddresses_116() internal {
        bytes32[] memory addressresolver_importAddresses_names_116_0 = new bytes32[](1);
        addressresolver_importAddresses_names_116_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_116_1 = new address[](1);
        addressresolver_importAddresses_destinations_116_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_116_0,
            addressresolver_importAddresses_destinations_116_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="591" endline="600" pcid="1285">
    function addressresolver_importAddresses_116() internal {
        bytes32[] memory addressresolver_importAddresses_names_116_0 = new bytes32[](1);
        addressresolver_importAddresses_names_116_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_116_1 = new address[](1);
        addressresolver_importAddresses_destinations_116_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_116_0,
            addressresolver_importAddresses_destinations_116_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="392" endline="401" pcid="1268">
    function addressresolver_importAddresses_38() internal {
        bytes32[] memory addressresolver_importAddresses_names_38_0 = new bytes32[](1);
        addressresolver_importAddresses_names_38_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_38_1 = new address[](1);
        addressresolver_importAddresses_destinations_38_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_38_0,
            addressresolver_importAddresses_destinations_38_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="591" endline="600" pcid="1255">
    function addressresolver_importAddresses_116() internal {
        bytes32[] memory addressresolver_importAddresses_names_116_0 = new bytes32[](1);
        addressresolver_importAddresses_names_116_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_116_1 = new address[](1);
        addressresolver_importAddresses_destinations_116_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_116_0,
            addressresolver_importAddresses_destinations_116_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="392" endline="401" pcid="1238">
    function addressresolver_importAddresses_38() internal {
        bytes32[] memory addressresolver_importAddresses_names_38_0 = new bytes32[](1);
        addressresolver_importAddresses_names_38_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_38_1 = new address[](1);
        addressresolver_importAddresses_destinations_38_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_38_0,
            addressresolver_importAddresses_destinations_38_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="392" endline="401" pcid="1328">
    function addressresolver_importAddresses_38() internal {
        bytes32[] memory addressresolver_importAddresses_names_38_0 = new bytes32[](1);
        addressresolver_importAddresses_names_38_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_38_1 = new address[](1);
        addressresolver_importAddresses_destinations_38_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_38_0,
            addressresolver_importAddresses_destinations_38_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="533" endline="542" pcid="1310">
    function addressresolver_importAddresses_95() internal {
        bytes32[] memory addressresolver_importAddresses_names_95_0 = new bytes32[](1);
        addressresolver_importAddresses_names_95_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_95_1 = new address[](1);
        addressresolver_importAddresses_destinations_95_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_95_0,
            addressresolver_importAddresses_destinations_95_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="439" endline="448" pcid="1272">
    function addressresolver_importAddresses_57() internal {
        bytes32[] memory addressresolver_importAddresses_names_57_0 = new bytes32[](1);
        addressresolver_importAddresses_names_57_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_57_1 = new address[](1);
        addressresolver_importAddresses_destinations_57_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_57_0,
            addressresolver_importAddresses_destinations_57_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="298" endline="307" pcid="1290">
    function addressresolver_importAddresses_0() internal {
        bytes32[] memory addressresolver_importAddresses_names_0_0 = new bytes32[](1);
        addressresolver_importAddresses_names_0_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_0_1 = new address[](1);
        addressresolver_importAddresses_destinations_0_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_0_0,
            addressresolver_importAddresses_destinations_0_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="580" endline="589" pcid="1254">
    function addressresolver_importAddresses_114() internal {
        bytes32[] memory addressresolver_importAddresses_names_114_0 = new bytes32[](1);
        addressresolver_importAddresses_names_114_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_114_1 = new address[](1);
        addressresolver_importAddresses_destinations_114_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_114_0,
            addressresolver_importAddresses_destinations_114_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="486" endline="495" pcid="1276">
    function addressresolver_importAddresses_76() internal {
        bytes32[] memory addressresolver_importAddresses_names_76_0 = new bytes32[](1);
        addressresolver_importAddresses_names_76_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_76_1 = new address[](1);
        addressresolver_importAddresses_destinations_76_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_76_0,
            addressresolver_importAddresses_destinations_76_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="298" endline="307" pcid="1230">
    function addressresolver_importAddresses_0() internal {
        bytes32[] memory addressresolver_importAddresses_names_0_0 = new bytes32[](1);
        addressresolver_importAddresses_names_0_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_0_1 = new address[](1);
        addressresolver_importAddresses_destinations_0_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_0_0,
            addressresolver_importAddresses_destinations_0_1
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="345" endline="354" pcid="1234">
    function addressresolver_importAddresses_19() internal {
        bytes32[] memory addressresolver_importAddresses_names_19_0 = new bytes32[](1);
        addressresolver_importAddresses_names_19_0[0] = bytes32("PerpsV2MarketData");
        address[] memory addressresolver_importAddresses_destinations_19_1 = new address[](1);
        addressresolver_importAddresses_destinations_19_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_19_0,
            addressresolver_importAddresses_destinations_19_1
        );
    }
</source>
</class>

<class classid="160" nclones="6" nlines="13" similarity="75">
<source file="systems/source-code/Migration_CaphOptimismStep1.sol" startline="144" endline="159" pcid="1065">
    function addressresolver_importAddresses_4() internal {
        bytes32[] memory addressresolver_importAddresses_names_4_0 = new bytes32[](4);
        addressresolver_importAddresses_names_4_0[0] = bytes32("PerpsV2MarketData");
        addressresolver_importAddresses_names_4_0[1] = bytes32("FuturesMarketManager");
        addressresolver_importAddresses_names_4_0[2] = bytes32("PerpsV2MarketSettings");
        addressresolver_importAddresses_names_4_0[3] = bytes32("PerpsV2ExchangeRate");
        address[] memory addressresolver_importAddresses_destinations_4_1 = new address[](4);
        addressresolver_importAddresses_destinations_4_1[0] = address(new_PerpsV2MarketData_contract);
        addressresolver_importAddresses_destinations_4_1[1] = address(new_FuturesMarketManager_contract);
        addressresolver_importAddresses_destinations_4_1[2] = address(new_PerpsV2MarketSettings_contract);
        addressresolver_importAddresses_destinations_4_1[3] = address(new_PerpsV2ExchangeRate_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_4_0,
            addressresolver_importAddresses_destinations_4_1
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep2.sol" startline="325" endline="340" pcid="1124">
    function addressresolver_importAddresses_126() internal {
        bytes32[] memory addressresolver_importAddresses_names_126_0 = new bytes32[](4);
        addressresolver_importAddresses_names_126_0[0] = bytes32("PerpsV2MarketSettings");
        addressresolver_importAddresses_names_126_0[1] = bytes32("PerpsV2MarketData");
        addressresolver_importAddresses_names_126_0[2] = bytes32("FuturesMarketManager");
        addressresolver_importAddresses_names_126_0[3] = bytes32("PerpsV2ExchangeRate");
        address[] memory addressresolver_importAddresses_destinations_126_1 = new address[](4);
        addressresolver_importAddresses_destinations_126_1[0] = address(new_PerpsV2MarketSettings_contract);
        addressresolver_importAddresses_destinations_126_1[1] = address(new_PerpsV2MarketData_contract);
        addressresolver_importAddresses_destinations_126_1[2] = address(new_FuturesMarketManager_contract);
        addressresolver_importAddresses_destinations_126_1[3] = address(new_PerpsV2ExchangeRate_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_126_0,
            addressresolver_importAddresses_destinations_126_1
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep2.sol" startline="240" endline="255" pcid="1117">
    function addressresolver_importAddresses_0() internal {
        bytes32[] memory addressresolver_importAddresses_names_0_0 = new bytes32[](4);
        addressresolver_importAddresses_names_0_0[0] = bytes32("FuturesMarketManager");
        addressresolver_importAddresses_names_0_0[1] = bytes32("PerpsV2MarketData");
        addressresolver_importAddresses_names_0_0[2] = bytes32("PerpsV2MarketSettings");
        addressresolver_importAddresses_names_0_0[3] = bytes32("PerpsV2ExchangeRate");
        address[] memory addressresolver_importAddresses_destinations_0_1 = new address[](4);
        addressresolver_importAddresses_destinations_0_1[0] = address(new_FuturesMarketManager_contract);
        addressresolver_importAddresses_destinations_0_1[1] = address(new_PerpsV2MarketData_contract);
        addressresolver_importAddresses_destinations_0_1[2] = address(new_PerpsV2MarketSettings_contract);
        addressresolver_importAddresses_destinations_0_1[3] = address(new_PerpsV2ExchangeRate_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_0_0,
            addressresolver_importAddresses_destinations_0_1
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep1.sol" startline="161" endline="176" pcid="1066">
    function addressresolver_importAddresses_5() internal {
        bytes32[] memory addressresolver_importAddresses_names_5_0 = new bytes32[](4);
        addressresolver_importAddresses_names_5_0[0] = bytes32("FuturesMarketManager");
        addressresolver_importAddresses_names_5_0[1] = bytes32("PerpsV2MarketData");
        addressresolver_importAddresses_names_5_0[2] = bytes32("PerpsV2ExchangeRate");
        addressresolver_importAddresses_names_5_0[3] = bytes32("PerpsV2MarketSettings");
        address[] memory addressresolver_importAddresses_destinations_5_1 = new address[](4);
        addressresolver_importAddresses_destinations_5_1[0] = address(new_FuturesMarketManager_contract);
        addressresolver_importAddresses_destinations_5_1[1] = address(new_PerpsV2MarketData_contract);
        addressresolver_importAddresses_destinations_5_1[2] = address(new_PerpsV2ExchangeRate_contract);
        addressresolver_importAddresses_destinations_5_1[3] = address(new_PerpsV2MarketSettings_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_5_0,
            addressresolver_importAddresses_destinations_5_1
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep2.sol" startline="308" endline="323" pcid="1123">
    function addressresolver_importAddresses_121() internal {
        bytes32[] memory addressresolver_importAddresses_names_121_0 = new bytes32[](4);
        addressresolver_importAddresses_names_121_0[0] = bytes32("FuturesMarketManager");
        addressresolver_importAddresses_names_121_0[1] = bytes32("PerpsV2MarketData");
        addressresolver_importAddresses_names_121_0[2] = bytes32("PerpsV2ExchangeRate");
        addressresolver_importAddresses_names_121_0[3] = bytes32("PerpsV2MarketSettings");
        address[] memory addressresolver_importAddresses_destinations_121_1 = new address[](4);
        addressresolver_importAddresses_destinations_121_1[0] = address(new_FuturesMarketManager_contract);
        addressresolver_importAddresses_destinations_121_1[1] = address(new_PerpsV2MarketData_contract);
        addressresolver_importAddresses_destinations_121_1[2] = address(new_PerpsV2ExchangeRate_contract);
        addressresolver_importAddresses_destinations_121_1[3] = address(new_PerpsV2MarketSettings_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_121_0,
            addressresolver_importAddresses_destinations_121_1
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep2.sol" startline="274" endline="289" pcid="1120">
    function addressresolver_importAddresses_59() internal {
        bytes32[] memory addressresolver_importAddresses_names_59_0 = new bytes32[](4);
        addressresolver_importAddresses_names_59_0[0] = bytes32("FuturesMarketManager");
        addressresolver_importAddresses_names_59_0[1] = bytes32("PerpsV2ExchangeRate");
        addressresolver_importAddresses_names_59_0[2] = bytes32("PerpsV2MarketData");
        addressresolver_importAddresses_names_59_0[3] = bytes32("PerpsV2MarketSettings");
        address[] memory addressresolver_importAddresses_destinations_59_1 = new address[](4);
        addressresolver_importAddresses_destinations_59_1[0] = address(new_FuturesMarketManager_contract);
        addressresolver_importAddresses_destinations_59_1[1] = address(new_PerpsV2ExchangeRate_contract);
        addressresolver_importAddresses_destinations_59_1[2] = address(new_PerpsV2MarketData_contract);
        addressresolver_importAddresses_destinations_59_1[3] = address(new_PerpsV2MarketSettings_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_59_0,
            addressresolver_importAddresses_destinations_59_1
        );
    }
</source>
</class>

<class classid="161" nclones="17" nlines="12" similarity="70">
<source file="systems/source-code/Migration_CaphOptimismStep10.sol" startline="59" endline="71" pcid="1068">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstatelinkperp_i);
        contracts[2] = address(perpsv2marketstatelinkperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxylinkperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstateopperp_i);
        contracts[8] = address(perpsv2marketstateopperplegacy_i);
        contracts[9] = address(perpsv2proxyopperp_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep6.sol" startline="59" endline="71" pcid="1156">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstateapeperp_i);
        contracts[2] = address(perpsv2marketstateapeperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxyapeperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstateftmperp_i);
        contracts[8] = address(perpsv2marketstateftmperplegacy_i);
        contracts[9] = address(perpsv2proxyftmperp_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep11.sol" startline="59" endline="71" pcid="1078">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstatesolperp_i);
        contracts[2] = address(perpsv2marketstatesolperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxysolperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstatexauperp_i);
        contracts[8] = address(perpsv2marketstatexauperplegacy_i);
        contracts[9] = address(perpsv2proxyxauperp_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep8.sol" startline="59" endline="71" pcid="1176">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstatexagperp_i);
        contracts[2] = address(perpsv2marketstatexagperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxyxagperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstateeurperp_i);
        contracts[8] = address(perpsv2marketstateeurperplegacy_i);
        contracts[9] = address(perpsv2proxyeurperp_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep3.sol" startline="59" endline="71" pcid="1126">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstateaaveperp_i);
        contracts[2] = address(perpsv2marketstateaaveperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxyaaveperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstateflowperp_i);
        contracts[8] = address(perpsv2marketstateflowperplegacy_i);
        contracts[9] = address(perpsv2proxyflowperp_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep5.sol" startline="59" endline="71" pcid="1146">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstatedydxperp_i);
        contracts[2] = address(perpsv2marketstatedydxperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxydydxperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstategbpperp_i);
        contracts[8] = address(perpsv2marketstategbpperplegacy_i);
        contracts[9] = address(perpsv2proxygbpperp_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep9.sol" startline="59" endline="71" pcid="1186">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstatematicperp_i);
        contracts[2] = address(perpsv2marketstatematicperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxymaticperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstatedogeperp_i);
        contracts[8] = address(perpsv2marketstatedogeperplegacy_i);
        contracts[9] = address(perpsv2proxydogeperp_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep7.sol" startline="59" endline="71" pcid="1166">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstateuniperp_i);
        contracts[2] = address(perpsv2marketstateuniperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxyuniperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstateatomperp_i);
        contracts[8] = address(perpsv2marketstateatomperplegacy_i);
        contracts[9] = address(perpsv2proxyatomperp_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep12.sol" startline="59" endline="71" pcid="1088">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstateavaxperp_i);
        contracts[2] = address(perpsv2marketstateavaxperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxyavaxperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstatearbperp_i);
        contracts[8] = address(perpsv2marketstatearbperplegacy_i);
        contracts[9] = address(perpsv2proxyarbperp_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep4.sol" startline="59" endline="71" pcid="1136">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstatenearperp_i);
        contracts[2] = address(perpsv2marketstatenearperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxynearperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstateaudperp_i);
        contracts[8] = address(perpsv2marketstateaudperplegacy_i);
        contracts[9] = address(perpsv2proxyaudperp_i);
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep3.sol" startline="54" endline="64" pcid="1214">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](8);
        contracts[0] = address(perpsv2marketstateaptperp_i);
        contracts[1] = address(perpsv2exchangerate_i);
        contracts[2] = address(futuresmarketmanager_i);
        contracts[3] = address(perpsv2marketsettings_i);
        contracts[4] = address(perpsv2marketstateshibperp_i);
        contracts[5] = address(perpsv2marketstatebchperp_i);
        contracts[6] = address(perpsv2marketstatecrvperp_i);
        contracts[7] = address(systemstatus_i);
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep2.sol" startline="54" endline="64" pcid="1202">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](8);
        contracts[0] = address(perpsv2marketstateltcperp_i);
        contracts[1] = address(perpsv2exchangerate_i);
        contracts[2] = address(futuresmarketmanager_i);
        contracts[3] = address(perpsv2marketsettings_i);
        contracts[4] = address(perpsv2marketstateadaperp_i);
        contracts[5] = address(perpsv2marketstatefilperp_i);
        contracts[6] = address(perpsv2marketstategmxperp_i);
        contracts[7] = address(systemstatus_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep2.sol" startline="65" endline="76" pcid="1113">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](9);
        contracts[0] = address(addressresolver_i);
        contracts[1] = address(systemstatus_i);
        contracts[2] = address(perpsv2marketstatebnbperp_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxybnbperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstateaxsperp_i);
        contracts[8] = address(perpsv2proxyaxsperp_i);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep13.sol" startline="59" endline="71" pcid="1098">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](10);
        contracts[0] = address(systemstatus_i);
        contracts[1] = address(perpsv2marketstateethperp_i);
        contracts[2] = address(perpsv2marketstateethperplegacy_i);
        contracts[3] = address(perpsv2exchangerate_i);
        contracts[4] = address(perpsv2proxyethperp_i);
        contracts[5] = address(futuresmarketmanager_i);
        contracts[6] = address(perpsv2marketsettings_i);
        contracts[7] = address(perpsv2marketstatebtcperp_i);
        contracts[8] = address(perpsv2marketstatebtcperplegacy_i);
        contracts[9] = address(perpsv2proxybtcperp_i);
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep1.sol" startline="48" endline="56" pcid="1196">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](6);
        contracts[0] = address(perpsv2marketstateldoperp_i);
        contracts[1] = address(perpsv2exchangerate_i);
        contracts[2] = address(futuresmarketmanager_i);
        contracts[3] = address(perpsv2marketsettings_i);
        contracts[4] = address(systemstatus_i);
        contracts[5] = address(exchangerates_i);
    }
</source>
<source file="systems/source-code/Migration_NaosOptimism.sol" startline="50" endline="58" pcid="1354">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](6);
        contracts[0] = address(addressresolver_i);
        contracts[1] = address(proxysynthetix_i);
        contracts[2] = address(systemstatus_i);
        contracts[3] = address(tokenstatesynthetix_i);
        contracts[4] = address(rewardsdistribution_i);
        contracts[5] = address(issuer_i);
    }
</source>
<source file="systems/source-code/Migration_Naos.sol" startline="53" endline="62" pcid="1346">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](7);
        contracts[0] = address(addressresolver_i);
        contracts[1] = address(proxysynthetix_i);
        contracts[2] = address(systemstatus_i);
        contracts[3] = address(tokenstatesynthetix_i);
        contracts[4] = address(rewardescrow_i);
        contracts[5] = address(rewardsdistribution_i);
        contracts[6] = address(issuer_i);
    }
</source>
</class>

<class classid="162" nclones="79" nlines="5" similarity="75">
<source file="systems/source-code/Migration_CaphOptimismStep10.sol" startline="219" endline="227" pcid="1072">
    function perpsv2marketstatelinkperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstatelinkperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstatelinkperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0xEed3618dd59163CC6849758F07fA9369823aa710
        );
        perpsv2marketstatelinkperplegacy_i.addAssociatedContracts(
            perpsv2marketstatelinkperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep4.sol" startline="240" endline="248" pcid="1142">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0xC8fCd6fB4D15dD7C455373297dEF375a08942eCe
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep4.sol" startline="250" endline="258" pcid="1143">
    function perpsv2marketstateaudperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstateaudperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstateaudperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0x6d62aA1535C7C33D7f6592562f091D193E180c57
        );
        perpsv2marketstateaudperplegacy_i.addAssociatedContracts(
            perpsv2marketstateaudperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep4.sol" startline="219" endline="227" pcid="1140">
    function perpsv2marketstatenearperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstatenearperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstatenearperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0x779f424d3B3A617beB4a0DB1C21D5505De297a8A
        );
        perpsv2marketstatenearperplegacy_i.addAssociatedContracts(
            perpsv2marketstatenearperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep4.sol" startline="271" endline="279" pcid="1145">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0x9De146b5663b82F44E5052dEDe2aA3Fd4CBcDC99
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep5.sol" startline="219" endline="227" pcid="1150">
    function perpsv2marketstatedydxperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstatedydxperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstatedydxperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0xac3F9a2753f185731324907E6802395d59Bb62a2
        );
        perpsv2marketstatedydxperplegacy_i.addAssociatedContracts(
            perpsv2marketstatedydxperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep5.sol" startline="240" endline="248" pcid="1152">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0x139F94E4f0e1101c1464a321CBA815c34d58B5D9
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep5.sol" startline="250" endline="258" pcid="1153">
    function perpsv2marketstategbpperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstategbpperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstategbpperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0x733a69D080B10Bc897452eF783020cdFe012974A
        );
        perpsv2marketstategbpperplegacy_i.addAssociatedContracts(
            perpsv2marketstategbpperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep5.sol" startline="271" endline="279" pcid="1155">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0x1dAd8808D8aC58a0df912aDC4b215ca3B93D6C49
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep6.sol" startline="219" endline="227" pcid="1160">
    function perpsv2marketstateapeperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstateapeperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstateapeperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0x089af032687993426A628184cb3D0610d2cda6F2
        );
        perpsv2marketstateapeperplegacy_i.addAssociatedContracts(
            perpsv2marketstateapeperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep6.sol" startline="240" endline="248" pcid="1162">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0x5B6BeB79E959Aac2659bEE60fE0D0885468BF886
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep6.sol" startline="250" endline="258" pcid="1163">
    function perpsv2marketstateftmperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstateftmperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstateftmperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0x1951c6b2D9DD9A3CF10aaC5e79A7EcA0a5300BB5
        );
        perpsv2marketstateftmperplegacy_i.addAssociatedContracts(
            perpsv2marketstateftmperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep6.sol" startline="271" endline="279" pcid="1165">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0xC18f85A6DD3Bcd0516a1CA08d3B1f0A4E191A2C4
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep7.sol" startline="219" endline="227" pcid="1170">
    function perpsv2marketstateuniperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstateuniperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstateuniperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0x0db1B224C5203fA22CFdFA3F92519D150ad86612
        );
        perpsv2marketstateuniperplegacy_i.addAssociatedContracts(
            perpsv2marketstateuniperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep7.sol" startline="240" endline="248" pcid="1172">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0x4308427C463CAEAaB50FFf98a9deC569C31E4E87
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep10.sol" startline="240" endline="248" pcid="1074">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0x31A1659Ca00F617E86Dc765B6494Afe70a5A9c1A
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep7.sol" startline="250" endline="258" pcid="1173">
    function perpsv2marketstateatomperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstateatomperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstateatomperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0xe46Ef097d2CF6FF95Ad172d5da0E65A0dE9e2468
        );
        perpsv2marketstateatomperplegacy_i.addAssociatedContracts(
            perpsv2marketstateatomperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep3.sol" startline="271" endline="279" pcid="1135">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0x27665271210aCff4Fab08AD9Bb657E91866471F0
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep3.sol" startline="250" endline="258" pcid="1133">
    function perpsv2marketstateflowperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstateflowperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstateflowperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0xECc8A6Af92d825ACC5B871993FC83d86CCEd5a19
        );
        perpsv2marketstateflowperplegacy_i.addAssociatedContracts(
            perpsv2marketstateflowperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep7.sol" startline="271" endline="279" pcid="1175">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0xbB16C7B3244DFA1a6BF83Fcce3EE4560837763CD
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep10.sol" startline="250" endline="258" pcid="1075">
    function perpsv2marketstateopperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstateopperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstateopperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0xBdD0D09f73AC6f8Ef59A71baab283C12dcab06fA
        );
        perpsv2marketstateopperplegacy_i.addAssociatedContracts(
            perpsv2marketstateopperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep3.sol" startline="240" endline="248" pcid="1132">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0x5374761526175B59f1E583246E20639909E189cE
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep8.sol" startline="219" endline="227" pcid="1180">
    function perpsv2marketstatexagperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstatexagperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstatexagperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0x28E1CE29aCdFe1E74e6fA18591E1D5481D2085a1
        );
        perpsv2marketstatexagperplegacy_i.addAssociatedContracts(
            perpsv2marketstatexagperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep10.sol" startline="271" endline="279" pcid="1077">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0x442b69937a0daf9D46439a71567fABE6Cb69FBaf
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep8.sol" startline="240" endline="248" pcid="1182">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0xdcB8438c979fA030581314e5A5Df42bbFEd744a0
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep11.sol" startline="219" endline="227" pcid="1082">
    function perpsv2marketstatesolperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstatesolperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstatesolperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0x435e6e499610B6De3510F0Cb047D3575C7bca6E1
        );
        perpsv2marketstatesolperplegacy_i.addAssociatedContracts(
            perpsv2marketstatesolperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep11.sol" startline="240" endline="248" pcid="1084">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0x0EA09D97b4084d859328ec4bF8eBCF9ecCA26F1D
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep8.sol" startline="250" endline="258" pcid="1183">
    function perpsv2marketstateeurperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstateeurperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstateeurperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0x4eD08210706F5b74584cC7F03b38d800DC27936B
        );
        perpsv2marketstateeurperplegacy_i.addAssociatedContracts(
            perpsv2marketstateeurperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep11.sol" startline="250" endline="258" pcid="1085">
    function perpsv2marketstatexauperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstatexauperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstatexauperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0xc564040630d6929070D85DF237FDf60F6bfE4b5F
        );
        perpsv2marketstatexauperplegacy_i.addAssociatedContracts(
            perpsv2marketstatexauperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep8.sol" startline="271" endline="279" pcid="1185">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0x87AE62c5720DAB812BDacba66cc24839440048d1
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep3.sol" startline="219" endline="227" pcid="1130">
    function perpsv2marketstateaaveperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstateaaveperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstateaaveperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0x3773dfbbc894bfa9DF22855FCec1D1572eFC5e0a
        );
        perpsv2marketstateaaveperplegacy_i.addAssociatedContracts(
            perpsv2marketstateaaveperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep11.sol" startline="271" endline="279" pcid="1087">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0x549dbDFfbd47bD5639f9348eBE82E63e2f9F777A
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep12.sol" startline="219" endline="227" pcid="1092">
    function perpsv2marketstateavaxperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstateavaxperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstateavaxperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0xC02AF29944301c8FbA606a7dF8ef446dc103238C
        );
        perpsv2marketstateavaxperplegacy_i.addAssociatedContracts(
            perpsv2marketstateavaxperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep9.sol" startline="219" endline="227" pcid="1190">
    function perpsv2marketstatematicperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstatematicperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstatematicperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0x82f962aF60e6627d3ea5Db5Fd7e1a57f7E1Ef2B8
        );
        perpsv2marketstatematicperplegacy_i.addAssociatedContracts(
            perpsv2marketstatematicperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep9.sol" startline="240" endline="248" pcid="1192">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0x074B8F19fc91d6B2eb51143E1f186Ca0DDB88042
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep12.sol" startline="240" endline="248" pcid="1094">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0xc203A12F298CE73E44F7d45A4f59a43DBfFe204D
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep9.sol" startline="250" endline="258" pcid="1193">
    function perpsv2marketstatedogeperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstatedogeperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstatedogeperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0x0A0A22189c8732cA089D6fB6709e65140a446a41
        );
        perpsv2marketstatedogeperplegacy_i.addAssociatedContracts(
            perpsv2marketstatedogeperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep9.sol" startline="271" endline="279" pcid="1195">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0x98cCbC721cc05E28a125943D69039B39BE6A21e9
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep1.sol" startline="209" endline="213" pcid="1201">
    function futuresmarketmanager_addProxiedMarkets_2() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_2_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_2_0[0] = address(0xaa94C874b91ef16C8B56A1c5B2F34E39366bD484);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_2_0);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep12.sol" startline="250" endline="258" pcid="1095">
    function perpsv2marketstatearbperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstatearbperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstatearbperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0x6393113A43A4A88b9F3D53b4b21e7feEb5d3D821
        );
        perpsv2marketstatearbperplegacy_i.addAssociatedContracts(
            perpsv2marketstatearbperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep12.sol" startline="271" endline="279" pcid="1097">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0x509072A5aE4a87AC89Fc8D64D94aDCb44Bd4b88e
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep2.sol" startline="201" endline="205" pcid="1207">
    function futuresmarketmanager_addProxiedMarkets_2() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_2_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_2_0[0] = address(0xB25529266D9677E9171BEaf333a0deA506c5F99A);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_2_0);
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep2.sol" startline="218" endline="222" pcid="1209">
    function futuresmarketmanager_addProxiedMarkets_27() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_27_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_27_0[0] = address(0xF9DD29D2Fd9B38Cd90E390C797F1B7E0523f43A9);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_27_0);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep13.sol" startline="219" endline="227" pcid="1102">
    function perpsv2marketstateethperplegacy_addAssociatedContracts_2() internal {
        address[] memory perpsv2marketstateethperplegacy_addAssociatedContracts_associatedContracts_2_0 = new address[](1);
        perpsv2marketstateethperplegacy_addAssociatedContracts_associatedContracts_2_0[0] = address(
            0x6aBC19F21D5Ce23abf392329Ef7B118c7b5F2AA8
        );
        perpsv2marketstateethperplegacy_i.addAssociatedContracts(
            perpsv2marketstateethperplegacy_addAssociatedContracts_associatedContracts_2_0
        );
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep2.sol" startline="235" endline="239" pcid="1211">
    function futuresmarketmanager_addProxiedMarkets_52() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_52_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_52_0[0] = address(0x2C5E2148bF3409659967FE3684fd999A76171235);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_52_0);
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep2.sol" startline="252" endline="256" pcid="1213">
    function futuresmarketmanager_addProxiedMarkets_77() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_77_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_77_0[0] = address(0x33d4613639603c845e61A02cd3D2A78BE7d513dc);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_77_0);
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="570" endline="578" pcid="1343">
    function futuresmarketmanager_updateMarketsImplementations_113() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0[0] = address(
            0x509072A5aE4a87AC89Fc8D64D94aDCb44Bd4b88e
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0
        );
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep3.sol" startline="201" endline="205" pcid="1219">
    function futuresmarketmanager_addProxiedMarkets_2() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_2_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_2_0[0] = address(0x9615B6BfFf240c44D3E33d0cd9A11f563a2e8D8B);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_2_0);
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="523" endline="531" pcid="1339">
    function futuresmarketmanager_updateMarketsImplementations_94() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0[0] = address(
            0xc203A12F298CE73E44F7d45A4f59a43DBfFe204D
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="476" endline="484" pcid="1335">
    function futuresmarketmanager_updateMarketsImplementations_75() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0[0] = address(
            0x0EA09D97b4084d859328ec4bF8eBCF9ecCA26F1D
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0
        );
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep3.sol" startline="218" endline="222" pcid="1221">
    function futuresmarketmanager_addProxiedMarkets_27() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_27_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_27_0[0] = address(0x69F5F465a46f324Fb7bf3fD7c0D5c00f7165C7Ea);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_27_0);
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep3.sol" startline="235" endline="239" pcid="1223">
    function futuresmarketmanager_addProxiedMarkets_52() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_52_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_52_0[0] = address(0x96690aAe7CB7c4A9b5Be5695E94d72827DeCC33f);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_52_0);
    }
</source>
<source file="systems/source-code/Migration_DschubbaOptimismStep3.sol" startline="252" endline="256" pcid="1225">
    function futuresmarketmanager_addProxiedMarkets_77() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_77_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_77_0[0] = address(0xD5fBf7136B86021eF9d0BE5d798f948DcE9C0deA);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_77_0);
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="335" endline="343" pcid="1233">
    function futuresmarketmanager_updateMarketsImplementations_18() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0[0] = address(
            0x5374761526175B59f1E583246E20639909E189cE
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="382" endline="390" pcid="1237">
    function futuresmarketmanager_updateMarketsImplementations_37() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0[0] = address(
            0xdcB8438c979fA030581314e5A5Df42bbFEd744a0
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="429" endline="437" pcid="1331">
    function futuresmarketmanager_updateMarketsImplementations_56() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0[0] = address(
            0x31A1659Ca00F617E86Dc765B6494Afe70a5A9c1A
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="429" endline="437" pcid="1241">
    function futuresmarketmanager_updateMarketsImplementations_56() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0[0] = address(
            0x27665271210aCff4Fab08AD9Bb657E91866471F0
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="382" endline="390" pcid="1327">
    function futuresmarketmanager_updateMarketsImplementations_37() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0[0] = address(
            0x59b007E9ea8F89b069c43F8f45834d30853e3699
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep2.sol" startline="302" endline="306" pcid="1122">
    function futuresmarketmanager_addProxiedMarkets_120() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_120_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_120_0[0] = address(0x3a52b21816168dfe35bE99b7C5fc209f17a0aDb1);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_120_0);
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep2.sol" startline="268" endline="272" pcid="1119">
    function futuresmarketmanager_addProxiedMarkets_58() internal {
        address[] memory futuresmarketmanager_addProxiedMarkets_marketsToAdd_58_0 = new address[](1);
        futuresmarketmanager_addProxiedMarkets_marketsToAdd_58_0[0] = address(0x0940B0A96C5e1ba33AEE331a9f950Bb2a6F2Fb25);
        futuresmarketmanager_i.addProxiedMarkets(futuresmarketmanager_addProxiedMarkets_marketsToAdd_58_0);
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="476" endline="484" pcid="1245">
    function futuresmarketmanager_updateMarketsImplementations_75() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0[0] = address(
            0xC8fCd6fB4D15dD7C455373297dEF375a08942eCe
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="523" endline="531" pcid="1249">
    function futuresmarketmanager_updateMarketsImplementations_94() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0[0] = address(
            0x9De146b5663b82F44E5052dEDe2aA3Fd4CBcDC99
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="570" endline="578" pcid="1253">
    function futuresmarketmanager_updateMarketsImplementations_113() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0[0] = address(
            0x1dAd8808D8aC58a0df912aDC4b215ca3B93D6C49
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep13.sol" startline="240" endline="248" pcid="1104">
    function futuresmarketmanager_updateMarketsImplementations_57() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0[0] = address(
            0x2B3bb4c683BFc5239B029131EEf3B1d214478d93
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_57_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="335" endline="343" pcid="1263">
    function futuresmarketmanager_updateMarketsImplementations_18() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0[0] = address(
            0x4308427C463CAEAaB50FFf98a9deC569C31E4E87
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="382" endline="390" pcid="1267">
    function futuresmarketmanager_updateMarketsImplementations_37() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0[0] = address(
            0x5B6BeB79E959Aac2659bEE60fE0D0885468BF886
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep13.sol" startline="250" endline="258" pcid="1105">
    function perpsv2marketstatebtcperplegacy_addAssociatedContracts_62() internal {
        address[] memory perpsv2marketstatebtcperplegacy_addAssociatedContracts_associatedContracts_62_0 = new address[](1);
        perpsv2marketstatebtcperplegacy_addAssociatedContracts_associatedContracts_62_0[0] = address(
            0x68287419FcFA1c186515E99a35FF3c970B3B3C66
        );
        perpsv2marketstatebtcperplegacy_i.addAssociatedContracts(
            perpsv2marketstatebtcperplegacy_addAssociatedContracts_associatedContracts_62_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="429" endline="437" pcid="1271">
    function futuresmarketmanager_updateMarketsImplementations_56() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0[0] = address(
            0x98cCbC721cc05E28a125943D69039B39BE6A21e9
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="476" endline="484" pcid="1275">
    function futuresmarketmanager_updateMarketsImplementations_75() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0[0] = address(
            0x87AE62c5720DAB812BDacba66cc24839440048d1
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="523" endline="531" pcid="1279">
    function futuresmarketmanager_updateMarketsImplementations_94() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0[0] = address(
            0xbB16C7B3244DFA1a6BF83Fcce3EE4560837763CD
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0
        );
    }
</source>
<source file="systems/source-code/Migration_CaphOptimismStep13.sol" startline="271" endline="279" pcid="1107">
    function futuresmarketmanager_updateMarketsImplementations_117() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0[0] = address(
            0x59b007E9ea8F89b069c43F8f45834d30853e3699
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_117_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="570" endline="578" pcid="1283">
    function futuresmarketmanager_updateMarketsImplementations_113() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0[0] = address(
            0x3a52b21816168dfe35bE99b7C5fc209f17a0aDb1
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="335" endline="343" pcid="1293">
    function futuresmarketmanager_updateMarketsImplementations_18() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0[0] = address(
            0x074B8F19fc91d6B2eb51143E1f186Ca0DDB88042
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="382" endline="390" pcid="1297">
    function futuresmarketmanager_updateMarketsImplementations_37() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0[0] = address(
            0x139F94E4f0e1101c1464a321CBA815c34d58B5D9
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_37_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="335" endline="343" pcid="1323">
    function futuresmarketmanager_updateMarketsImplementations_18() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0[0] = address(
            0x2B3bb4c683BFc5239B029131EEf3B1d214478d93
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_18_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="570" endline="578" pcid="1313">
    function futuresmarketmanager_updateMarketsImplementations_113() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0[0] = address(
            0xC18f85A6DD3Bcd0516a1CA08d3B1f0A4E191A2C4
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_113_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="523" endline="531" pcid="1309">
    function futuresmarketmanager_updateMarketsImplementations_94() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0[0] = address(
            0x549dbDFfbd47bD5639f9348eBE82E63e2f9F777A
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_94_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="429" endline="437" pcid="1301">
    function futuresmarketmanager_updateMarketsImplementations_56() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0[0] = address(
            0x0940B0A96C5e1ba33AEE331a9f950Bb2a6F2Fb25
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_56_0
        );
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="476" endline="484" pcid="1305">
    function futuresmarketmanager_updateMarketsImplementations_75() internal {
        address[] memory futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0 = new address[](1);
        futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0[0] = address(
            0x442b69937a0daf9D46439a71567fABE6Cb69FBaf
        );
        futuresmarketmanager_i.updateMarketsImplementations(
            futuresmarketmanager_updateMarketsImplementations_marketsToUpdate_75_0
        );
    }
</source>
</class>

<class classid="163" nclones="4" nlines="18" similarity="100">
<source file="systems/source-code/Migration_IzarOptimismStep1.sol" startline="71" endline="88" pcid="1226">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](15);
        contracts[0] = address(addressresolver_i);
        contracts[1] = address(perpsv2marketstateaaveperp_i);
        contracts[2] = address(perpsv2proxyaaveperp_i);
        contracts[3] = address(futuresmarketmanager_i);
        contracts[4] = address(perpsv2marketstatexagperp_i);
        contracts[5] = address(perpsv2proxyxagperp_i);
        contracts[6] = address(perpsv2marketstateflowperp_i);
        contracts[7] = address(perpsv2proxyflowperp_i);
        contracts[8] = address(perpsv2marketstatenearperp_i);
        contracts[9] = address(perpsv2proxynearperp_i);
        contracts[10] = address(perpsv2marketstateaudperp_i);
        contracts[11] = address(perpsv2proxyaudperp_i);
        contracts[12] = address(perpsv2marketstategbpperp_i);
        contracts[13] = address(perpsv2proxygbpperp_i);
        contracts[14] = address(systemstatus_i);
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep4.sol" startline="71" endline="88" pcid="1316">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](15);
        contracts[0] = address(addressresolver_i);
        contracts[1] = address(perpsv2marketstateethperp_i);
        contracts[2] = address(perpsv2proxyethperp_i);
        contracts[3] = address(futuresmarketmanager_i);
        contracts[4] = address(perpsv2marketstatebtcperp_i);
        contracts[5] = address(perpsv2proxybtcperp_i);
        contracts[6] = address(perpsv2marketstatelinkperp_i);
        contracts[7] = address(perpsv2proxylinkperp_i);
        contracts[8] = address(perpsv2marketstatesolperp_i);
        contracts[9] = address(perpsv2proxysolperp_i);
        contracts[10] = address(perpsv2marketstateavaxperp_i);
        contracts[11] = address(perpsv2proxyavaxperp_i);
        contracts[12] = address(perpsv2marketstatearbperp_i);
        contracts[13] = address(perpsv2proxyarbperp_i);
        contracts[14] = address(systemstatus_i);
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep3.sol" startline="71" endline="88" pcid="1286">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](15);
        contracts[0] = address(addressresolver_i);
        contracts[1] = address(perpsv2marketstatematicperp_i);
        contracts[2] = address(perpsv2proxymaticperp_i);
        contracts[3] = address(futuresmarketmanager_i);
        contracts[4] = address(perpsv2marketstatedydxperp_i);
        contracts[5] = address(perpsv2proxydydxperp_i);
        contracts[6] = address(perpsv2marketstatebnbperp_i);
        contracts[7] = address(perpsv2proxybnbperp_i);
        contracts[8] = address(perpsv2marketstateopperp_i);
        contracts[9] = address(perpsv2proxyopperp_i);
        contracts[10] = address(perpsv2marketstatexauperp_i);
        contracts[11] = address(perpsv2proxyxauperp_i);
        contracts[12] = address(perpsv2marketstateftmperp_i);
        contracts[13] = address(perpsv2proxyftmperp_i);
        contracts[14] = address(systemstatus_i);
    }
</source>
<source file="systems/source-code/Migration_IzarOptimismStep2.sol" startline="71" endline="88" pcid="1256">
    function contractsRequiringOwnership() public pure returns (address[] memory contracts) {
        contracts = new address[](15);
        contracts[0] = address(addressresolver_i);
        contracts[1] = address(perpsv2marketstateuniperp_i);
        contracts[2] = address(perpsv2proxyuniperp_i);
        contracts[3] = address(futuresmarketmanager_i);
        contracts[4] = address(perpsv2marketstateapeperp_i);
        contracts[5] = address(perpsv2proxyapeperp_i);
        contracts[6] = address(perpsv2marketstatedogeperp_i);
        contracts[7] = address(perpsv2proxydogeperp_i);
        contracts[8] = address(perpsv2marketstateeurperp_i);
        contracts[9] = address(perpsv2proxyeurperp_i);
        contracts[10] = address(perpsv2marketstateatomperp_i);
        contracts[11] = address(perpsv2proxyatomperp_i);
        contracts[12] = address(perpsv2marketstateaxsperp_i);
        contracts[13] = address(perpsv2proxyaxsperp_i);
        contracts[14] = address(systemstatus_i);
    }
</source>
</class>

<class classid="164" nclones="2" nlines="12" similarity="83">
<source file="systems/source-code/Migration_Naos.sol" startline="64" endline="90" pcid="1347">
    function migrate() external onlyOwner {
        // ACCEPT OWNERSHIP for all contracts that require ownership to make changes
        acceptAll();

        // MIGRATION
        // Import all new contracts into the address resolver;
        addressresolver_importAddresses_0();
        // Rebuild the resolver caches in all MixinResolver contracts - batch 1;
        addressresolver_rebuildCaches_1();
        // Rebuild the resolver caches in all MixinResolver contracts - batch 2;
        addressresolver_rebuildCaches_2();
        // Ensure the SNX proxy has the correct Synthetix target set;
        proxysynthetix_i.setTarget(Proxyable(new_Synthetix_contract));
        // Ensure Issuer contract can suspend issuance - see SIP-165;
        systemstatus_i.updateAccessControl("Issuance", new_Issuer_contract, true, false);
        // Ensure the Synthetix contract can write to its TokenState contract;
        tokenstatesynthetix_i.setAssociatedContract(new_Synthetix_contract);
        // Ensure the legacy RewardEscrow contract is connected to the Synthetix contract;
        rewardescrow_i.setSynthetix(ISynthetix(new_Synthetix_contract));
        // Ensure the RewardsDistribution has Synthetix set as its authority for distribution;
        rewardsdistribution_i.setAuthority(new_Synthetix_contract);
        // Add synths to the Issuer contract - batch 1;
        issuer_addSynths_10();

        // NOMINATE OWNERSHIP back to owner for aforementioned contracts
        nominateAll();
    }
</source>
<source file="systems/source-code/Migration_NaosOptimism.sol" startline="60" endline="82" pcid="1355">
    function migrate() external onlyOwner {
        // ACCEPT OWNERSHIP for all contracts that require ownership to make changes
        acceptAll();

        // MIGRATION
        // Import all new contracts into the address resolver;
        addressresolver_importAddresses_0();
        // Rebuild the resolver caches in all MixinResolver contracts - batch 1;
        addressresolver_rebuildCaches_1();
        // Ensure the SNX proxy has the correct Synthetix target set;
        proxysynthetix_i.setTarget(Proxyable(new_Synthetix_contract));
        // Ensure Issuer contract can suspend issuance - see SIP-165;
        systemstatus_i.updateAccessControl("Issuance", new_Issuer_contract, true, false);
        // Ensure the Synthetix contract can write to its TokenState contract;
        tokenstatesynthetix_i.setAssociatedContract(new_Synthetix_contract);
        // Ensure the RewardsDistribution has Synthetix set as its authority for distribution;
        rewardsdistribution_i.setAuthority(new_Synthetix_contract);
        // Add synths to the Issuer contract - batch 1;
        issuer_addSynths_8();

        // NOMINATE OWNERSHIP back to owner for aforementioned contracts
        nominateAll();
    }
</source>
</class>

<class classid="165" nclones="2" nlines="9" similarity="100">
<source file="systems/source-code/Migration_Naos.sol" startline="106" endline="117" pcid="1350">
    function addressresolver_importAddresses_0() internal {
        bytes32[] memory addressresolver_importAddresses_names_0_0 = new bytes32[](2);
        addressresolver_importAddresses_names_0_0[0] = bytes32("Synthetix");
        addressresolver_importAddresses_names_0_0[1] = bytes32("Issuer");
        address[] memory addressresolver_importAddresses_destinations_0_1 = new address[](2);
        addressresolver_importAddresses_destinations_0_1[0] = address(new_Synthetix_contract);
        addressresolver_importAddresses_destinations_0_1[1] = address(new_Issuer_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_0_0,
            addressresolver_importAddresses_destinations_0_1
        );
    }
</source>
<source file="systems/source-code/Migration_NaosOptimism.sol" startline="98" endline="109" pcid="1358">
    function addressresolver_importAddresses_0() internal {
        bytes32[] memory addressresolver_importAddresses_names_0_0 = new bytes32[](2);
        addressresolver_importAddresses_names_0_0[0] = bytes32("Synthetix");
        addressresolver_importAddresses_names_0_0[1] = bytes32("Issuer");
        address[] memory addressresolver_importAddresses_destinations_0_1 = new address[](2);
        addressresolver_importAddresses_destinations_0_1[0] = address(new_Synthetix_contract);
        addressresolver_importAddresses_destinations_0_1[1] = address(new_Issuer_contract);
        addressresolver_i.importAddresses(
            addressresolver_importAddresses_names_0_0,
            addressresolver_importAddresses_destinations_0_1
        );
    }
</source>
</class>

<class classid="166" nclones="3" nlines="5" similarity="75">
<source file="systems/source-code/MintableSynthetix.sol" startline="20" endline="24" pcid="1363">
    function _mintSecondary(address account, uint amount) internal {
        tokenState.setBalanceOf(account, tokenState.balanceOf(account).add(amount));
        emitTransfer(address(this), account, amount);
        totalSupply = totalSupply.add(amount);
    }
</source>
<source file="systems/source-code/MockSynth.sol" startline="97" endline="101" pcid="1585">
    function burn(address account, uint amount) external {
        tokenState.setBalanceOf(account, tokenState.balanceOf(account).sub(amount));
        totalSupply = totalSupply.sub(amount);
        emit Burned(account, amount);
    }
</source>
<source file="systems/source-code/MockSynth.sol" startline="91" endline="95" pcid="1584">
    function issue(address account, uint amount) external {
        tokenState.setBalanceOf(account, tokenState.balanceOf(account).add(amount));
        totalSupply = totalSupply.add(amount);
        emit Issued(account, amount);
    }
</source>
</class>

<class classid="167" nclones="5" nlines="3" similarity="100">
<source file="systems/source-code/MintableSynthetix.sol" startline="51" endline="53" pcid="1367">
    function mintSecondary(address account, uint amount) external onlyBridge {
        _mintSecondary(account, amount);
    }
</source>
<source file="systems/source-code/SynthetixBridgeToBase.sol" startline="50" endline="52" pcid="2114">
    function withdrawTo(address to, uint amount) external requireInitiationActive {
        _initiateWithdraw(to, amount);
    }
</source>
<source file="systems/source-code/Synth.sol" startline="163" endline="165" pcid="2080">
    function burn(address account, uint amount) external onlyInternalContracts {
        _internalBurn(account, amount);
    }
</source>
<source file="systems/source-code/Synth.sol" startline="159" endline="161" pcid="2079">
    function issue(address account, uint amount) external onlyInternalContracts {
        _internalIssue(account, amount);
    }
</source>
<source file="systems/source-code/RewardEscrow.sol" startline="217" endline="219" pcid="1951">
    function appendVestingEntry(address account, uint quantity) external onlyFeePool {
        _appendVestingEntry(account, quantity);
    }
</source>
</class>

<class classid="168" nclones="5" nlines="4" similarity="100">
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="46" endline="49" pcid="1370">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](1);
        addresses[0] = CONTRACT_FLEXIBLESTORAGE;
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="64" endline="67" pcid="1410">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](1);
        addresses[0] = CONTRACT_FLEXIBLESTORAGE;
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="74" endline="77" pcid="1445">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](1);
        addresses[0] = CONTRACT_FLEXIBLESTORAGE;
    }
</source>
<source file="systems/source-code/ShortingRewards.sol" startline="54" endline="57" pcid="2016">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](1);
        addresses[0] = CONTRACT_SHORT;
    }
</source>
<source file="systems/source-code/SynthetixDebtShare.sol" startline="81" endline="84" pcid="2141">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](1);
        addresses[0] = CONTRACT_ISSUER;
    }
</source>
</class>

<class classid="169" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="57" endline="59" pcid="1372">
    function _parameter(bytes32 _marketKey, bytes32 key) internal view returns (uint value) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, keccak256(abi.encodePacked(_marketKey, key)));
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="75" endline="77" pcid="1412">
    function _parameter(bytes32 _marketKey, bytes32 key) internal view returns (uint value) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, keccak256(abi.encodePacked(_marketKey, key)));
    }
</source>
</class>

<class classid="170" nclones="30" nlines="3" similarity="100">
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="61" endline="63" pcid="1373">
    function _takerFee(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_TAKER_FEE);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="93" endline="95" pcid="1381">
    function _maxFundingRate(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAX_FUNDING_RATE);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="89" endline="91" pcid="1380">
    function _skewScaleUSD(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MIN_SKEW_SCALE);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="85" endline="87" pcid="1379">
    function _maxMarketValueUSD(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAX_MARKET_VALUE);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="81" endline="83" pcid="1378">
    function _maxLeverage(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAX_LEVERAGE);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="77" endline="79" pcid="1377">
    function _nextPriceConfirmWindow(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_NEXT_PRICE_CONFIRM_WINDOW);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="73" endline="75" pcid="1376">
    function _makerFeeNextPrice(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAKER_FEE_NEXT_PRICE);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="69" endline="71" pcid="1375">
    function _takerFeeNextPrice(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_TAKER_FEE_NEXT_PRICE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="79" endline="81" pcid="1413">
    function _takerFee(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_TAKER_FEE);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="65" endline="67" pcid="1374">
    function _makerFee(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAKER_FEE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="83" endline="85" pcid="1414">
    function _makerFee(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAKER_FEE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="87" endline="89" pcid="1415">
    function _takerFeeDelayedOrder(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_TAKER_FEE_DELAYED_ORDER);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="91" endline="93" pcid="1416">
    function _makerFeeDelayedOrder(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAKER_FEE_DELAYED_ORDER);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="95" endline="97" pcid="1417">
    function _takerFeeOffchainDelayedOrder(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_TAKER_FEE_OFFCHAIN_DELAYED_ORDER);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="99" endline="101" pcid="1418">
    function _makerFeeOffchainDelayedOrder(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAKER_FEE_OFFCHAIN_DELAYED_ORDER);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="103" endline="105" pcid="1419">
    function _nextPriceConfirmWindow(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_NEXT_PRICE_CONFIRM_WINDOW);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="107" endline="109" pcid="1420">
    function _delayedOrderConfirmWindow(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_DELAYED_ORDER_CONFIRM_WINDOW);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="111" endline="113" pcid="1421">
    function _offchainDelayedOrderMinAge(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_OFFCHAIN_DELAYED_ORDER_MIN_AGE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="115" endline="117" pcid="1422">
    function _offchainDelayedOrderMaxAge(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_OFFCHAIN_DELAYED_ORDER_MAX_AGE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="119" endline="121" pcid="1423">
    function _maxLeverage(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAX_LEVERAGE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="123" endline="125" pcid="1424">
    function _maxMarketValue(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAX_MARKET_VALUE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="127" endline="129" pcid="1425">
    function _skewScale(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MIN_SKEW_SCALE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="131" endline="133" pcid="1426">
    function _maxFundingVelocity(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAX_FUNDING_VELOCITY);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="135" endline="137" pcid="1427">
    function _minDelayTimeDelta(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MIN_DELAY_TIME_DELTA);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="139" endline="141" pcid="1428">
    function _maxDelayTimeDelta(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAX_DELAY_TIME_DELTA);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="151" endline="153" pcid="1430">
    function _offchainPriceDivergence(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_OFFCHAIN_PRICE_DIVERGENCE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="155" endline="157" pcid="1431">
    function _liquidationPremiumMultiplier(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_LIQUIDATION_PREMIUM_MULTIPLIER);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="159" endline="161" pcid="1432">
    function _maxLiquidationDelta(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAX_LIQUIDAION_DELTA);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="163" endline="165" pcid="1433">
    function _maxPD(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_MAX_LIQUIDATION_PD);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="167" endline="169" pcid="1434">
    function _liquidationBufferRatio(bytes32 _marketKey) internal view returns (uint) {
        return _parameter(_marketKey, PARAMETER_LIQUIDATION_BUFFER_RATIO);
    }
</source>
</class>

<class classid="171" nclones="36" nlines="3" similarity="100">
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="97" endline="99" pcid="1382">
    function _minKeeperFee() internal view returns (uint) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_MIN_KEEPER_FEE);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="152" endline="154" pcid="1460">
    function getSelfLiquidationPenalty() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_SELF_LIQUIDATION_PENALTY);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="127" endline="130" pcid="1454">
    function getTargetThreshold() internal view returns (uint) {
        // lookup on flexible storage directly for gas savings (rather than via SystemSettings)
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_TARGET_THRESHOLD);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="199" endline="201" pcid="1468">
    function getDebtSnapshotStaleTime() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_DEBT_SNAPSHOT_STALE_TIME);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="259" endline="261" pcid="1478">
    function getAtomicTwapWindow() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_ATOMIC_TWAP_WINDOW);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="148" endline="150" pcid="1459">
    function getSnxLiquidationPenalty() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_SNX_LIQUIDATION_PENALTY);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="195" endline="197" pcid="1467">
    function getAggregatorWarningFlags() internal view returns (address) {
        return flexibleStorage().getAddressValue(SETTING_CONTRACT_NAME, SETTING_AGGREGATOR_WARNING_FLAGS);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="122" endline="125" pcid="1453">
    function getFeePeriodDuration() internal view returns (uint) {
        // lookup on flexible storage directly for gas savings (rather than via SystemSettings)
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_FEE_PERIOD_DURATION);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="315" endline="317" pcid="1486">
    function getExchangeDynamicFeeRounds() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_EXCHANGE_DYNAMIC_FEE_ROUNDS);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="132" endline="134" pcid="1455">
    function getLiquidationDelay() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_DELAY);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="117" endline="120" pcid="1452">
    function getIssuanceRatio() internal view returns (uint) {
        // lookup on flexible storage directly for gas savings (rather than via SystemSettings)
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_ISSUANCE_RATIO);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="160" endline="162" pcid="1462">
    function getLiquidateReward() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATE_REWARD);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="113" endline="115" pcid="1451">
    function getPriceDeviationThresholdFactor() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_PRICE_DEVIATION_THRESHOLD_FACTOR);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="136" endline="138" pcid="1456">
    function getLiquidationRatio() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_RATIO);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="140" endline="142" pcid="1457">
    function getLiquidationEscrowDuration() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_ESCROW_DURATION);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="109" endline="111" pcid="1450">
    function getWaitingPeriodSecs() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_WAITING_PERIOD_SECS);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="203" endline="205" pcid="1469">
    function getEtherWrapperMaxETH() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_ETHER_WRAPPER_MAX_ETH);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="156" endline="158" pcid="1461">
    function getFlagReward() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_FLAG_REWARD);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="105" endline="107" pcid="1449">
    function getTradingRewardsEnabled() internal view returns (bool) {
        return flexibleStorage().getBoolValue(SETTING_CONTRACT_NAME, SETTING_TRADING_REWARDS_ENABLED);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="187" endline="189" pcid="1439">
    function _keeperLiquidationFee() internal view returns (uint) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_KEEPER_LIQUIRATION_FEE);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="207" endline="209" pcid="1470">
    function getEtherWrapperMintFeeRate() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_ETHER_WRAPPER_MINT_FEE_RATE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="183" endline="185" pcid="1438">
    function _minInitialMargin() internal view returns (uint) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_MIN_INITIAL_MARGIN);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="179" endline="181" pcid="1437">
    function _liquidationFeeRatio() internal view returns (uint) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_FEE_RATIO);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="255" endline="257" pcid="1477">
    function getAtomicMaxVolumePerBlock() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_ATOMIC_MAX_VOLUME_PER_BLOCK);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="164" endline="166" pcid="1463">
    function getRateStalePeriod() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_RATE_STALE_PERIOD);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="211" endline="213" pcid="1471">
    function getEtherWrapperBurnFeeRate() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_ETHER_WRAPPER_BURN_FEE_RATE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="175" endline="177" pcid="1436">
    function _maxKeeperFee() internal view returns (uint) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_MAX_KEEPER_FEE);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="311" endline="313" pcid="1485">
    function getExchangeMaxDynamicFee() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_EXCHANGE_MAX_DYNAMIC_FEE);
    }
</source>
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="171" endline="173" pcid="1435">
    function _minKeeperFee() internal view returns (uint) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_MIN_KEEPER_FEE);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="144" endline="146" pcid="1458">
    function getLiquidationPenalty() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_PENALTY);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="101" endline="103" pcid="1383">
    function _liquidationFeeRatio() internal view returns (uint) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_FEE_RATIO);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="109" endline="111" pcid="1385">
    function _minInitialMargin() internal view returns (uint) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_MIN_INITIAL_MARGIN);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="323" endline="325" pcid="1488">
    function getExchangeDynamicFeeWeightDecay() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_EXCHANGE_DYNAMIC_FEE_WEIGHT_DECAY);
    }
</source>
<source file="systems/source-code/MixinFuturesMarketSettings.sol" startline="105" endline="107" pcid="1384">
    function _liquidationBufferRatio() internal view returns (uint) {
        return _flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_LIQUIDATION_BUFFER_RATIO);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="191" endline="193" pcid="1466">
    function getMinimumStakeTime() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_MINIMUM_STAKE_TIME);
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="319" endline="321" pcid="1487">
    function getExchangeDynamicFeeThreshold() internal view returns (uint) {
        return flexibleStorage().getUIntValue(SETTING_CONTRACT_NAME, SETTING_EXCHANGE_DYNAMIC_FEE_THRESHOLD);
    }
</source>
</class>

<class classid="172" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/MixinFuturesViews.sol" startline="24" endline="27" pcid="1395">
    function marketDebt() external view returns (uint debt, bool invalid) {
        (uint price, bool isInvalid) = assetPrice();
        return (_marketDebt(price), isInvalid);
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="105" endline="108" pcid="1881">
    function marketDebt() external view returns (uint debt, bool invalid) {
        (uint price, bool isInvalid) = _assetPrice();
        return (_marketDebt(price), isInvalid);
    }
</source>
</class>

<class classid="173" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/MixinFuturesViews.sol" startline="33" endline="36" pcid="1396">
    function currentFundingRate() external view returns (int) {
        (uint price, ) = assetPrice();
        return _currentFundingRate(price);
    }
</source>
<source file="systems/source-code/TestableFuturesMarket.sol" startline="16" endline="19" pcid="2395">
    function proportionalSkew() external view returns (int) {
        (uint price, ) = assetPrice();
        return _proportionalSkew(price);
    }
</source>
</class>

<class classid="174" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/MixinFuturesViews.sol" startline="42" endline="45" pcid="1397">
    function unrecordedFunding() external view returns (int funding, bool invalid) {
        (uint price, bool isInvalid) = assetPrice();
        return (_unrecordedFunding(price), isInvalid);
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="130" endline="133" pcid="1884">
    function unrecordedFunding() external view returns (int funding, bool invalid) {
        (uint price, bool isInvalid) = _assetPrice();
        return (_unrecordedFunding(price), isInvalid);
    }
</source>
</class>

<class classid="175" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/MixinFuturesViews.sol" startline="65" endline="68" pcid="1400">
    function profitLoss(address account) external view returns (int pnl, bool invalid) {
        (uint price, bool isInvalid) = assetPrice();
        return (_profitLoss(positions[account], price), isInvalid);
    }
</source>
<source file="systems/source-code/MixinFuturesViews.sol" startline="73" endline="76" pcid="1401">
    function accruedFunding(address account) external view returns (int funding, bool invalid) {
        (uint price, bool isInvalid) = assetPrice();
        return (_accruedFunding(positions[account], price), isInvalid);
    }
</source>
</class>

<class classid="176" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/MixinFuturesViews.sol" startline="81" endline="84" pcid="1402">
    function remainingMargin(address account) external view returns (uint marginRemaining, bool invalid) {
        (uint price, bool isInvalid) = assetPrice();
        return (_remainingMargin(positions[account], price), isInvalid);
    }
</source>
<source file="systems/source-code/MixinFuturesViews.sol" startline="90" endline="93" pcid="1403">
    function accessibleMargin(address account) external view returns (uint marginAccessible, bool invalid) {
        (uint price, bool isInvalid) = assetPrice();
        return (_accessibleMargin(positions[account], price), isInvalid);
    }
</source>
</class>

<class classid="177" nclones="9" nlines="3" similarity="100">
<source file="systems/source-code/MixinPerpsV2MarketSettings.sol" startline="143" endline="149" pcid="1429">
    function _offchainMarketKey(bytes32 _marketKey) internal view returns (bytes32) {
        return
            _flexibleStorage().getBytes32Value(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(_marketKey, PARAMETER_OFFCHAIN_MARKET_KEY))
            );
    }
</source>
<source file="systems/source-code/PerpsV2ExchangeRate.sol" startline="77" endline="83" pcid="1635">
    function offchainPriceFeedId(bytes32 assetId) public view returns (bytes32) {
        return
            flexibleStorage().getBytes32Value(
                CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_OFFCHAIN_PRICE_FEED_ID, assetId))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="303" endline="309" pcid="1484">
    function getCrossChainSynthTransferEnabled(bytes32 currencyKey) internal view returns (uint) {
        return
            flexibleStorage().getUIntValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_CROSS_SYNTH_TRANSFER_ENABLED, currencyKey))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="295" endline="301" pcid="1483">
    function getPureChainlinkPriceForAtomicSwapsEnabled(bytes32 currencyKey) internal view returns (bool) {
        return
            flexibleStorage().getBoolValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_PURE_CHAINLINK_PRICE_FOR_ATOMIC_SWAPS_ENABLED, currencyKey))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="287" endline="293" pcid="1482">
    function getAtomicVolatilityUpdateThreshold(bytes32 currencyKey) internal view returns (uint) {
        return
            flexibleStorage().getUIntValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_ATOMIC_VOLATILITY_UPDATE_THRESHOLD, currencyKey))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="279" endline="285" pcid="1481">
    function getAtomicVolatilityConsiderationWindow(bytes32 currencyKey) internal view returns (uint) {
        return
            flexibleStorage().getUIntValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_ATOMIC_VOLATILITY_CONSIDERATION_WINDOW, currencyKey))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="271" endline="277" pcid="1480">
    function getAtomicExchangeFeeRate(bytes32 currencyKey) internal view returns (uint) {
        return
            flexibleStorage().getUIntValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_ATOMIC_EXCHANGE_FEE_RATE, currencyKey))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="263" endline="269" pcid="1479">
    function getAtomicEquivalentForDexPricing(bytes32 currencyKey) internal view returns (address) {
        return
            flexibleStorage().getAddressValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_ATOMIC_EQUIVALENT_FOR_DEX_PRICING, currencyKey))
            );
    }
</source>
<source file="systems/source-code/MixinSystemSettings.sol" startline="169" endline="175" pcid="1464">
    function getExchangeFeeRate(bytes32 currencyKey) internal view returns (uint) {
        return
            flexibleStorage().getUIntValue(
                SETTING_CONTRACT_NAME,
                keccak256(abi.encodePacked(SETTING_EXCHANGE_FEE_RATE, currencyKey))
            );
    }
</source>
</class>

<class classid="178" nclones="5" nlines="3" similarity="100">
<source file="systems/source-code/MockAggregatorV2V3.sol" startline="81" endline="83" pcid="1491">
    function setAllRoundDataShouldRevert(bool _shouldRevert) external {
        allRoundDataShouldRevert = _shouldRevert;
    }
</source>
<source file="systems/source-code/MockAggregatorV2V3.sol" startline="85" endline="87" pcid="1492">
    function setLatestRoundDataShouldRevert(bool _shouldRevert) external {
        latestRoundDataShouldRevert = _shouldRevert;
    }
</source>
<source file="systems/source-code/MockFuturesMarket.sol" startline="46" endline="48" pcid="1522">
    function setInvalid(bool _invalid) external {
        invalid = _invalid;
    }
</source>
<source file="systems/source-code/MockDexPriceAggregator.sol" startline="36" endline="38" pcid="1504">
    function setAssetToAssetShouldRevert(bool _shouldRevert) external {
        assetToAssetShouldRevert = _shouldRevert;
    }
</source>
<source file="systems/source-code/MockPerpsV2Market.sol" startline="51" endline="53" pcid="1536">
    function setInvalid(bool _invalid) external {
        invalid = _invalid;
    }
</source>
</class>

<class classid="179" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/MockAggregatorV2V3.sol" startline="118" endline="121" pcid="1497">
    function getAnswer(uint256 _roundId) external view returns (int256) {
        Entry memory entry = entries[_roundId];
        return entry.answer;
    }
</source>
<source file="systems/source-code/MockAggregatorV2V3.sol" startline="123" endline="126" pcid="1498">
    function getTimestamp(uint256 _roundId) external view returns (uint256) {
        Entry memory entry = entries[_roundId];
        return entry.updatedAt;
    }
</source>
</class>

<class classid="180" nclones="7" nlines="3" similarity="100">
<source file="systems/source-code/MockEtherWrapper.sol" startline="13" endline="15" pcid="1505">
    function setTotalIssuedSynths(uint value) external {
        totalIssuedSynths = value;
    }
</source>
<source file="systems/source-code/MockPerpsV2Market.sol" startline="47" endline="49" pcid="1535">
    function setMarketDebt(uint _debt) external {
        debt = _debt;
    }
</source>
<source file="systems/source-code/MockPyth.sol" startline="41" endline="43" pcid="1561">
    function mockUpdateValidTimePeriod(uint newValidTimePeriod) external {
        validTimePeriod = newValidTimePeriod;
    }
</source>
<source file="systems/source-code/MockFuturesMarket.sol" startline="42" endline="44" pcid="1521">
    function setMarketDebt(uint _debt) external {
        debt = _debt;
    }
</source>
<source file="systems/source-code/MockPyth.sol" startline="37" endline="39" pcid="1560">
    function mockUpdateFee(uint newSingleUpdateFeeInWei) external {
        singleUpdateFeeInWei = newSingleUpdateFeeInWei;
    }
</source>
<source file="systems/source-code/MockWrapperFactory.sol" startline="13" endline="15" pcid="1590">
    function setTotalIssuedSynths(uint value) external {
        totalIssuedSynths = value;
    }
</source>
<source file="systems/source-code/MockExchanger.sol" startline="91" endline="93" pcid="1513">
    function setMaxSecsLeft(uint _maxSecsLeft) external {
        _mockMaxSecsLeft = _maxSecsLeft;
    }
</source>
</class>

<class classid="181" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/MockExchanger.sol" startline="79" endline="81" pcid="1510">
    function setReclaim(uint256 _reclaimAmount) external {
        _mockReclaimAmount = _reclaimAmount;
    }
</source>
<source file="systems/source-code/MockExchanger.sol" startline="87" endline="89" pcid="1512">
    function setNumEntries(uint256 _numEntries) external {
        _mockNumEntries = _numEntries;
    }
</source>
<source file="systems/source-code/MockSynth.sol" startline="34" endline="36" pcid="1580">
    function setTotalSupply(uint256 _totalSupply) external {
        totalSupply = _totalSupply;
    }
</source>
<source file="systems/source-code/MockExchanger.sol" startline="83" endline="85" pcid="1511">
    function setRefund(uint256 _refundAmount) external {
        _mockRefundAmount = _refundAmount;
    }
</source>
</class>

<class classid="182" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/MockFuturesMarket.sol" startline="30" endline="32" pcid="1518">
    function setManager(IFuturesMarketManagerInternal _manager) external {
        manager = _manager;
    }
</source>
<source file="systems/source-code/MockPerpsV2Market.sol" startline="35" endline="37" pcid="1532">
    function setManager(IPerpsV2MarketManagerInternal _manager) external {
        manager = _manager;
    }
</source>
<source file="systems/source-code/MockSynth.sol" startline="29" endline="31" pcid="1579">
    function setAddressResolver(IAddressResolver _resolver) external {
        addressResolver = _resolver;
    }
</source>
</class>

<class classid="183" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/MockFuturesMarket.sol" startline="34" endline="36" pcid="1519">
    function setBaseAsset(bytes32 _baseAsset) external {
        baseAsset = _baseAsset;
    }
</source>
<source file="systems/source-code/MockFuturesMarket.sol" startline="38" endline="40" pcid="1520">
    function setMarketKey(bytes32 _marketKey) external {
        marketKey = _marketKey;
    }
</source>
<source file="systems/source-code/MockPerpsV2Market.sol" startline="39" endline="41" pcid="1533">
    function setBaseAsset(bytes32 _baseAsset) external {
        baseAsset = _baseAsset;
    }
</source>
<source file="systems/source-code/MockPerpsV2Market.sol" startline="43" endline="45" pcid="1534">
    function setMarketKey(bytes32 _marketKey) external {
        marketKey = _marketKey;
    }
</source>
</class>

<class classid="184" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/MockFuturesMarket.sol" startline="50" endline="52" pcid="1523">
    function marketDebt() external view returns (uint _debt, bool _invalid) {
        return (debt, invalid);
    }
</source>
<source file="systems/source-code/MockPerpsV2Market.sol" startline="55" endline="57" pcid="1537">
    function marketDebt() external view returns (uint _debt, bool _invalid) {
        return (debt, invalid);
    }
</source>
</class>

<class classid="185" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/MockFuturesMarket.sol" startline="54" endline="56" pcid="1524">
    function issueSUSD(address account, uint amount) external {
        manager.issueSUSD(account, amount);
    }
</source>
<source file="systems/source-code/MockFuturesMarket.sol" startline="58" endline="60" pcid="1525">
    function burnSUSD(address account, uint amount) external {
        manager.burnSUSD(account, amount);
    }
</source>
<source file="systems/source-code/MockPerpsV2Market.sol" startline="63" endline="65" pcid="1539">
    function burnSUSD(address account, uint amount) external {
        manager.burnSUSD(account, amount);
    }
</source>
<source file="systems/source-code/MockPerpsV2Market.sol" startline="59" endline="61" pcid="1538">
    function issueSUSD(address account, uint amount) external {
        manager.issueSUSD(account, amount);
    }
</source>
</class>

<class classid="186" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/MockMintableSynthetix.sol" startline="10" endline="13" pcid="1527">
    function mintSecondary(address account, uint amount) external {
        mintSecondaryCallAccount = account;
        mintSecondaryCallAmount = amount;
    }
</source>
<source file="systems/source-code/MockMintableSynthetix.sol" startline="15" endline="18" pcid="1528">
    function burnSecondary(address account, uint amount) external {
        burnSecondaryCallAccount = account;
        burnSecondaryCallAmount = amount;
    }
</source>
</class>

<class classid="187" nclones="14" nlines="3" similarity="100">
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="12" endline="14" pcid="1542">
    function nextPositionId() external view returns (uint64) {
        return marketState.nextPositionId();
    }
</source>
<source file="systems/source-code/PublicSafeDecimalMath.sol" startline="11" endline="13" pcid="1923">
    function unit() public pure returns (uint) {
        return SafeDecimalMath.unit();
    }
</source>
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="105" endline="107" pcid="1558">
    function getPositionAddressesLength() external view returns (uint) {
        return marketState.getPositionAddressesLength();
    }
</source>
<source file="systems/source-code/TestablePerpsV2Market.sol" startline="17" endline="19" pcid="2404">
    function entryDebtCorrection() external view returns (int) {
        return marketState.entryDebtCorrection();
    }
</source>
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="109" endline="111" pcid="1559">
    function getDelayedOrderAddressesLength() external view returns (uint) {
        return marketState.getDelayedOrderAddressesLength();
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="25" endline="27" pcid="2201">
    function CONTRACT_NAME() external view returns (bytes32) {
        return SystemSettingsLib.contractName();
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="144" endline="146" pcid="1659">
    function _baseAsset() internal view returns (bytes32) {
        return marketState.baseAsset();
    }
</source>
<source file="systems/source-code/PerpsV2MarketBase.sol" startline="148" endline="150" pcid="1660">
    function _marketKey() internal view returns (bytes32) {
        return marketState.marketKey();
    }
</source>
<source file="systems/source-code/PublicSafeDecimalMath.sol" startline="15" endline="17" pcid="1924">
    function preciseUnit() public pure returns (uint) {
        return SafeDecimalMath.preciseUnit();
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="34" endline="36" pcid="1871">
    function marketSize() external view returns (uint128) {
        return marketState.marketSize();
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="41" endline="43" pcid="1872">
    function marketSkew() external view returns (int128) {
        return marketState.marketSkew();
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="60" endline="62" pcid="1875">
    function fundingLastRecomputed() external view returns (uint32) {
        return marketState.fundingLastRecomputed();
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="67" endline="69" pcid="1876">
    function fundingRateLastRecomputed() external view returns (int128) {
        return marketState.fundingRateLastRecomputed();
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="138" endline="140" pcid="1885">
    function fundingSequenceLength() external view returns (uint) {
        return marketState.fundingSequenceLength();
    }
</source>
</class>

<class classid="188" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="16" endline="18" pcid="1543">
    function setMarketKey(bytes32 _marketKey) external {
        marketState.setMarketKey(_marketKey);
    }
</source>
<source file="systems/source-code/TestableBytes32Set.sol" startline="22" endline="24" pcid="2387">
    function remove(bytes32 element) public {
        set.remove(element);
    }
</source>
<source file="systems/source-code/TestableBytes32Set.sol" startline="18" endline="20" pcid="2386">
    function add(bytes32 element) public {
        set.add(element);
    }
</source>
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="20" endline="22" pcid="1544">
    function setBaseAsset(bytes32 _baseAsset) external {
        marketState.setBaseAsset(_baseAsset);
    }
</source>
</class>

<class classid="189" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="28" endline="30" pcid="1546">
    function setEntryDebtCorrection(int128 entryDebtCorrection) external {
        marketState.setEntryDebtCorrection(entryDebtCorrection);
    }
</source>
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="48" endline="50" pcid="1551">
    function setFundingRateLastRecomputed(int128 _fundingRateLastRecomputed) external {
        marketState.setFundingRateLastRecomputed(_fundingRateLastRecomputed);
    }
</source>
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="44" endline="46" pcid="1550">
    function pushFundingSequence(int128 _fundingSequence) external {
        marketState.pushFundingSequence(_fundingSequence);
    }
</source>
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="36" endline="38" pcid="1548">
    function setMarketSkew(int128 _marketSkew) external {
        marketState.setMarketSkew(_marketSkew);
    }
</source>
</class>

<class classid="190" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="89" endline="91" pcid="1554">
    function deletePosition(address account) external {
        marketState.deletePosition(account);
    }
</source>
<source file="systems/source-code/TestableAddressSet.sol" startline="22" endline="24" pcid="2380">
    function remove(address element) public {
        set.remove(element);
    }
</source>
<source file="systems/source-code/TestableAddressSet.sol" startline="18" endline="20" pcid="2379">
    function add(address element) public {
        set.add(element);
    }
</source>
<source file="systems/source-code/MockPerpsV2StateConsumer.sol" startline="93" endline="95" pcid="1555">
    function deleteDelayedOrder(address account) external {
        marketState.deleteDelayedOrder(account);
    }
</source>
</class>

<class classid="191" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/MockPyth.sol" startline="45" endline="47" pcid="1562">
    function getPrice(bytes32 id) external view returns (PythStructs.Price memory price) {
        return getPriceNoOlderThan(id, getValidTimePeriod());
    }
</source>
<source file="systems/source-code/MockPyth.sol" startline="49" endline="51" pcid="1563">
    function getEmaPrice(bytes32 id) external view returns (PythStructs.Price memory price) {
        return getEmaPriceNoOlderThan(id, getValidTimePeriod());
    }
</source>
</class>

<class classid="192" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/MockPyth.sol" startline="53" endline="56" pcid="1564">
    function getPriceUnsafe(bytes32 id) public view returns (PythStructs.Price memory price) {
        PythStructs.PriceFeed memory priceFeed = queryPriceFeed(id);
        return priceFeed.price;
    }
</source>
<source file="systems/source-code/MockPyth.sol" startline="66" endline="69" pcid="1566">
    function getEmaPriceUnsafe(bytes32 id) public view returns (PythStructs.Price memory price) {
        PythStructs.PriceFeed memory priceFeed = queryPriceFeed(id);
        return priceFeed.emaPrice;
    }
</source>
</class>

<class classid="193" nclones="2" nlines="5" similarity="75">
<source file="systems/source-code/MockPyth.sol" startline="58" endline="64" pcid="1565">
    function getPriceNoOlderThan(bytes32 id, uint age) public view returns (PythStructs.Price memory price) {
        price = getPriceUnsafe(id);

        require(diff(block.timestamp, price.publishTime) <= age, "no price available which is recent enough");

        return price;
    }
</source>
<source file="systems/source-code/MockPyth.sol" startline="71" endline="77" pcid="1567">
    function getEmaPriceNoOlderThan(bytes32 id, uint age) public view returns (PythStructs.Price memory price) {
        price = getEmaPriceUnsafe(id);

        require(diff(block.timestamp, price.publishTime) <= age, "no ema price available which is recent enough");

        return price;
    }
</source>
</class>

<class classid="194" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/MultiCollateralSynth.sol" startline="64" endline="66" pcid="1595">
    function issue(address account, uint amount) external onlyInternalContracts {
        super._internalIssue(account, amount);
    }
</source>
<source file="systems/source-code/MultiCollateralSynth.sol" startline="73" endline="75" pcid="1596">
    function burn(address account, uint amount) external onlyInternalContracts {
        super._internalBurn(account, amount);
    }
</source>
</class>

<class classid="195" nclones="2" nlines="9" similarity="75">
<source file="systems/source-code/OneNetAggregatorDebtRatio.sol" startline="10" endline="36" pcid="1605">
    function getRoundData(uint80)
        public
        view
        returns (
            uint80,
            int256,
            uint256,
            uint256,
            uint80
        )
    {
        uint totalIssuedSynths =
            IIssuer(resolver.requireAndGetAddress("Issuer", "aggregate debt info")).totalIssuedSynths("sUSD", true);
        uint totalDebtShares =
            ISynthetixDebtShare(resolver.requireAndGetAddress("SynthetixDebtShare", "aggregate debt info")).totalSupply();

        uint result =
            totalDebtShares == 0 ? 10**27 : totalIssuedSynths.decimalToPreciseDecimal().divideDecimalRound(totalDebtShares);

        uint dataTimestamp = now;

        if (overrideTimestamp != 0) {
            dataTimestamp = overrideTimestamp;
        }

        return (1, int256(result), dataTimestamp, dataTimestamp, 1);
    }
</source>
<source file="systems/source-code/OneNetAggregatorIssuedSynths.sol" startline="10" endline="31" pcid="1606">
    function getRoundData(uint80)
        public
        view
        returns (
            uint80,
            int256,
            uint256,
            uint256,
            uint80
        )
    {
        uint totalIssuedSynths =
            IIssuer(resolver.requireAndGetAddress("Issuer", "aggregate debt info")).totalIssuedSynths("sUSD", true);

        uint dataTimestamp = now;

        if (overrideTimestamp != 0) {
            dataTimestamp = overrideTimestamp;
        }

        return (1, int256(totalIssuedSynths), dataTimestamp, dataTimestamp, 1);
    }
</source>
</class>

<class classid="196" nclones="3" nlines="5" similarity="100">
<source file="systems/source-code/OwnerRelayOnOptimism.sol" startline="57" endline="61" pcid="1624">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](2);
        addresses[0] = CONTRACT_EXT_MESSENGER;
        addresses[1] = CONTRACT_BASE_OWNER_RELAY_ON_ETHEREUM;
    }
</source>
<source file="systems/source-code/SynthRedeemer.sol" startline="26" endline="30" pcid="2184">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](2);
        addresses[0] = CONTRACT_ISSUER;
        addresses[1] = CONTRACT_SYNTHSUSD;
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="60" endline="64" pcid="2469">
    function resolverAddressesRequired() public view returns (bytes32[] memory addresses) {
        addresses = new bytes32[](2);
        addresses[0] = CONTRACT_EXCHANGER;
        addresses[1] = CONTRACT_SYNTHETIX;
    }
</source>
</class>

<class classid="197" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/OwnerRelayOnOptimism.sol" startline="65" endline="69" pcid="1625">
    function directRelay(address target, bytes calldata payload) external onlyTemporaryOwner {
        _relayCall(target, payload);

        emit DirectRelay(target, payload);
    }
</source>
<source file="systems/source-code/OwnerRelayOnOptimism.sol" startline="71" endline="75" pcid="1626">
    function finalizeRelay(address target, bytes calldata payload) external onlyMessengerAndL1Relayer {
        _relayCall(target, payload);

        emit RelayFinalized(target, payload);
    }
</source>
</class>

<class classid="198" nclones="2" nlines="6" similarity="80">
<source file="systems/source-code/PerpsV2MarketDelayedExecution.sol" startline="148" endline="157" pcid="1725">
    function cancelDelayedOrder(address account) external onlyProxy {
        // important!! order of the account, not the msg.sender
        DelayedOrder memory order = marketState.delayedOrders(account);
        // check that a previous order exists
        require(order.sizeDelta != 0, "no previous order");

        require(!order.isOffchain, "use offchain method");

        _cancelDelayedOrder(account, order);
    }
</source>
<source file="systems/source-code/PerpsV2MarketDelayedExecution.sol" startline="169" endline="178" pcid="1726">
    function cancelOffchainDelayedOrder(address account) external onlyProxy {
        // important!! order of the account, not the msg.sender
        DelayedOrder memory order = marketState.delayedOrders(account);
        // check that a previous order exists
        require(order.sizeDelta != 0, "no previous order");

        require(order.isOffchain, "use onchain method");

        _cancelDelayedOrder(account, order);
    }
</source>
</class>

<class classid="199" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/PerpsV2MarketState.sol" startline="218" endline="225" pcid="1828">
    function getPositionAddressesPage(uint index, uint pageSize)
        external
        view
        onlyAssociatedContracts
        returns (address[] memory)
    {
        return _positionAddresses.getPage(index, pageSize);
    }
</source>
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="112" endline="119" pcid="1852">
    function getPositionAddressesPage(uint index, uint pageSize)
        external
        view
        onlyAssociatedContracts
        returns (address[] memory)
    {
        return _positionAddresses.getPage(index, pageSize);
    }
</source>
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="121" endline="128" pcid="1853">
    function getDelayedOrderAddressesPage(uint index, uint pageSize)
        external
        view
        onlyAssociatedContracts
        returns (address[] memory)
    {
        return _delayedOrderAddresses.getPage(index, pageSize);
    }
</source>
</class>

<class classid="200" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/PerpsV2MarketState.sol" startline="276" endline="278" pcid="1837">
    function setEntryDebtCorrection(int128 entryDebtCorrection) external onlyIfInitialized onlyAssociatedContracts {
        _entryDebtCorrection = entryDebtCorrection;
    }
</source>
<source file="systems/source-code/PerpsV2MarketState.sol" startline="297" endline="303" pcid="1842">
    function setFundingRateLastRecomputed(int128 _fundingRateLastRecomputed)
        external
        onlyIfInitialized
        onlyAssociatedContracts
    {
        fundingRateLastRecomputed = _fundingRateLastRecomputed;
    }
</source>
<source file="systems/source-code/PerpsV2MarketState.sol" startline="284" endline="286" pcid="1839">
    function setMarketSkew(int128 _marketSkew) external onlyIfInitialized onlyAssociatedContracts {
        marketSkew = _marketSkew;
    }
</source>
</class>

<class classid="201" nclones="2" nlines="10" similarity="100">
<source file="systems/source-code/PerpsV2MarketState.sol" startline="387" endline="399" pcid="1845">
    function deletePosition(address account) external onlyIfInitialized onlyAssociatedContracts {
        delete _positions[account];
        if (_positionAddresses.contains(account)) {
            _positionAddresses.remove(account);
        }

        if (_legacyContractExists && !_positionMigrated[account]) {
            legacyState.deletePosition(account);

            // flag as already migrated
            _positionMigrated[account] = true;
        }
    }
</source>
<source file="systems/source-code/PerpsV2MarketState.sol" startline="401" endline="414" pcid="1846">
    function deleteDelayedOrder(address account) external onlyIfInitialized onlyAssociatedContracts {
        delete _delayedOrders[account];
        if (_delayedOrderAddresses.contains(account)) {
            _delayedOrderAddresses.remove(account);
        }

        // attempt to delete on legacy
        if (_legacyContractExists && !_delayedOrderMigrated[account]) {
            legacyState.deleteDelayedOrder(account);

            // flag as already migrated
            _delayedOrderMigrated[account] = true;
        }
    }
</source>
</class>

<class classid="202" nclones="3" nlines="6" similarity="75">
<source file="systems/source-code/PerpsV2MarketState.sol" startline="421" endline="426" pcid="1848">
    function unflag(address account) external onlyIfInitialized onlyAssociatedContracts {
        delete positionFlagger[account];
        if (_flaggedAddresses.contains(account)) {
            _flaggedAddresses.remove(account);
        }
    }
</source>
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="243" endline="248" pcid="1867">
    function deletePosition(address account) external onlyAssociatedContracts {
        delete positions[account];
        if (_positionAddresses.contains(account)) {
            _positionAddresses.remove(account);
        }
    }
</source>
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="250" endline="255" pcid="1868">
    function deleteDelayedOrder(address account) external onlyAssociatedContracts {
        delete delayedOrders[account];
        if (_delayedOrderAddresses.contains(account)) {
            _delayedOrderAddresses.remove(account);
        }
    }
</source>
</class>

<class classid="203" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="130" endline="132" pcid="1854">
    function getPositionAddressesLength() external view onlyAssociatedContracts returns (uint) {
        return _positionAddresses.elements.length;
    }
</source>
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="134" endline="136" pcid="1855">
    function getDelayedOrderAddressesLength() external view onlyAssociatedContracts returns (uint) {
        return _delayedOrderAddresses.elements.length;
    }
</source>
</class>

<class classid="204" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="152" endline="154" pcid="1859">
    function setEntryDebtCorrection(int128 entryDebtCorrection) external onlyAssociatedContracts {
        _entryDebtCorrection = entryDebtCorrection;
    }
</source>
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="173" endline="175" pcid="1864">
    function setFundingRateLastRecomputed(int128 _fundingRateLastRecomputed) external onlyAssociatedContracts {
        fundingRateLastRecomputed = _fundingRateLastRecomputed;
    }
</source>
<source file="systems/source-code/PerpsV2MarketStateLegacyR1.sol" startline="160" endline="162" pcid="1861">
    function setMarketSkew(int128 _marketSkew) external onlyAssociatedContracts {
        marketSkew = _marketSkew;
    }
</source>
</class>

<class classid="205" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="22" endline="24" pcid="1869">
    function marketKey() external view returns (bytes32 key) {
        return _marketKey();
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="27" endline="29" pcid="1870">
    function baseAsset() external view returns (bytes32 key) {
        return _baseAsset();
    }
</source>
</class>

<class classid="206" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="74" endline="76" pcid="1877">
    function fundingSequence(uint index) external view returns (int128) {
        return marketState.fundingSequence(index);
    }
</source>
<source file="systems/source-code/SafeDecimalMath.sol" startline="171" endline="173" pcid="2011">
    function decimalToPreciseDecimal(uint i) internal pure returns (uint) {
        return i.mul(UNIT_TO_HIGH_PRECISION_CONVERSION_FACTOR);
    }
</source>
</class>

<class classid="207" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="81" endline="83" pcid="1878">
    function positions(address account) external view returns (Position memory) {
        return marketState.positions(account);
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="88" endline="90" pcid="1879">
    function delayedOrders(address account) external view returns (DelayedOrder memory) {
        return marketState.delayedOrders(account);
    }
</source>
</class>

<class classid="208" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="155" endline="158" pcid="1887">
    function profitLoss(address account) external view returns (int pnl, bool invalid) {
        (uint price, bool isInvalid) = _assetPrice();
        return (_profitLoss(marketState.positions(account), price), isInvalid);
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="163" endline="166" pcid="1888">
    function accruedFunding(address account) external view returns (int funding, bool invalid) {
        (uint price, bool isInvalid) = _assetPrice();
        return (_accruedFunding(marketState.positions(account), price), isInvalid);
    }
</source>
</class>

<class classid="209" nclones="3" nlines="4" similarity="100">
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="171" endline="174" pcid="1889">
    function remainingMargin(address account) external view returns (uint marginRemaining, bool invalid) {
        (uint price, bool isInvalid) = _assetPrice();
        return (_remainingMargin(marketState.positions(account), price), isInvalid);
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="180" endline="183" pcid="1890">
    function accessibleMargin(address account) external view returns (uint marginAccessible, bool invalid) {
        (uint price, bool isInvalid) = _assetPrice();
        return (_accessibleMargin(marketState.positions(account), price), isInvalid);
    }
</source>
<source file="systems/source-code/PerpsV2MarketViews.sol" startline="192" endline="195" pcid="1891">
    function liquidationPrice(address account) external view returns (uint price, bool invalid) {
        (uint aPrice, bool isInvalid) = _assetPrice();
        return (_approxLiquidationPrice(marketState.positions(account), aPrice), isInvalid);
    }
</source>
</class>

<class classid="210" nclones="8" nlines="3" similarity="100">
<source file="systems/source-code/Proxyable.sol" startline="34" endline="36" pcid="1902">
    function setMessageSender(address sender) external onlyProxy {
        messageSender = sender;
    }
</source>
<source file="systems/source-code/RewardsDistribution.sol" startline="80" endline="82" pcid="1987">
    function setAuthority(address _authority) external onlyOwner {
        authority = _authority;
    }
</source>
<source file="systems/source-code/RewardsDistribution.sol" startline="68" endline="70" pcid="1985">
    function setRewardEscrow(address _rewardEscrow) external onlyOwner {
        rewardEscrow = _rewardEscrow;
    }
</source>
<source file="systems/source-code/RewardsDistribution.sol" startline="72" endline="74" pcid="1986">
    function setFeePoolProxy(address _feePoolProxy) external onlyOwner {
        feePoolProxy = _feePoolProxy;
    }
</source>
<source file="systems/source-code/RewardsDistributionRecipient.sol" startline="17" endline="19" pcid="1993">
    function setRewardsDistribution(address _rewardsDistribution) external onlyOwner {
        rewardsDistribution = _rewardsDistribution;
    }
</source>
<source file="systems/source-code/TokenExchanger.sol" startline="23" endline="25" pcid="2461">
    function setSynthetix(address _synthetix) external onlyOwner {
        synthetix = _synthetix;
    }
</source>
<source file="systems/source-code/RewardsDistribution.sol" startline="64" endline="66" pcid="1984">
    function setSynthetixProxy(address _synthetixProxy) external onlyOwner {
        synthetixProxy = _synthetixProxy;
    }
</source>
<source file="systems/source-code/TokenExchanger.sol" startline="19" endline="21" pcid="2460">
    function setSynthetixProxy(address _integrationProxy) external onlyOwner {
        integrationProxy = _integrationProxy;
    }
</source>
</class>

<class classid="211" nclones="2" nlines="6" similarity="75">
<source file="systems/source-code/Proxyable.sol" startline="52" endline="56" pcid="1904">
    function _optionalProxy() private {
        if (Proxy(msg.sender) != proxy && messageSender != msg.sender) {
            messageSender = msg.sender;
        }
    }
</source>
<source file="systems/source-code/Proxyable.sol" startline="64" endline="69" pcid="1905">
    function _optionalProxy_onlyOwner() private {
        if (Proxy(msg.sender) != proxy && messageSender != msg.sender) {
            messageSender = msg.sender;
        }
        require(messageSender == owner, "Owner only function");
    }
</source>
</class>

<class classid="212" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/ProxyERC20.sol" startline="13" endline="16" pcid="1906">
    function name() public view returns (string memory) {
        // Immutable static call from target contract
        return IERC20(address(target)).name();
    }
</source>
<source file="systems/source-code/ProxyERC20.sol" startline="18" endline="21" pcid="1907">
    function symbol() public view returns (string memory) {
        // Immutable static call from target contract
        return IERC20(address(target)).symbol();
    }
</source>
</class>

<class classid="213" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/ProxyERC20.sol" startline="23" endline="26" pcid="1908">
    function decimals() public view returns (uint8) {
        // Immutable static call from target contract
        return IERC20(address(target)).decimals();
    }
</source>
<source file="systems/source-code/ProxyERC20.sol" startline="33" endline="36" pcid="1909">
    function totalSupply() public view returns (uint256) {
        // Immutable static call from target contract
        return IERC20(address(target)).totalSupply();
    }
</source>
</class>

<class classid="214" nclones="2" nlines="5" similarity="100">
<source file="systems/source-code/ProxyERC20.sol" startline="64" endline="73" pcid="1912">
    function transfer(address to, uint256 value) public returns (bool) {
        // Mutable state call requires the proxy to tell the target who the msg.sender is.
        target.setMessageSender(msg.sender);

        // Forward the ERC20 call to the target contract
        IERC20(address(target)).transfer(to, value);

        // Event emitting will occur via Synthetix.Proxy._emit()
        return true;
    }
</source>
<source file="systems/source-code/ProxyERC20.sol" startline="84" endline="93" pcid="1913">
    function approve(address spender, uint256 value) public returns (bool) {
        // Mutable state call requires the proxy to tell the target who the msg.sender is.
        target.setMessageSender(msg.sender);

        // Forward the ERC20 call to the target contract
        IERC20(address(target)).approve(spender, value);

        // Event emitting will occur via Synthetix.Proxy._emit()
        return true;
    }
</source>
</class>

<class classid="215" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/PublicEST.sol" startline="18" endline="20" pcid="1915">
    function transfer(address to, uint value) external optionalProxy returns (bool) {
        return _transferByProxy(messageSender, to, value);
    }
</source>
<source file="systems/source-code/PublicEST8Decimals.sol" startline="17" endline="19" pcid="1919">
    function transfer(address to, uint value) external optionalProxy returns (bool) {
        return _transferByProxy(messageSender, to, value);
    }
</source>
</class>

<class classid="216" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/PublicEST.sol" startline="22" endline="28" pcid="1916">
    function transferFrom(
        address from,
        address to,
        uint value
    ) external optionalProxy returns (bool) {
        return _transferFromByProxy(messageSender, from, to, value);
    }
</source>
<source file="systems/source-code/PublicEST8Decimals.sol" startline="21" endline="27" pcid="1920">
    function transferFrom(
        address from,
        address to,
        uint value
    ) external optionalProxy returns (bool) {
        return _transferFromByProxy(messageSender, from, to, value);
    }
</source>
</class>

<class classid="217" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/PublicEST.sol" startline="33" endline="35" pcid="1917">
    function somethingToBeProxied(uint256 inputA, bytes32 inputB) external {
        emit Received(messageSender, inputA, inputB);
    }
</source>
<source file="systems/source-code/PublicEST8Decimals.sol" startline="32" endline="34" pcid="1921">
    function somethingToBeProxied(uint256 inputA, bytes32 inputB) external {
        emit Received(messageSender, inputA, inputB);
    }
</source>
</class>

<class classid="218" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/PublicSafeDecimalMath.sol" startline="43" endline="45" pcid="1931">
    function decimalToPreciseDecimal(uint i) public pure returns (uint) {
        return i.decimalToPreciseDecimal();
    }
</source>
<source file="systems/source-code/PublicSafeDecimalMath.sol" startline="47" endline="49" pcid="1932">
    function preciseDecimalToDecimal(uint i) public pure returns (uint) {
        return i.preciseDecimalToDecimal();
    }
</source>
</class>

<class classid="219" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/PurgeableSynth.sol" startline="72" endline="74" pcid="1936">
    function emitPurged(address account, uint value) internal {
        proxy._emit(abi.encode(value), 2, PURGED_SIG, addressToBytes32(account), 0, 0);
    }
</source>
<source file="systems/source-code/Synth.sol" startline="311" endline="313" pcid="2096">
    function emitIssued(address account, uint value) internal {
        proxy._emit(abi.encode(value), 2, ISSUED_SIG, addressToBytes32(account), 0, 0);
    }
</source>
<source file="systems/source-code/Synth.sol" startline="319" endline="321" pcid="2097">
    function emitBurned(address account, uint value) internal {
        proxy._emit(abi.encode(value), 2, BURNED_SIG, addressToBytes32(account), 0, 0);
    }
</source>
</class>

<class classid="220" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/RewardEscrow.sol" startline="98" endline="100" pcid="1942">
    function getVestingScheduleEntry(address account, uint index) public view returns (uint[2] memory) {
        return vestingSchedules[account][index];
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="71" endline="73" pcid="2165">
    function getVestingScheduleEntry(address account, uint index) public view returns (uint[2] memory) {
        return vestingSchedules[account][index];
    }
</source>
</class>

<class classid="221" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/RewardEscrow.sol" startline="105" endline="107" pcid="1943">
    function getVestingTime(address account, uint index) public view returns (uint) {
        return getVestingScheduleEntry(account, index)[TIME_INDEX];
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="85" endline="87" pcid="2167">
    function getVestingQuantity(address account, uint index) public view returns (uint) {
        return getVestingScheduleEntry(account, index)[QUANTITY_INDEX];
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="78" endline="80" pcid="2166">
    function getVestingTime(address account, uint index) public view returns (uint) {
        return getVestingScheduleEntry(account, index)[TIME_INDEX];
    }
</source>
<source file="systems/source-code/RewardEscrow.sol" startline="112" endline="114" pcid="1944">
    function getVestingQuantity(address account, uint index) public view returns (uint) {
        return getVestingScheduleEntry(account, index)[QUANTITY_INDEX];
    }
</source>
</class>

<class classid="222" nclones="2" nlines="9" similarity="100">
<source file="systems/source-code/RewardEscrow.sol" startline="119" endline="127" pcid="1945">
    function getNextVestingIndex(address account) public view returns (uint) {
        uint len = _numVestingEntries(account);
        for (uint i = 0; i < len; i++) {
            if (getVestingTime(account, i) != 0) {
                return i;
            }
        }
        return len;
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="92" endline="100" pcid="2168">
    function getNextVestingIndex(address account) public view returns (uint) {
        uint len = numVestingEntries(account);
        for (uint i = 0; i < len; i++) {
            if (getVestingTime(account, i) != 0) {
                return i;
            }
        }
        return len;
    }
</source>
</class>

<class classid="223" nclones="2" nlines="7" similarity="100">
<source file="systems/source-code/RewardEscrow.sol" startline="132" endline="138" pcid="1946">
    function getNextVestingEntry(address account) public view returns (uint[2] memory) {
        uint index = getNextVestingIndex(account);
        if (index == _numVestingEntries(account)) {
            return [uint(0), 0];
        }
        return getVestingScheduleEntry(account, index);
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="105" endline="111" pcid="2169">
    function getNextVestingEntry(address account) public view returns (uint[2] memory) {
        uint index = getNextVestingIndex(account);
        if (index == numVestingEntries(account)) {
            return [uint(0), 0];
        }
        return getVestingScheduleEntry(account, index);
    }
</source>
</class>

<class classid="224" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/RewardEscrow.sol" startline="143" endline="145" pcid="1947">
    function getNextVestingTime(address account) external view returns (uint) {
        return getNextVestingEntry(account)[TIME_INDEX];
    }
</source>
<source file="systems/source-code/RewardEscrow.sol" startline="150" endline="152" pcid="1948">
    function getNextVestingQuantity(address account) external view returns (uint) {
        return getNextVestingEntry(account)[QUANTITY_INDEX];
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="123" endline="125" pcid="2171">
    function getNextVestingQuantity(address account) external view returns (uint) {
        return getNextVestingEntry(account)[QUANTITY_INDEX];
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="116" endline="118" pcid="2170">
    function getNextVestingTime(address account) external view returns (uint) {
        return getNextVestingEntry(account)[TIME_INDEX];
    }
</source>
</class>

<class classid="225" nclones="2" nlines="17" similarity="71">
<source file="systems/source-code/RewardEscrow.sol" startline="173" endline="206" pcid="1950">
    function _appendVestingEntry(address account, uint quantity) internal {
        /* No empty or already-passed vesting entries allowed. */
        require(quantity != 0, "Quantity cannot be zero");

        /* There must be enough balance in the contract to provide for the vesting entry. */
        totalEscrowedBalance = totalEscrowedBalance.add(quantity);
        require(
            totalEscrowedBalance <= IERC20(address(synthetix)).balanceOf(address(this)),
            "Must be enough balance in the contract to provide for the vesting entry"
        );

        /* Disallow arbitrarily long vesting schedules in light of the gas limit. */
        uint scheduleLength = vestingSchedules[account].length;
        require(scheduleLength <= MAX_VESTING_ENTRIES, "Vesting schedule is too long");

        /* Escrow the tokens for 1 year. */
        uint time = now + 52 weeks;

        if (scheduleLength == 0) {
            totalEscrowedAccountBalance[account] = quantity;
        } else {
            /* Disallow adding new vested SNX earlier than the last one.
             * Since entries are only appended, this means that no vesting date can be repeated. */
            require(
                getVestingTime(account, scheduleLength - 1) < time,
                "Cannot add new vested entries earlier than the last one"
            );
            totalEscrowedAccountBalance[account] = totalEscrowedAccountBalance[account].add(quantity);
        }

        vestingSchedules[account].push([time, quantity]);

        emit VestingEntryCreated(account, now, quantity);
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="151" endline="184" pcid="2173">
    function appendVestingEntry(
        address account,
        uint time,
        uint quantity
    ) public onlyOwner onlyDuringSetup {
        /* No empty or already-passed vesting entries allowed. */
        require(now < time, "Time must be in the future");
        require(quantity != 0, "Quantity cannot be zero");

        /* There must be enough balance in the contract to provide for the vesting entry. */
        totalVestedBalance = totalVestedBalance.add(quantity);
        require(
            totalVestedBalance <= IERC20(address(synthetix)).balanceOf(address(this)),
            "Must be enough balance in the contract to provide for the vesting entry"
        );

        /* Disallow arbitrarily long vesting schedules in light of the gas limit. */
        uint scheduleLength = vestingSchedules[account].length;
        require(scheduleLength <= MAX_VESTING_ENTRIES, "Vesting schedule is too long");

        if (scheduleLength == 0) {
            totalVestedAccountBalance[account] = quantity;
        } else {
            /* Disallow adding new vested SNX earlier than the last one.
             * Since entries are only appended, this means that no vesting date can be repeated. */
            require(
                getVestingTime(account, numVestingEntries(account) - 1) < time,
                "Cannot add new vested entries earlier than the last one"
            );
            totalVestedAccountBalance[account] = totalVestedAccountBalance[account].add(quantity);
        }

        vestingSchedules[account].push([time, quantity]);
    }
</source>
</class>

<class classid="226" nclones="2" nlines="22" similarity="94">
<source file="systems/source-code/RewardEscrow.sol" startline="224" endline="247" pcid="1952">
    function vest() external {
        uint numEntries = _numVestingEntries(msg.sender);
        uint total;
        for (uint i = 0; i < numEntries; i++) {
            uint time = getVestingTime(msg.sender, i);
            /* The list is sorted; when we reach the first future time, bail out. */
            if (time > now) {
                break;
            }
            uint qty = getVestingQuantity(msg.sender, i);
            if (qty > 0) {
                vestingSchedules[msg.sender][i] = [0, 0];
                total = total.add(qty);
            }
        }

        if (total != 0) {
            totalEscrowedBalance = totalEscrowedBalance.sub(total);
            totalEscrowedAccountBalance[msg.sender] = totalEscrowedAccountBalance[msg.sender].sub(total);
            totalVestedAccountBalance[msg.sender] = totalVestedAccountBalance[msg.sender].add(total);
            IERC20(address(synthetix)).transfer(msg.sender, total);
            emit Vested(msg.sender, now, total);
        }
    }
</source>
<source file="systems/source-code/SynthetixEscrow.sol" startline="206" endline="228" pcid="2175">
    function vest() external {
        uint numEntries = numVestingEntries(msg.sender);
        uint total;
        for (uint i = 0; i < numEntries; i++) {
            uint time = getVestingTime(msg.sender, i);
            /* The list is sorted; when we reach the first future time, bail out. */
            if (time > now) {
                break;
            }
            uint qty = getVestingQuantity(msg.sender, i);
            if (qty > 0) {
                vestingSchedules[msg.sender][i] = [0, 0];
                total = total.add(qty);
            }
        }

        if (total != 0) {
            totalVestedBalance = totalVestedBalance.sub(total);
            totalVestedAccountBalance[msg.sender] = totalVestedAccountBalance[msg.sender].sub(total);
            IERC20(address(synthetix)).transfer(msg.sender, total);
            emit Vested(msg.sender, now, total);
        }
    }
</source>
</class>

<class classid="227" nclones="2" nlines="18" similarity="71">
<source file="systems/source-code/RewardEscrowV2.sol" startline="35" endline="71" pcid="1955">
    function burnForMigration(address account, uint[] calldata entryIDs)
        external
        onlySynthetixBridge
        returns (uint256 escrowedAccountBalance, VestingEntries.VestingEntry[] memory vestingEntries)
    {
        require(entryIDs.length > 0, "Entry IDs required");

        vestingEntries = new VestingEntries.VestingEntry[](entryIDs.length);

        for (uint i = 0; i < entryIDs.length; i++) {
            VestingEntries.VestingEntry memory entry = vestingSchedules(account, entryIDs[i]);

            // only unvested
            if (entry.escrowAmount > 0) {
                vestingEntries[i] = entry;

                /* add the escrow amount to escrowedAccountBalance */
                escrowedAccountBalance = escrowedAccountBalance.add(entry.escrowAmount);

                /* Delete the vesting entry being migrated */
                state().setZeroAmount(account, entryIDs[i]);
            }
        }

        /**
         *  update account total escrow balances for migration
         *  transfer the escrowed SNX being migrated to the L2 deposit contract
         */
        if (escrowedAccountBalance > 0) {
            state().updateEscrowAccountBalance(account, -SafeCast.toInt256(escrowedAccountBalance));
            synthetixERC20().transfer(synthetixBridgeToOptimism(), escrowedAccountBalance);
        }

        emit BurnedForMigrationToL2(account, entryIDs, escrowedAccountBalance, block.timestamp);

        return (escrowedAccountBalance, vestingEntries);
    }
</source>
<source file="systems/source-code/RewardEscrowV2Frozen.sol" startline="196" endline="231" pcid="1965">
    function burnForMigration(address account, uint[] calldata entryIDs)
        external
        onlySynthetixBridge
        returns (uint256 escrowedAccountBalance, VestingEntries.VestingEntry[] memory vestingEntries)
    {
        require(entryIDs.length > 0, "Entry IDs required");

        vestingEntries = new VestingEntries.VestingEntry[](entryIDs.length);

        for (uint i = 0; i < entryIDs.length; i++) {
            VestingEntries.VestingEntry storage entry = vestingSchedules[account][entryIDs[i]];

            if (entry.escrowAmount > 0) {
                vestingEntries[i] = entry;

                /* add the escrow amount to escrowedAccountBalance */
                escrowedAccountBalance = escrowedAccountBalance.add(entry.escrowAmount);

                /* Delete the vesting entry being migrated */
                delete vestingSchedules[account][entryIDs[i]];
            }
        }

        /**
         *  update account total escrow balances for migration
         *  transfer the escrowed SNX being migrated to the L2 deposit contract
         */
        if (escrowedAccountBalance > 0) {
            _reduceAccountEscrowBalances(account, escrowedAccountBalance);
            IERC20(address(synthetix())).transfer(synthetixBridgeToOptimism(), escrowedAccountBalance);
        }

        emit BurnedForMigrationToL2(account, entryIDs, escrowedAccountBalance, block.timestamp);

        return (escrowedAccountBalance, vestingEntries);
    }
</source>
</class>

<class classid="228" nclones="3" nlines="9" similarity="83">
<source file="systems/source-code/RewardEscrowV2Storage.sol" startline="129" endline="139" pcid="1970">
    function totalEscrowedAccountBalance(address account) public view withFallback returns (uint) {
        // this as an int in order to be able to store ZERO_PLACEHOLDER which is -1
        int v = _totalEscrowedAccountBalance[account];

        // 0 should never be stored to prevent reading stale value from fallback
        if (v == 0) {
            return fallbackRewardEscrow.totalEscrowedAccountBalance(account);
        } else {
            return _readWithZeroPlaceholder(v);
        }
    }
</source>
<source file="systems/source-code/RewardEscrowV2Storage.sol" startline="161" endline="170" pcid="1973">
    function _fallbackNumVestingEntries(address account) internal view returns (uint) {
        // cache is used here to prevent external calls during looping
        int v = _fallbackCounts[account];
        if (v == 0) {
            // uninitialized
            return fallbackRewardEscrow.numVestingEntries(account);
        } else {
            return _readWithZeroPlaceholder(v);
        }
    }
</source>
<source file="systems/source-code/RewardEscrowV2Storage.sol" startline="141" endline="151" pcid="1971">
    function totalVestedAccountBalance(address account) public view withFallback returns (uint) {
        // this as an int in order to be able to store ZERO_PLACEHOLDER which is -1
        int v = _totalVestedAccountBalance[account];

        // 0 should never be stored to prevent reading stale value from fallback
        if (v == 0) {
            return fallbackRewardEscrow.totalVestedAccountBalance(account);
        } else {
            return _readWithZeroPlaceholder(v);
        }
    }
</source>
</class>

<class classid="229" nclones="2" nlines="7" similarity="80">
<source file="systems/source-code/SafeDecimalMath.sol" startline="61" endline="74" pcid="2004">
    function _multiplyDecimalRound(
        uint x,
        uint y,
        uint precisionUnit
    ) private pure returns (uint) {
        /* Divide by UNIT to remove the extra factor introduced by the product. */
        uint quotientTimesTen = x.mul(y) / (precisionUnit / 10);

        if (quotientTimesTen % 10 >= 5) {
            quotientTimesTen += 10;
        }

        return quotientTimesTen / 10;
    }
</source>
<source file="systems/source-code/SafeDecimalMath.sol" startline="130" endline="142" pcid="2008">
    function _divideDecimalRound(
        uint x,
        uint y,
        uint precisionUnit
    ) private pure returns (uint) {
        uint resultTimesTen = x.mul(precisionUnit * 10).div(y);

        if (resultTimesTen % 10 >= 5) {
            resultTimesTen += 10;
        }

        return resultTimesTen / 10;
    }
</source>
</class>

<class classid="230" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/SafeDecimalMath.sol" startline="88" endline="90" pcid="2005">
    function multiplyDecimalRoundPrecise(uint x, uint y) internal pure returns (uint) {
        return _multiplyDecimalRound(x, y, PRECISE_UNIT);
    }
</source>
<source file="systems/source-code/SafeDecimalMath.sol" startline="164" endline="166" pcid="2010">
    function divideDecimalRoundPrecise(uint x, uint y) internal pure returns (uint) {
        return _divideDecimalRound(x, y, PRECISE_UNIT);
    }
</source>
<source file="systems/source-code/SafeDecimalMath.sol" startline="104" endline="106" pcid="2006">
    function multiplyDecimalRound(uint x, uint y) internal pure returns (uint) {
        return _multiplyDecimalRound(x, y, UNIT);
    }
</source>
<source file="systems/source-code/SafeDecimalMath.sol" startline="152" endline="154" pcid="2009">
    function divideDecimalRound(uint x, uint y) internal pure returns (uint) {
        return _divideDecimalRound(x, y, UNIT);
    }
</source>
</class>

<class classid="231" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/ShortingRewards.sol" startline="73" endline="75" pcid="2020">
    function lastTimeRewardApplicable() public view returns (uint256) {
        return block.timestamp < periodFinish ? block.timestamp : periodFinish;
    }
</source>
<source file="systems/source-code/StakingRewards.sol" startline="57" endline="59" pcid="2048">
    function lastTimeRewardApplicable() public view returns (uint256) {
        return block.timestamp < periodFinish ? block.timestamp : periodFinish;
    }
</source>
</class>

<class classid="232" nclones="2" nlines="6" similarity="100">
<source file="systems/source-code/ShortingRewards.sol" startline="77" endline="85" pcid="2021">
    function rewardPerToken() public view returns (uint256) {
        if (_totalSupply == 0) {
            return rewardPerTokenStored;
        }
        return
            rewardPerTokenStored.add(
                lastTimeRewardApplicable().sub(lastUpdateTime).mul(rewardRate).mul(1e18).div(_totalSupply)
            );
    }
</source>
<source file="systems/source-code/StakingRewards.sol" startline="61" endline="69" pcid="2049">
    function rewardPerToken() public view returns (uint256) {
        if (_totalSupply == 0) {
            return rewardPerTokenStored;
        }
        return
            rewardPerTokenStored.add(
                lastTimeRewardApplicable().sub(lastUpdateTime).mul(rewardRate).mul(1e18).div(_totalSupply)
            );
    }
</source>
</class>

<class classid="233" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/ShortingRewards.sol" startline="87" endline="89" pcid="2022">
    function earned(address account) public view returns (uint256) {
        return _balances[account].mul(rewardPerToken().sub(userRewardPerTokenPaid[account])).div(1e18).add(rewards[account]);
    }
</source>
<source file="systems/source-code/StakingRewards.sol" startline="71" endline="73" pcid="2050">
    function earned(address account) public view returns (uint256) {
        return _balances[account].mul(rewardPerToken().sub(userRewardPerTokenPaid[account])).div(1e18).add(rewards[account]);
    }
</source>
</class>

<class classid="234" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/ShortingRewards.sol" startline="91" endline="93" pcid="2023">
    function getRewardForDuration() external view returns (uint256) {
        return rewardRate.mul(rewardsDuration);
    }
</source>
<source file="systems/source-code/StakingRewards.sol" startline="75" endline="77" pcid="2051">
    function getRewardForDuration() external view returns (uint256) {
        return rewardRate.mul(rewardsDuration);
    }
</source>
</class>

<class classid="235" nclones="2" nlines="15" similarity="100">
<source file="systems/source-code/ShortingRewards.sol" startline="125" endline="144" pcid="2027">
    function notifyRewardAmount(uint256 reward) external onlyRewardsDistribution updateReward(address(0)) {
        if (block.timestamp >= periodFinish) {
            rewardRate = reward.div(rewardsDuration);
        } else {
            uint256 remaining = periodFinish.sub(block.timestamp);
            uint256 leftover = remaining.mul(rewardRate);
            rewardRate = reward.add(leftover).div(rewardsDuration);
        }

        // Ensure the provided reward amount is not more than the balance in the contract.
        // This keeps the reward rate in the right range, preventing overflows due to
        // very high values of rewardRate in the earned and rewardsPerToken functions;
        // Reward + leftover must be less than 2^256 / 10^18 to avoid overflow.
        uint balance = rewardsToken.balanceOf(address(this));
        require(rewardRate <= balance.div(rewardsDuration), "Provided reward too high");

        lastUpdateTime = block.timestamp;
        periodFinish = block.timestamp.add(rewardsDuration);
        emit RewardAdded(reward);
    }
</source>
<source file="systems/source-code/StakingRewards.sol" startline="113" endline="132" pcid="2056">
    function notifyRewardAmount(uint256 reward) external onlyRewardsDistribution updateReward(address(0)) {
        if (block.timestamp >= periodFinish) {
            rewardRate = reward.div(rewardsDuration);
        } else {
            uint256 remaining = periodFinish.sub(block.timestamp);
            uint256 leftover = remaining.mul(rewardRate);
            rewardRate = reward.add(leftover).div(rewardsDuration);
        }

        // Ensure the provided reward amount is not more than the balance in the contract.
        // This keeps the reward rate in the right range, preventing overflows due to
        // very high values of rewardRate in the earned and rewardsPerToken functions;
        // Reward + leftover must be less than 2^256 / 10^18 to avoid overflow.
        uint balance = rewardsToken.balanceOf(address(this));
        require(rewardRate <= balance.div(rewardsDuration), "Provided reward too high");

        lastUpdateTime = block.timestamp;
        periodFinish = block.timestamp.add(rewardsDuration);
        emit RewardAdded(reward);
    }
</source>
</class>

<class classid="236" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/SignedSafeDecimalMath.sol" startline="100" endline="102" pcid="2034">
    function multiplyDecimalRoundPrecise(int x, int y) internal pure returns (int) {
        return _multiplyDecimalRound(x, y, PRECISE_UNIT);
    }
</source>
<source file="systems/source-code/SignedSafeDecimalMath.sol" startline="159" endline="161" pcid="2038">
    function divideDecimalRound(int x, int y) internal pure returns (int) {
        return _divideDecimalRound(x, y, UNIT);
    }
</source>
<source file="systems/source-code/SignedSafeDecimalMath.sol" startline="171" endline="173" pcid="2039">
    function divideDecimalRoundPrecise(int x, int y) internal pure returns (int) {
        return _divideDecimalRound(x, y, PRECISE_UNIT);
    }
</source>
<source file="systems/source-code/SignedSafeDecimalMath.sol" startline="116" endline="118" pcid="2035">
    function multiplyDecimalRound(int x, int y) internal pure returns (int) {
        return _multiplyDecimalRound(x, y, UNIT);
    }
</source>
</class>

<class classid="237" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/SynthetixDebtShare.sol" startline="142" endline="145" pcid="2148">
    function addAuthorizedBroker(address target) external onlyOwner {
        authorizedBrokers[target] = true;
        emit ChangeAuthorizedBroker(target, true);
    }
</source>
<source file="systems/source-code/SynthetixDebtShare.sol" startline="152" endline="155" pcid="2150">
    function addAuthorizedToSnapshot(address target) external onlyOwner {
        authorizedToSnapshot[target] = true;
        emit ChangeAuthorizedToSnapshot(target, true);
    }
</source>
</class>

<class classid="238" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/SynthetixDebtShare.sol" startline="147" endline="150" pcid="2149">
    function removeAuthorizedBroker(address target) external onlyOwner {
        authorizedBrokers[target] = false;
        emit ChangeAuthorizedBroker(target, false);
    }
</source>
<source file="systems/source-code/SynthetixDebtShare.sol" startline="157" endline="160" pcid="2151">
    function removeAuthorizedToSnapshot(address target) external onlyOwner {
        authorizedToSnapshot[target] = false;
        emit ChangeAuthorizedToSnapshot(target, false);
    }
</source>
</class>

<class classid="239" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/SynthetixDebtShare.sol" startline="189" endline="191" pcid="2155">
    function approve(address, uint256) external pure returns (bool) {
        revert("debt shares are not transferrable");
    }
</source>
<source file="systems/source-code/SynthetixDebtShare.sol" startline="193" endline="195" pcid="2156">
    function transfer(address, uint256) external pure returns (bool) {
        revert("debt shares are not transferrable");
    }
</source>
</class>

<class classid="240" nclones="2" nlines="13" similarity="70">
<source file="systems/source-code/SynthetixDebtShare.sol" startline="240" endline="254" pcid="2160">
    function _increaseBalance(address account, uint amount) internal {
        uint accountBalanceCount = balances[account].length;

        if (accountBalanceCount == 0) {
            balances[account].push(PeriodBalance(uint128(amount), uint128(currentPeriodId)));
        } else {
            uint128 newAmount = uint128(uint(balances[account][accountBalanceCount - 1].amount).add(amount));

            if (balances[account][accountBalanceCount - 1].periodId != currentPeriodId) {
                balances[account].push(PeriodBalance(newAmount, currentPeriodId));
            } else {
                balances[account][accountBalanceCount - 1].amount = newAmount;
            }
        }
    }
</source>
<source file="systems/source-code/SynthetixDebtShare.sol" startline="256" endline="268" pcid="2161">
    function _deductBalance(address account, uint amount) internal {
        uint accountBalanceCount = balances[account].length;

        require(accountBalanceCount != 0, "SynthetixDebtShare: account has no share to deduct");

        uint128 newAmount = uint128(uint(balances[account][accountBalanceCount - 1].amount).sub(amount));

        if (balances[account][accountBalanceCount - 1].periodId != currentPeriodId) {
            balances[account].push(PeriodBalance(newAmount, currentPeriodId));
        } else {
            balances[account][accountBalanceCount - 1].amount = newAmount;
        }
    }
</source>
</class>

<class classid="241" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/SynthetixState.sol" startline="67" endline="69" pcid="2178">
    function incrementTotalIssuerCount() external onlyAssociatedContract {
        totalIssuerCount = totalIssuerCount.add(1);
    }
</source>
<source file="systems/source-code/SynthetixState.sol" startline="75" endline="77" pcid="2179">
    function decrementTotalIssuerCount() external onlyAssociatedContract {
        totalIssuerCount = totalIssuerCount.sub(1);
    }
</source>
</class>

<class classid="242" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/SystemSettings.sol" startline="128" endline="130" pcid="2217">
    function exchangeDynamicFeeThreshold() external view returns (uint) {
        return getExchangeDynamicFeeConfig().threshold;
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="134" endline="136" pcid="2218">
    function exchangeDynamicFeeWeightDecay() external view returns (uint) {
        return getExchangeDynamicFeeConfig().weightDecay;
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="140" endline="142" pcid="2219">
    function exchangeDynamicFeeRounds() external view returns (uint) {
        return getExchangeDynamicFeeConfig().rounds;
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="146" endline="148" pcid="2220">
    function exchangeMaxDynamicFee() external view returns (uint) {
        return getExchangeDynamicFeeConfig().maxFee;
    }
</source>
</class>

<class classid="243" nclones="17" nlines="4" similarity="100">
<source file="systems/source-code/SystemSettings.sol" startline="276" endline="279" pcid="2243">
    function setIssuanceRatio(uint ratio) external onlyOwner {
        flexibleStorage().setIssuanceRatio(SETTING_ISSUANCE_RATIO, ratio);
        emit IssuanceRatioUpdated(ratio);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="341" endline="344" pcid="2254">
    function setSelfLiquidationPenalty(uint penalty) external onlyOwner {
        flexibleStorage().setSelfLiquidationPenalty(SETTING_SELF_LIQUIDATION_PENALTY, penalty);
        emit SelfLiquidationPenaltyUpdated(penalty);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="426" endline="429" pcid="2266">
    function setEtherWrapperMaxETH(uint _maxETH) external onlyOwner {
        flexibleStorage().setEtherWrapperMaxETH(SETTING_ETHER_WRAPPER_MAX_ETH, _maxETH);
        emit EtherWrapperMaxETHUpdated(_maxETH);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="406" endline="409" pcid="2262">
    function setExchangeMaxDynamicFee(uint maxFee) external onlyOwner {
        flexibleStorage().setExchangeMaxDynamicFee(SETTING_EXCHANGE_MAX_DYNAMIC_FEE, maxFee);
        emit ExchangeMaxDynamicFeeUpdated(maxFee);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="431" endline="434" pcid="2267">
    function setEtherWrapperMintFeeRate(uint _rate) external onlyOwner {
        flexibleStorage().setEtherWrapperMintFeeRate(SETTING_ETHER_WRAPPER_MINT_FEE_RATE, _rate);
        emit EtherWrapperMintFeeRateUpdated(_rate);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="336" endline="339" pcid="2253">
    function setLiquidationPenalty(uint penalty) external onlyOwner {
        flexibleStorage().setLiquidationPenalty(SETTING_LIQUIDATION_PENALTY, penalty);
        emit LiquidationPenaltyUpdated(penalty);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="416" endline="419" pcid="2264">
    function setDebtSnapshotStaleTime(uint _seconds) external onlyOwner {
        flexibleStorage().setDebtSnapshotStaleTime(SETTING_DEBT_SNAPSHOT_STALE_TIME, _seconds);
        emit DebtSnapshotStaleTimeUpdated(_seconds);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="411" endline="414" pcid="2263">
    function setMinimumStakeTime(uint _seconds) external onlyOwner {
        flexibleStorage().setMinimumStakeTime(SETTING_MINIMUM_STAKE_TIME, _seconds);
        emit MinimumStakeTimeUpdated(_seconds);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="309" endline="312" pcid="2249">
    function setLiquidationDelay(uint time) external onlyOwner {
        flexibleStorage().setLiquidationDelay(SETTING_LIQUIDATION_DELAY, time);
        emit LiquidationDelayUpdated(time);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="481" endline="484" pcid="2275">
    function setAtomicTwapWindow(uint _window) external onlyOwner {
        flexibleStorage().setAtomicTwapWindow(SETTING_ATOMIC_TWAP_WINDOW, _window);
        emit AtomicTwapWindowUpdated(_window);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="356" endline="359" pcid="2257">
    function setRateStalePeriod(uint period) external onlyOwner {
        flexibleStorage().setRateStalePeriod(SETTING_RATE_STALE_PERIOD, period);
        emit RateStalePeriodUpdated(period);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="331" endline="334" pcid="2252">
    function setSnxLiquidationPenalty(uint penalty) external onlyOwner {
        flexibleStorage().setSnxLiquidationPenalty(SETTING_SNX_LIQUIDATION_PENALTY, penalty);
        emit SnxLiquidationPenaltyUpdated(penalty);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="436" endline="439" pcid="2268">
    function setEtherWrapperBurnFeeRate(uint _rate) external onlyOwner {
        flexibleStorage().setEtherWrapperBurnFeeRate(SETTING_ETHER_WRAPPER_BURN_FEE_RATE, _rate);
        emit EtherWrapperBurnFeeRateUpdated(_rate);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="286" endline="289" pcid="2245">
    function setWaitingPeriodSecs(uint _waitingPeriodSecs) external onlyOwner {
        flexibleStorage().setWaitingPeriodSecs(SETTING_WAITING_PERIOD_SECS, _waitingPeriodSecs);
        emit WaitingPeriodSecsUpdated(_waitingPeriodSecs);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="299" endline="302" pcid="2247">
    function setFeePeriodDuration(uint _feePeriodDuration) external onlyOwner {
        flexibleStorage().setFeePeriodDuration(SETTING_FEE_PERIOD_DURATION, _feePeriodDuration);
        emit FeePeriodDurationUpdated(_feePeriodDuration);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="291" endline="297" pcid="2246">
    function setPriceDeviationThresholdFactor(uint _priceDeviationThresholdFactor) external onlyOwner {
        flexibleStorage().setPriceDeviationThresholdFactor(
            SETTING_PRICE_DEVIATION_THRESHOLD_FACTOR,
            _priceDeviationThresholdFactor
        );
        emit PriceDeviationThresholdUpdated(_priceDeviationThresholdFactor);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="476" endline="479" pcid="2274">
    function setAtomicMaxVolumePerBlock(uint _maxVolume) external onlyOwner {
        flexibleStorage().setAtomicMaxVolumePerBlock(SETTING_ATOMIC_MAX_VOLUME_PER_BLOCK, _maxVolume);
        emit AtomicMaxVolumePerBlockUpdated(_maxVolume);
    }
</source>
</class>

<class classid="244" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/SystemSettings.sol" startline="446" endline="454" pcid="2270">
    function setWrapperMintFeeRate(address _wrapper, int _rate) external onlyOwner {
        flexibleStorage().setWrapperMintFeeRate(
            SETTING_WRAPPER_MINT_FEE_RATE,
            _wrapper,
            _rate,
            getWrapperBurnFeeRate(_wrapper)
        );
        emit WrapperMintFeeRateUpdated(_wrapper, _rate);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="456" endline="464" pcid="2271">
    function setWrapperBurnFeeRate(address _wrapper, int _rate) external onlyOwner {
        flexibleStorage().setWrapperBurnFeeRate(
            SETTING_WRAPPER_BURN_FEE_RATE,
            _wrapper,
            _rate,
            getWrapperMintFeeRate(_wrapper)
        );
        emit WrapperBurnFeeRateUpdated(_wrapper, _rate);
    }
</source>
</class>

<class classid="245" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/SystemSettings.sol" startline="466" endline="469" pcid="2272">
    function setInteractionDelay(address _collateral, uint _interactionDelay) external onlyOwner {
        flexibleStorage().setInteractionDelay(SETTING_INTERACTION_DELAY, _collateral, _interactionDelay);
        emit InteractionDelayUpdated(_interactionDelay);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="471" endline="474" pcid="2273">
    function setCollapseFeeRate(address _collateral, uint _collapseFeeRate) external onlyOwner {
        flexibleStorage().setCollapseFeeRate(SETTING_COLLAPSE_FEE_RATE, _collateral, _collapseFeeRate);
        emit CollapseFeeRateUpdated(_collapseFeeRate);
    }
</source>
</class>

<class classid="246" nclones="3" nlines="4" similarity="100">
<source file="systems/source-code/SystemSettings.sol" startline="500" endline="507" pcid="2278">
    function setAtomicVolatilityConsiderationWindow(bytes32 _currencyKey, uint _window) external onlyOwner {
        flexibleStorage().setAtomicVolatilityConsiderationWindow(
            SETTING_ATOMIC_VOLATILITY_CONSIDERATION_WINDOW,
            _currencyKey,
            _window
        );
        emit AtomicVolatilityConsiderationWindowUpdated(_currencyKey, _window);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="527" endline="530" pcid="2281">
    function setCrossChainSynthTransferEnabled(bytes32 _currencyKey, uint _value) external onlyOwner {
        flexibleStorage().setCrossChainSynthTransferEnabled(SETTING_CROSS_SYNTH_TRANSFER_ENABLED, _currencyKey, _value);
        emit CrossChainSynthTransferEnabledUpdated(_currencyKey, _value);
    }
</source>
<source file="systems/source-code/SystemSettings.sol" startline="509" endline="516" pcid="2279">
    function setAtomicVolatilityUpdateThreshold(bytes32 _currencyKey, uint _threshold) external onlyOwner {
        flexibleStorage().setAtomicVolatilityUpdateThreshold(
            SETTING_ATOMIC_VOLATILITY_UPDATE_THRESHOLD,
            _currencyKey,
            _threshold
        );
        emit AtomicVolatilityUpdateThresholdUpdated(_currencyKey, _threshold);
    }
</source>
</class>

<class classid="247" nclones="8" nlines="3" similarity="100">
<source file="systems/source-code/SystemSettingsLib.sol" startline="95" endline="101" pcid="2286">
    function setWaitingPeriodSecs(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint _waitingPeriodSecs
    ) external {
        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, _waitingPeriodSecs);
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="164" endline="170" pcid="2292">
    function setLiquidationEscrowDuration(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint duration
    ) external {
        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, duration);
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="103" endline="109" pcid="2287">
    function setPriceDeviationThresholdFactor(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint _priceDeviationThresholdFactor
    ) external {
        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, _priceDeviationThresholdFactor);
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="253" endline="259" pcid="2301">
    function setDebtSnapshotStaleTime(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint _seconds
    ) external {
        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, _seconds);
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="203" endline="209" pcid="2296">
    function setFlagReward(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint reward
    ) external {
        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, reward);
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="219" endline="225" pcid="2298">
    function setRateStalePeriod(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint period
    ) external {
        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, period);
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="270" endline="276" pcid="2303">
    function setEtherWrapperMaxETH(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint _maxETH
    ) external {
        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, _maxETH);
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="211" endline="217" pcid="2297">
    function setLiquidateReward(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint reward
    ) external {
        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, reward);
    }
</source>
</class>

<class classid="248" nclones="3" nlines="4" similarity="100">
<source file="systems/source-code/SystemSettingsLib.sol" startline="172" endline="181" pcid="2293">
    function setSnxLiquidationPenalty(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint penalty
    ) external {
        // MAX_LIQUIDATION_PENALTY is enforced on both Collateral and SNX liquidations
        require(penalty <= MAX_LIQUIDATION_PENALTY, "penalty > MAX_LIQUIDATION_PENALTY");

        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, penalty);
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="193" endline="201" pcid="2295">
    function setLiquidationPenalty(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint penalty
    ) external {
        require(penalty <= MAX_LIQUIDATION_PENALTY, "penalty > MAX_LIQUIDATION_PENALTY");

        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, penalty);
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="183" endline="191" pcid="2294">
    function setSelfLiquidationPenalty(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        uint penalty
    ) external {
        require(penalty <= MAX_LIQUIDATION_PENALTY, "penalty > MAX_LIQUIDATION_PENALTY");

        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, settingName, penalty);
    }
</source>
</class>

<class classid="249" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/SystemSettingsLib.sol" startline="296" endline="307" pcid="2306">
    function setWrapperMaxTokenAmount(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        address _wrapper,
        uint _maxTokenAmount
    ) external {
        flexibleStorage.setUIntValue(
            SETTINGS_CONTRACT_NAME,
            keccak256(abi.encodePacked(settingName, _wrapper)),
            _maxTokenAmount
        );
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="361" endline="372" pcid="2310">
    function setCollapseFeeRate(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        address _collateral,
        uint _collapseFeeRate
    ) external {
        flexibleStorage.setUIntValue(
            SETTINGS_CONTRACT_NAME,
            keccak256(abi.encodePacked(settingName, _collateral)),
            _collapseFeeRate
        );
    }
</source>
</class>

<class classid="250" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/SystemSettingsLib.sol" startline="444" endline="455" pcid="2316">
    function setAtomicVolatilityUpdateThreshold(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        bytes32 _currencyKey,
        uint _threshold
    ) external {
        flexibleStorage.setUIntValue(
            SETTINGS_CONTRACT_NAME,
            keccak256(abi.encodePacked(settingName, _currencyKey)),
            _threshold
        );
    }
</source>
<source file="systems/source-code/SystemSettingsLib.sol" startline="470" endline="477" pcid="2318">
    function setCrossChainSynthTransferEnabled(
        IFlexibleStorage flexibleStorage,
        bytes32 settingName,
        bytes32 _currencyKey,
        uint _value
    ) external {
        flexibleStorage.setUIntValue(SETTINGS_CONTRACT_NAME, keccak256(abi.encodePacked(settingName, _currencyKey)), _value);
    }
</source>
</class>

<class classid="251" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/SystemStatus.sol" startline="63" endline="67" pcid="2324">
    function requireSynthExchangeActive(bytes32 currencyKey) external view {
        // Synth exchange and transfer requires the system be active
        _internalRequireSystemActive();
        _internalRequireSynthExchangeActive(currencyKey);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="87" endline="91" pcid="2328">
    function requireSynthActive(bytes32 currencyKey) external view {
        // Synth exchange and transfer requires the system be active
        _internalRequireSystemActive();
        _internalRequireSynthActive(currencyKey);
    }
</source>
</class>

<class classid="252" nclones="3" nlines="8" similarity="100">
<source file="systems/source-code/SystemStatus.sol" startline="120" endline="132" pcid="2332">
    function getSynthExchangeSuspensions(bytes32[] calldata synths)
        external
        view
        returns (bool[] memory exchangeSuspensions, uint256[] memory reasons)
    {
        exchangeSuspensions = new bool[](synths.length);
        reasons = new uint256[](synths.length);

        for (uint i = 0; i < synths.length; i++) {
            exchangeSuspensions[i] = synthExchangeSuspension[synths[i]].suspended;
            reasons[i] = synthExchangeSuspension[synths[i]].reason;
        }
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="149" endline="161" pcid="2334">
    function getFuturesMarketSuspensions(bytes32[] calldata marketKeys)
        external
        view
        returns (bool[] memory suspensions, uint256[] memory reasons)
    {
        suspensions = new bool[](marketKeys.length);
        reasons = new uint256[](marketKeys.length);

        for (uint i = 0; i < marketKeys.length; i++) {
            suspensions[i] = futuresMarketSuspension[marketKeys[i]].suspended;
            reasons[i] = futuresMarketSuspension[marketKeys[i]].reason;
        }
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="134" endline="146" pcid="2333">
    function getSynthSuspensions(bytes32[] calldata synths)
        external
        view
        returns (bool[] memory suspensions, uint256[] memory reasons)
    {
        suspensions = new bool[](synths.length);
        reasons = new uint256[](synths.length);

        for (uint i = 0; i < synths.length; i++) {
            suspensions[i] = synthSuspension[synths[i]].suspended;
            reasons[i] = synthSuspension[synths[i]].reason;
        }
    }
</source>
</class>

<class classid="253" nclones="4" nlines="6" similarity="80">
<source file="systems/source-code/SystemStatus.sol" startline="190" endline="195" pcid="2337">
    function suspendSystem(uint256 reason) external {
        _requireAccessToSuspend(SECTION_SYSTEM);
        systemSuspension.suspended = true;
        systemSuspension.reason = uint248(reason);
        emit SystemSuspended(systemSuspension.reason);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="204" endline="209" pcid="2339">
    function suspendIssuance(uint256 reason) external {
        _requireAccessToSuspend(SECTION_ISSUANCE);
        issuanceSuspension.suspended = true;
        issuanceSuspension.reason = uint248(reason);
        emit IssuanceSuspended(reason);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="218" endline="223" pcid="2341">
    function suspendExchange(uint256 reason) external {
        _requireAccessToSuspend(SECTION_EXCHANGE);
        exchangeSuspension.suspended = true;
        exchangeSuspension.reason = uint248(reason);
        emit ExchangeSuspended(reason);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="232" endline="237" pcid="2343">
    function suspendFutures(uint256 reason) external {
        _requireAccessToSuspend(SECTION_FUTURES);
        futuresSuspension.suspended = true;
        futuresSuspension.reason = uint248(reason);
        emit FuturesSuspended(reason);
    }
</source>
</class>

<class classid="254" nclones="4" nlines="6" similarity="100">
<source file="systems/source-code/SystemStatus.sol" startline="197" endline="202" pcid="2338">
    function resumeSystem() external {
        _requireAccessToResume(SECTION_SYSTEM);
        systemSuspension.suspended = false;
        emit SystemResumed(uint256(systemSuspension.reason));
        systemSuspension.reason = 0;
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="211" endline="216" pcid="2340">
    function resumeIssuance() external {
        _requireAccessToResume(SECTION_ISSUANCE);
        issuanceSuspension.suspended = false;
        emit IssuanceResumed(uint256(issuanceSuspension.reason));
        issuanceSuspension.reason = 0;
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="239" endline="244" pcid="2344">
    function resumeFutures() external {
        _requireAccessToResume(SECTION_FUTURES);
        futuresSuspension.suspended = false;
        emit FuturesResumed(uint256(futuresSuspension.reason));
        futuresSuspension.reason = 0;
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="225" endline="230" pcid="2342">
    function resumeExchange() external {
        _requireAccessToResume(SECTION_EXCHANGE);
        exchangeSuspension.suspended = false;
        emit ExchangeResumed(uint256(exchangeSuspension.reason));
        exchangeSuspension.reason = 0;
    }
</source>
</class>

<class classid="255" nclones="3" nlines="5" similarity="100">
<source file="systems/source-code/SystemStatus.sol" startline="247" endline="251" pcid="2345">
    function suspendFuturesMarket(bytes32 marketKey, uint256 reason) external {
        bytes32[] memory marketKeys = new bytes32[](1);
        marketKeys[0] = marketKey;
        _internalSuspendFuturesMarkets(marketKeys, reason);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="290" endline="294" pcid="2353">
    function suspendSynth(bytes32 currencyKey, uint256 reason) external {
        bytes32[] memory currencyKeys = new bytes32[](1);
        currencyKeys[0] = currencyKey;
        _internalSuspendSynths(currencyKeys, reason);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="270" endline="274" pcid="2349">
    function suspendSynthExchange(bytes32 currencyKey, uint256 reason) external {
        bytes32[] memory currencyKeys = new bytes32[](1);
        currencyKeys[0] = currencyKey;
        _internalSuspendSynthExchange(currencyKeys, reason);
    }
</source>
</class>

<class classid="256" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/SystemStatus.sol" startline="254" endline="256" pcid="2346">
    function suspendFuturesMarkets(bytes32[] calldata marketKeys, uint256 reason) external {
        _internalSuspendFuturesMarkets(marketKeys, reason);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="296" endline="298" pcid="2354">
    function suspendSynths(bytes32[] calldata currencyKeys, uint256 reason) external {
        _internalSuspendSynths(currencyKeys, reason);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="276" endline="278" pcid="2350">
    function suspendSynthsExchange(bytes32[] calldata currencyKeys, uint256 reason) external {
        _internalSuspendSynthExchange(currencyKeys, reason);
    }
</source>
</class>

<class classid="257" nclones="3" nlines="5" similarity="100">
<source file="systems/source-code/SystemStatus.sol" startline="259" endline="263" pcid="2347">
    function resumeFuturesMarket(bytes32 marketKey) external {
        bytes32[] memory marketKeys = new bytes32[](1);
        marketKeys[0] = marketKey;
        _internalResumeFuturesMarkets(marketKeys);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="300" endline="304" pcid="2355">
    function resumeSynth(bytes32 currencyKey) external {
        bytes32[] memory currencyKeys = new bytes32[](1);
        currencyKeys[0] = currencyKey;
        _internalResumeSynths(currencyKeys);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="280" endline="284" pcid="2351">
    function resumeSynthExchange(bytes32 currencyKey) external {
        bytes32[] memory currencyKeys = new bytes32[](1);
        currencyKeys[0] = currencyKey;
        _internalResumeSynthsExchange(currencyKeys);
    }
</source>
</class>

<class classid="258" nclones="3" nlines="3" similarity="100">
<source file="systems/source-code/SystemStatus.sol" startline="266" endline="268" pcid="2348">
    function resumeFuturesMarkets(bytes32[] calldata marketKeys) external {
        _internalResumeFuturesMarkets(marketKeys);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="286" endline="288" pcid="2352">
    function resumeSynthsExchange(bytes32[] calldata currencyKeys) external {
        _internalResumeSynthsExchange(currencyKeys);
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="306" endline="308" pcid="2356">
    function resumeSynths(bytes32[] calldata currencyKeys) external {
        _internalResumeSynths(currencyKeys);
    }
</source>
</class>

<class classid="259" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/SystemStatus.sol" startline="312" endline="314" pcid="2357">
    function _requireAccessToSuspend(bytes32 section) internal view {
        require(accessControl[section][msg.sender].canSuspend, "Restricted to access control list");
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="316" endline="318" pcid="2358">
    function _requireAccessToResume(bytes32 section) internal view {
        require(accessControl[section][msg.sender].canResume, "Restricted to access control list");
    }
</source>
</class>

<class classid="260" nclones="3" nlines="9" similarity="100">
<source file="systems/source-code/SystemStatus.sol" startline="353" endline="361" pcid="2366">
    function _internalSuspendSynths(bytes32[] memory currencyKeys, uint256 reason) internal {
        _requireAccessToSuspend(SECTION_SYNTH);
        for (uint i = 0; i < currencyKeys.length; i++) {
            bytes32 currencyKey = currencyKeys[i];
            synthSuspension[currencyKey].suspended = true;
            synthSuspension[currencyKey].reason = uint248(reason);
            emit SynthSuspended(currencyKey, reason);
        }
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="391" endline="399" pcid="2370">
    function _internalSuspendFuturesMarkets(bytes32[] memory marketKeys, uint256 reason) internal {
        _requireAccessToSuspend(SECTION_FUTURES);
        for (uint i = 0; i < marketKeys.length; i++) {
            bytes32 marketKey = marketKeys[i];
            futuresMarketSuspension[marketKey].suspended = true;
            futuresMarketSuspension[marketKey].reason = uint248(reason);
            emit FuturesMarketSuspended(marketKey, reason);
        }
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="372" endline="380" pcid="2368">
    function _internalSuspendSynthExchange(bytes32[] memory currencyKeys, uint256 reason) internal {
        _requireAccessToSuspend(SECTION_SYNTH_EXCHANGE);
        for (uint i = 0; i < currencyKeys.length; i++) {
            bytes32 currencyKey = currencyKeys[i];
            synthExchangeSuspension[currencyKey].suspended = true;
            synthExchangeSuspension[currencyKey].reason = uint248(reason);
            emit SynthExchangeSuspended(currencyKey, reason);
        }
    }
</source>
</class>

<class classid="261" nclones="3" nlines="8" similarity="100">
<source file="systems/source-code/SystemStatus.sol" startline="363" endline="370" pcid="2367">
    function _internalResumeSynths(bytes32[] memory currencyKeys) internal {
        _requireAccessToResume(SECTION_SYNTH);
        for (uint i = 0; i < currencyKeys.length; i++) {
            bytes32 currencyKey = currencyKeys[i];
            emit SynthResumed(currencyKey, uint256(synthSuspension[currencyKey].reason));
            delete synthSuspension[currencyKey];
        }
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="401" endline="408" pcid="2371">
    function _internalResumeFuturesMarkets(bytes32[] memory marketKeys) internal {
        _requireAccessToResume(SECTION_FUTURES);
        for (uint i = 0; i < marketKeys.length; i++) {
            bytes32 marketKey = marketKeys[i];
            emit FuturesMarketResumed(marketKey, uint256(futuresMarketSuspension[marketKey].reason));
            delete futuresMarketSuspension[marketKey];
        }
    }
</source>
<source file="systems/source-code/SystemStatus.sol" startline="382" endline="389" pcid="2369">
    function _internalResumeSynthsExchange(bytes32[] memory currencyKeys) internal {
        _requireAccessToResume(SECTION_SYNTH_EXCHANGE);
        for (uint i = 0; i < currencyKeys.length; i++) {
            bytes32 currencyKey = currencyKeys[i];
            emit SynthExchangeResumed(currencyKey, uint256(synthExchangeSuspension[currencyKey].reason));
            delete synthExchangeSuspension[currencyKey];
        }
    }
</source>
</class>

<class classid="262" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/TestableAddressSet.sol" startline="30" endline="32" pcid="2382">
    function element(uint index) public view returns (address) {
        return set.elements[index];
    }
</source>
<source file="systems/source-code/TestableBytes32Set.sol" startline="30" endline="32" pcid="2389">
    function element(uint index) public view returns (bytes32) {
        return set.elements[index];
    }
</source>
</class>

<class classid="263" nclones="2" nlines="6" similarity="80">
<source file="systems/source-code/TestableFuturesMarket.sol" startline="61" endline="66" pcid="2399">
    function currentLeverage(address account) external view returns (int leverage, bool invalid) {
        (uint price, bool isInvalid) = assetPrice();
        Position storage position = positions[account];
        uint remainingMargin_ = _remainingMargin(position, price);
        return (_currentLeverage(position, price, remainingMargin_), isInvalid);
    }
</source>
<source file="systems/source-code/TestablePerpsV2Market.sol" startline="64" endline="69" pcid="2408">
    function currentLeverage(address account) external view returns (int leverage, bool invalid) {
        (uint price, bool isInvalid) = _assetPrice();
        Position memory position = marketState.positions(account);
        uint remainingMargin_ = _remainingMargin(position, price);
        return (_currentLeverage(position, price, remainingMargin_), isInvalid);
    }
</source>
</class>

<class classid="264" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="9" endline="11" pcid="2411">
    function marketKey() external view returns (bytes32 key) {
        return "";
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="13" endline="15" pcid="2412">
    function baseAsset() external view returns (bytes32 key) {
        return "";
    }
</source>
</class>

<class classid="265" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="56" endline="58" pcid="2422">
    function currentFundingRate() external view returns (int fundingRate) {
        return 0;
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="60" endline="62" pcid="2423">
    function currentFundingVelocity() external view returns (int fundingVelocity) {
        return 0;
    }
</source>
</class>

<class classid="266" nclones="3" nlines="4" similarity="100">
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="74" endline="77" pcid="2426">
    function notionalValue(address account) external view returns (int value, bool invalid) {
        account;
        return (0, false);
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="79" endline="82" pcid="2427">
    function profitLoss(address account) external view returns (int pnl, bool invalid) {
        account;
        return (0, false);
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="84" endline="87" pcid="2428">
    function accruedFunding(address account) external view returns (int funding, bool invalid) {
        account;
        return (0, false);
    }
</source>
</class>

<class classid="267" nclones="3" nlines="4" similarity="100">
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="89" endline="92" pcid="2429">
    function remainingMargin(address account) external view returns (uint marginRemaining, bool invalid) {
        account;
        return (0, false);
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="94" endline="97" pcid="2430">
    function accessibleMargin(address account) external view returns (uint marginAccessible, bool invalid) {
        account;
        return (0, false);
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="99" endline="102" pcid="2431">
    function liquidationPrice(address account) external view returns (uint price, bool invalid) {
        account;
        return (0, false);
    }
</source>
</class>

<class classid="268" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="159" endline="162" pcid="2439">
    function modifyPosition(int sizeDelta, uint desiredFillPrice) external {
        sizeDelta;
        desiredFillPrice;
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="220" endline="223" pcid="2448">
    function submitOffchainDelayedOrder(int sizeDelta, uint desiredFillPrice) external {
        sizeDelta;
        desiredFillPrice;
    }
</source>
</class>

<class classid="269" nclones="3" nlines="5" similarity="75">
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="164" endline="172" pcid="2440">
    function modifyPositionWithTracking(
        int sizeDelta,
        uint desiredFillPrice,
        bytes32 trackingCode
    ) external {
        sizeDelta;
        desiredFillPrice;
        trackingCode;
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="198" endline="206" pcid="2446">
    function submitDelayedOrder(
        int sizeDelta,
        uint desiredTimeDelta,
        uint desiredFillPrice
    ) external {
        sizeDelta;
        desiredTimeDelta;
        desiredFillPrice;
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="225" endline="233" pcid="2449">
    function submitOffchainDelayedOrderWithTracking(
        int sizeDelta,
        uint desiredFillPrice,
        bytes32 trackingCode
    ) external {
        sizeDelta;
        desiredFillPrice;
        trackingCode;
    }
</source>
</class>

<class classid="270" nclones="2" nlines="4" similarity="100">
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="236" endline="239" pcid="2450">
    function executeOrder(address account, bytes[] calldata priceUpdateData) external payable {
        account;
        priceUpdateData;
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="249" endline="252" pcid="2453">
    function executeOffchainDelayedOrder(address account, bytes[] calldata priceUpdateData) external payable {
        account;
        priceUpdateData;
    }
</source>
</class>

<class classid="271" nclones="4" nlines="3" similarity="100">
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="241" endline="243" pcid="2451">
    function cancelOrder(address account) external {
        account;
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="258" endline="260" pcid="2455">
    function cancelOffchainDelayedOrder(address account) external {
        account;
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="245" endline="247" pcid="2452">
    function executeDelayedOrder(address account) external {
        account;
    }
</source>
<source file="systems/source-code/TestablePerpsV2MarketEmpty.sol" startline="254" endline="256" pcid="2454">
    function cancelDelayedOrder(address account) external {
        account;
    }
</source>
</class>

<class classid="272" nclones="2" nlines="3" similarity="100">
<source file="systems/source-code/TokenExchanger.sol" startline="27" endline="29" pcid="2462">
    function checkBalance(address account) public view synthetixProxyIsSet returns (uint) {
        return IERC20(integrationProxy).balanceOf(account);
    }
</source>
<source file="systems/source-code/TokenExchanger.sol" startline="35" endline="37" pcid="2464">
    function checkBalanceSNXDirect(address account) public view synthetixProxyIsSet returns (uint) {
        return IERC20(synthetix).balanceOf(account);
    }
</source>
</class>

<class classid="273" nclones="5" nlines="3" similarity="100">
<source file="systems/source-code/TradingRewards.sol" startline="94" endline="96" pcid="2477">
    function getPeriodIsClaimable(uint periodID) external view returns (bool) {
        return _periods[periodID].isFinalized;
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="106" endline="108" pcid="2480">
    function getPeriodTotalRewards(uint periodID) external view returns (uint) {
        return _periods[periodID].totalRewards;
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="110" endline="112" pcid="2481">
    function getPeriodAvailableRewards(uint periodID) external view returns (uint) {
        return _periods[periodID].availableRewards;
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="98" endline="100" pcid="2478">
    function getPeriodIsFinalized(uint periodID) external view returns (bool) {
        return _periods[periodID].isFinalized;
    }
</source>
<source file="systems/source-code/TradingRewards.sol" startline="102" endline="104" pcid="2479">
    function getPeriodRecordedFees(uint periodID) external view returns (uint) {
        return _periods[periodID].recordedFees;
    }
</source>
</class>

</clones>
